!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=136)}([function(e,t){e.exports=React},function(e,t,n){"use strict";function r(e,t){return e===t}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,s=null;return function(){return function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,s=0;s<r;s++)if(!e(t[s],n[s]))return!1;return!0}(t,n,arguments)||(s=e.apply(null,arguments)),n=arguments,s}}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=0,a=r.pop(),c=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(r),l=e.apply(void 0,[function(){return i++,a.apply(null,arguments)}].concat(n)),u=s(function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return l.apply(null,e)});return u.resultFunc=a,u.recomputations=function(){return i},u.resetRecomputations=function(){return i=0},u}}t.__esModule=!0,t.defaultMemoize=s,t.createSelectorCreator=o,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})};var i=t.createSelector=o(s)},function(e,t,n){"use strict";const r=new(n(9).a);t.a=r},function(e,t,n){for(var r=n(133),s=n(57),o=n(35),i=n(7),a=n(10),c=n(37),l=n(11),u=l("iterator"),d=l("toStringTag"),p=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=s(h),f=0;f<m.length;f++){var g,_=m[f],b=h[_],v=i[_],y=v&&v.prototype;if(y&&(y[u]||a(y,u,p),y[d]||a(y,d,_),c[_]=p,b))for(g in r)y[g]||o(y,g,r[g],!0)}},function(e,t,n){"use strict";n.r(t);var r=n(23);n.d(t,"createStore",function(){return r.b});var s=n(28);n.d(t,"combineReducers",function(){return s.a});var o=n(27);n.d(t,"bindActionCreators",function(){return o.a});var i=n(26);n.d(t,"applyMiddleware",function(){return i.a});var a=n(22);n.d(t,"compose",function(){return a.a});n(52)},function(e,t,n){e.exports=n(112)()},function(e,t,n){"use strict";n(3);t.a=class{constructor(){this._events={}}on(e,t,n){this._events[e]||(this._events[e]=[]),this._events[e].push({listener:t,context:n})}off(e,t){if(!this._events[e])return;const n=this._events[e],{length:r}=n;for(let e=0;e<r;e++)if(n[e].listener===t)return void n.splice(e,1)}once(e,t,n){const r=()=>{this.off(e,t),this.off(e,r)};this.on(e,t,n),this.on(e,r)}addListener(...e){return this.on(...e)}removeListener(...e){return this.off(...e)}emit(e,...t){this._events[e]&&this._events[e].slice().forEach(({listener:e,context:n})=>{e.apply(n,t)})}}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){let t=!1;const n=(...n)=>{t||e(...n)};return n.cancel=(()=>{t=!0,"function"==typeof e.onCancel&&e.onCancel()}),n}},function(e,t,n){"use strict";n(3);var r=n(6);const s="log",o="warn",i="error",a={[i]:!0,[o]:!0,[s]:!0};t.a=class{constructor(e={},t){this._namespace="zenLogger",this._eventEmitter=new r.a,this.configure=((e={})=>{this._config=Object.assign({},this._config,e)}),this._defaultLogger=((e,t)=>{e===i?console.error(`${this._namespace}:`,...t):e===o?console.warn(`${this._namespace}:`,...t):e===s&&console.log(`${this._namespace}:`,...t)}),this._loggerProxy=((e,t)=>{this._eventEmitter.emit(e,t),!0===this._config[e]&&this._defaultLogger(e,t)}),this.error=((...e)=>{this._loggerProxy(i,e)}),this.warn=((...e)=>{this._loggerProxy(o,e)}),this.log=((...e)=>{this._loggerProxy(s,e)}),this.removeListener=((e,t=[s,o,i])=>{t.forEach(t=>{this._eventEmitter.removeListener(t,e)})}),this.addListener=((e,t=[s,o,i])=>(t.forEach(t=>{this._eventEmitter.addListener(t,e)}),()=>this.removeListener(e,t))),this._config=Object.assign({},a,e),t&&t.toString&&(this._namespace=t.toString())}}},function(e,t,n){var r=n(20),s=n(61);e.exports=n(19)?function(e,t,n){return r.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(63)("wks"),s=n(40),o=n(7).Symbol,i="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=i&&o[e]||(i?o:s)("Symbol."+e))}).store=r},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,function(){"use strict";"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;function e(e,t){return e(t={exports:{}},t.exports),t.exports}var n=e(function(e,t){e.exports=function(){function e(e){var t=e&&"object"==typeof e;return t&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var s=n&&!0===n.clone;return s&&e(t)?r(function(e){return Array.isArray(e)?[]:{}}(t),t,n):t}function n(n,s,o){var i=n.slice();return s.forEach(function(s,a){void 0===i[a]?i[a]=t(s,o):e(s)?i[a]=r(n[a],s,o):-1===n.indexOf(s)&&i.push(t(s,o))}),i}function r(s,o,i){var a=Array.isArray(o),c=i||{arrayMerge:n},l=c.arrayMerge||n;return a?Array.isArray(s)?l(s,o,i):t(o,i):function(n,s,o){var i={};return e(n)&&Object.keys(n).forEach(function(e){i[e]=t(n[e],o)}),Object.keys(s).forEach(function(a){e(s[a])&&n[a]?i[a]=r(n[a],s[a],o):i[a]=t(s[a],o)}),i}(s,o,i)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return r(e,n,t)})},r}()});var r=e(function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default}),s=r.svg,o=r.xlink,i={};i[s.name]=s.uri,i[o.name]=o.uri;var a,c=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(n(i,t||{}))+">"+e+"</svg>"},l=r.svg,u=r.xlink,d={attrs:(a={style:["position: absolute","width: 0","height: 0"].join("; ")},a[l.name]=l.uri,a[u.name]=u.uri,a)},p=function(e){this.config=n(d,e||{}),this.symbols=[]};p.prototype.add=function(e){var t=this.symbols,n=this.find(e.id);return n?(t[t.indexOf(n)]=e,!1):(t.push(e),!0)},p.prototype.remove=function(e){var t=this.symbols,n=this.find(e);return!!n&&(t.splice(t.indexOf(n),1),n.destroy(),!0)},p.prototype.find=function(e){return this.symbols.filter(function(t){return t.id===e})[0]||null},p.prototype.has=function(e){return null!==this.find(e)},p.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map(function(e){return e.stringify()}).join("");return c(t,e)},p.prototype.toString=function(){return this.stringify()},p.prototype.destroy=function(){this.symbols.forEach(function(e){return e.destroy()})};var h=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};h.prototype.stringify=function(){return this.content},h.prototype.toString=function(){return this.stringify()},h.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};var m=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},f=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return m(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(h),g={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},_=function(e){return Array.prototype.slice.call(e,0)},b=navigator.userAgent,v={isChrome:/chrome/i.test(b),isFirefox:/firefox/i.test(b),isIE:/msie/i.test(b)||/trident/i.test(b),isEdge:/edge/i.test(b)},y=function(e){var t=[];return _(e.querySelectorAll("style")).forEach(function(e){e.textContent+="",t.push(e)}),t},E=function(e){return(e||window.location.href).split("#")[0]},k=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",function(t,n,r){!function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!1,!1,t),window.dispatchEvent(n)}(e,{oldUrl:r,newUrl:n})})}])},C=function(e,t){return void 0===t&&(t="linearGradient, radialGradient, pattern"),_(e.querySelectorAll("symbol")).forEach(function(e){_(e.querySelectorAll(t)).forEach(function(t){e.parentNode.insertBefore(t,e)})}),e};var w=r.xlink.uri,S="xlink:href",x=/[{}|\\\^\[\]`"<>]/g;function O(e){return e.replace(x,function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()})}var I,T=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],N=T.map(function(e){return"["+e+"]"}).join(","),R=function(e,t,n,r){var s=O(n),o=O(r);(function(e,t){return _(e).reduce(function(e,n){if(!n.attributes)return e;var r=_(n.attributes),s=t?r.filter(t):r;return e.concat(s)},[])})(e.querySelectorAll(N),function(e){var t=e.localName,n=e.value;return-1!==T.indexOf(t)&&-1!==n.indexOf("url("+s)}).forEach(function(e){return e.value=e.value.replace(s,o)}),function(e,t,n){_(e).forEach(function(e){var r=e.getAttribute(S);if(r&&0===r.indexOf(t)){var s=r.replace(t,n);e.setAttributeNS(w,S,s)}})}(t,s,o)},P={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"},A=function(e){function t(t){var r=this;void 0===t&&(t={}),e.call(this,n(g,t));var s=function(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).map(function(e){e(n)}),(e["*"]||[]).map(function(e){e(t,n)})}}}();this._emitter=s,this.node=null;var o=this.config;if(o.autoConfigure&&this._autoConfigure(t),o.syncUrlsWithBaseTag){var i=document.getElementsByTagName("base")[0].getAttribute("href");s.on(P.MOUNT,function(){return r.updateUrls("#",i)})}var a=this._handleLocationChange.bind(this);this._handleLocationChange=a,o.listenLocationChangeEvent&&window.addEventListener(o.locationChangeEvent,a),o.locationChangeAngularEmitter&&k(o.locationChangeEvent),s.on(P.MOUNT,function(e){o.moveGradientsOutsideSymbol&&C(e)}),s.on(P.SYMBOL_MOUNT,function(e){o.moveGradientsOutsideSymbol&&C(e.parentNode),(v.isIE||v.isEdge)&&y(e)})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.prototype._autoConfigure=function(e){var t=this.config;void 0===e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter="angular"in window),void 0===e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=v.isFirefox)},t.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,r=t.newUrl;this.updateUrls(n,r)},t.prototype.add=function(t){var n=e.prototype.add.call(this,t);return this.isMounted&&n&&(t.mount(this.node),this._emitter.emit(P.SYMBOL_MOUNT,t.node)),n},t.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e;return n.node=r,this.symbols.forEach(function(e){e.mount(n.node),t._emitter.emit(P.SYMBOL_MOUNT,e.node)}),_(r.querySelectorAll("symbol")).forEach(function(e){var t=f.createFromExistingNode(e);t.node=e,n.add(t)}),this._emitter.emit(P.MOUNT,r),r},t.prototype.destroy=function(){var e=this.config,t=this.symbols,n=this._emitter;t.forEach(function(e){return e.destroy()}),n.off("*"),window.removeEventListener(e.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},t.prototype.mount=function(e,t){void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1);if(this.isMounted)return this.node;var n="string"==typeof e?document.querySelector(e):e,r=this.render();return this.node=r,t&&n.childNodes[0]?n.insertBefore(r,n.childNodes[0]):n.appendChild(r),this._emitter.emit(P.MOUNT,r),r},t.prototype.render=function(){return m(this.stringify())},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},t.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return R(this.node,n,E(e)+"#",E(t)+"#"),!0},Object.defineProperties(t.prototype,r),t}(p),M=e(function(e){
/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
e.exports=function(){var e,t=[],n=document,r=(n.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return r||n.addEventListener("DOMContentLoaded",e=function(){for(n.removeEventListener("DOMContentLoaded",e),r=1;e=t.shift();)e()}),function(e){r?setTimeout(e,0):t.push(e)}}()});!!window.__SVG_SPRITE__?I=window.__SVG_SPRITE__:(I=new A({attrs:{id:"__SVG_SPRITE_NODE__"}}),window.__SVG_SPRITE__=I);var D=function(){var e=document.getElementById("__SVG_SPRITE_NODE__");e?I.attach(e):I.mount(document.body,!0)};return document.body?D():M(D),I})}).call(this,n(14))},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,function(){"use strict";var e=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r=n(function(e,t){e.exports=function(){function e(e){var t=e&&"object"==typeof e;return t&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var s=n&&!0===n.clone;return s&&e(t)?r(function(e){return Array.isArray(e)?[]:{}}(t),t,n):t}function n(n,s,o){var i=n.slice();return s.forEach(function(s,a){void 0===i[a]?i[a]=t(s,o):e(s)?i[a]=r(n[a],s,o):-1===n.indexOf(s)&&i.push(t(s,o))}),i}function r(s,o,i){var a=Array.isArray(o),c=i||{arrayMerge:n},l=c.arrayMerge||n;return a?Array.isArray(s)?l(s,o,i):t(o,i):function(n,s,o){var i={};return e(n)&&Object.keys(n).forEach(function(e){i[e]=t(n[e],o)}),Object.keys(s).forEach(function(a){e(s[a])&&n[a]?i[a]=r(n[a],s[a],o):i[a]=t(s[a],o)}),i}(s,o,i)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return r(e,n,t)})},r}()}),s=n(function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default}),o=s.svg,i=s.xlink,a={};a[o.name]=o.uri,a[i.name]=i.uri;var c=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(r(a,t||{}))+">"+e+"</svg>"};return function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n}(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(e)})}).call(this,n(14))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r;!function(t){"use strict";var s=function(){},o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function i(){this.reads=[],this.writes=[],this.raf=o.bind(t),s("initialized",this)}function a(e){e.scheduled||(e.scheduled=!0,e.raf(function(e){s("flush");var t,n=e.writes,r=e.reads;try{s("flushing reads",r.length),c(r),s("flushing writes",n.length),c(n)}catch(e){t=e}e.scheduled=!1,(r.length||n.length)&&a(e);if(t){if(s("task errored",t.message),!e.catch)throw t;e.catch(t)}}.bind(null,e)),s("flush scheduled"))}function c(e){var t;for(s("run tasks");t=e.shift();)t()}function l(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}i.prototype={constructor:i,measure:function(e,t){s("measure");var n=t?e.bind(t):e;return this.reads.push(n),a(this),n},mutate:function(e,t){s("mutate");var n=t?e.bind(t):e;return this.writes.push(n),a(this),n},clear:function(e){return s("clear",e),l(this.reads,e)||l(this.writes,e)},extend:function(e){if(s("extend",e),"object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var u=t.fastdom=t.fastdom||new i;"f"=="function"[0]?void 0===(r=function(){return u}.call(u,n,u,e))||(e.exports=r):"o"==(typeof e)[0]&&(e.exports=u)}("undefined"!=typeof window?window:this)},function(e,t,n){e.exports=n(96)()},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){e.exports=!n(18)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(39),s=n(131),o=n(130),i=Object.defineProperty;t.f=n(19)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),s)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1],s=t.slice(0,-1);return function(){return s.reduceRight(function(e,t){return t(e)},r.apply(void 0,arguments))}}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=n(24),s=n(44),o=n.n(s),i={INIT:"@@redux/INIT"};function a(e,t,n){var s;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,l=t,u=[],d=u,p=!1;function h(){d===u&&(d=u.slice())}function m(){return l}function f(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return h(),d.push(e),function(){if(t){t=!1,h();var n=d.indexOf(e);d.splice(n,1)}}}function g(e){if(!Object(r.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,l=c(l,e)}finally{p=!1}for(var t=u=d,n=0;n<t.length;n++)t[n]();return e}return g({type:i.INIT}),(s={dispatch:g,subscribe:f,getState:m,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,g({type:i.INIT})}})[o.a]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[o.a]=function(){return this},e},s}},function(e,t,n){"use strict";var r=n(75),s="object"==typeof self&&self&&self.Object===Object&&self,o=(r.a||s||Function("return this")()).Symbol,i=Object.prototype,a=i.hasOwnProperty,c=i.toString,l=o?o.toStringTag:void 0;var u=function(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var s=c.call(e);return r&&(t?e[l]=n:delete e[l]),s},d=Object.prototype.toString;var p=function(e){return d.call(e)},h="[object Null]",m="[object Undefined]",f=o?o.toStringTag:void 0;var g=function(e){return null==e?void 0===e?m:h:f&&f in Object(e)?u(e):p(e)};var _=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var b=function(e){return null!=e&&"object"==typeof e},v="[object Object]",y=Function.prototype,E=Object.prototype,k=y.toString,C=E.hasOwnProperty,w=k.call(Object);t.a=function(e){if(!b(e)||g(e)!=v)return!1;var t=_(e);if(null===t)return!0;var n=C.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&k.call(n)==w}},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(22),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,o,i){var a,c=e(n,o,i),l=c.dispatch,u={getState:c.getState,dispatch:function(e){return l(e)}};return a=t.map(function(e){return e(u)}),l=r.a.apply(void 0,a)(c.dispatch),s({},c,{dispatch:l})}}}},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function s(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),s={},o=0;o<n.length;o++){var i=n[o],a=e[i];"function"==typeof a&&(s[i]=r(a,t))}return s}n.d(t,"a",function(){return s})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(23);n(24),n(52);function s(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++){var i=t[o];0,"function"==typeof e[i]&&(n[i]=e[i])}var a,c=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:r.a.INIT}))throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+r.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}(n)}catch(e){a=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(a)throw a;for(var r=!1,o={},i=0;i<c.length;i++){var l=c[i],u=n[l],d=e[l],p=u(d,t);if(void 0===p){var h=s(l,t);throw new Error(h)}o[l]=p,r=r||p!==d}return r?o:e}}},function(e,t){e.exports={NAMESPACE:"YandexZen"}},function(e,t,n){const r={WHITE:"white-background",LIGHT:"white",DARK:"black"},s={no_amp_links:!0,forced_bulk_stats:!0,blurred_preview:!0,big_card_images:!0,complaints_with_reasons:!0,pass_experiments:!0,video_providers:["yandex-web","youtube","youtube-web"],screen:{dpi:241},need_background_image:!0,color_theme:r.LIGHT,no_small_auth:!0,need_main_color:!0,need_zen_one_data:!0,interests_supported:!0,return_sources:!0,screens:["feed","category","categories","profile","switchable_subs","suggest","blocked","preferences","blocked_suggest","video_recommend","language","comments_counter"],stat_params_with_context:!0};e.exports={REZEN_COLOR_THEMES:r,DEFAULT_REZEN_ZEN_FEATURES:s}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,s,o,i,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,s,o,i,a],u=0;(c=new Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function r(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function s(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function o(e,n){function r(){var e=o;s(e)&&e.a.parentNode&&n(e.g)}var o=e;t(e.b,r),t(e.c,r),s(e)}function i(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var a=null,c=null,l=null,u=null;function d(){return null===u&&(u=!!document.fonts),u}function p(e,t){return[e.style,e.weight,function(){if(null===l){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}l=""!==e.style.font}return l}()?e.stretch:"","100px",t].join(" ")}i.prototype.load=function(e,t){var s=this,i=e||"BESbswy",l=0,u=t||3e3,h=(new Date).getTime();return new Promise(function(e,t){if(d()&&!function(){if(null===c)if(d()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);c=!!e&&603>parseInt(e[1],10)}else c=!1;return c}()){var m=new Promise(function(e,t){!function n(){(new Date).getTime()-h>=u?t():document.fonts.load(p(s,'"'+s.family+'"'),i).then(function(t){1<=t.length?e():setTimeout(n,25)},function(){t()})}()}),f=new Promise(function(e,t){l=setTimeout(t,u)});Promise.race([f,m]).then(function(){clearTimeout(l),e(s)},function(){t(s)})}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}(function(){function c(){var t;(t=-1!=g&&-1!=_||-1!=g&&-1!=b||-1!=_&&-1!=b)&&((t=g!=_&&g!=b&&_!=b)||(null===a&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),a=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=a&&(g==v&&_==v&&b==v||g==y&&_==y&&b==y||g==E&&_==E&&b==E)),t=!t),t&&(k.parentNode&&k.parentNode.removeChild(k),clearTimeout(l),e(s))}var d=new n(i),m=new n(i),f=new n(i),g=-1,_=-1,b=-1,v=-1,y=-1,E=-1,k=document.createElement("div");k.dir="ltr",r(d,p(s,"sans-serif")),r(m,p(s,"serif")),r(f,p(s,"monospace")),k.appendChild(d.a),k.appendChild(m.a),k.appendChild(f.a),document.body.appendChild(k),v=d.a.offsetWidth,y=m.a.offsetWidth,E=f.a.offsetWidth,function e(){if((new Date).getTime()-h>=u)k.parentNode&&k.parentNode.removeChild(k),t(s);else{var n=document.hidden;!0!==n&&void 0!==n||(g=d.a.offsetWidth,_=m.a.offsetWidth,b=f.a.offsetWidth,c()),l=setTimeout(e,50)}}(),o(d,function(e){g=e,c()}),r(d,p(s,'"'+s.family+'",sans-serif')),o(m,function(e){_=e,c()}),r(m,p(s,'"'+s.family+'",serif')),o(f,function(e){b=e,c()}),r(f,p(s,'"'+s.family+'",monospace'))})})},e.exports=i}()},,function(e,t,n){var r=n(63)("keys"),s=n(40);e.exports=function(e){return r[e]||(r[e]=s(e))}},function(e,t,n){var r=n(7),s=n(10),o=n(17),i=n(40)("src"),a=Function.toString,c=(""+a).split("toString");n(21).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,a){var l="function"==typeof n;l&&(o(n,"name")||s(n,"name",t)),e[t]!==n&&(l&&(o(n,i)||s(n,i,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:a?e[t]?e[t]=n:s(e,t,n):(delete e[t],s(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[i]||a.call(this)})},function(e,t,n){var r=n(128),s=n(60);e.exports=function(e){return r(s(e))}},function(e,t){e.exports={}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(38);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=!1},function(e,t,n){"use strict";e.exports=n(110)},function(e){e.exports={header:{height:"166px"},feed:{marginBetweenRows:"8px"},zenOne:{header:{height:"74px"}}}},function(e,t,n){e.exports=n(115)},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;var r,s=Array.isArray(t),o=Array.isArray(n);if(s&&o){if(t.length!=n.length)return!1;for(r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(s!=o)return!1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var i=Object.keys(t);if(i.length!==Object.keys(n).length)return!1;var a=t instanceof Date,c=n instanceof Date;if(a&&c)return t.getTime()==n.getTime();if(a!=c)return!1;var l=t instanceof RegExp,u=n instanceof RegExp;if(l&&u)return t.toString()==n.toString();if(l!=u)return!1;for(r=0;r<i.length;r++)if(!Object.prototype.hasOwnProperty.call(n,i[r]))return!1;for(r=0;r<i.length;r++)if(!e(t[i[r]],n[i[r]]))return!1;return!0}return!1}},,function(e,t,n){"use strict";t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};s(n(0));var r=s(n(16));function s(e){return e&&e.__esModule?e:{default:e}}t.nameShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,leave:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterActive:r.default.string,leave:r.default.string,leaveActive:r.default.string,appear:r.default.string,appearActive:r.default.string})])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},function(e,t,n){var r=n(50).Symbol;e.exports=r},function(e,t,n){var r=n(104),s="object"==typeof self&&self&&self.Object===Object&&self,o=r||s||Function("return this")();e.exports=o},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict"},function(e,t,n){var r=n(60);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(20).f,s=n(17),o=n(11)("toStringTag");e.exports=function(e,t,n){e&&!s(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(121),s=n(55);e.exports=Object.keys||function(e){return r(e,s)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(7),s=n(21),o=n(10),i=n(35),a=n(125),c=function(e,t,n){var l,u,d,p,h=e&c.F,m=e&c.G,f=e&c.S,g=e&c.P,_=e&c.B,b=m?r:f?r[t]||(r[t]={}):(r[t]||{}).prototype,v=m?s:s[t]||(s[t]={}),y=v.prototype||(v.prototype={});for(l in m&&(n=t),n)d=((u=!h&&b&&void 0!==b[l])?b:n)[l],p=_&&u?a(d,r):g&&"function"==typeof d?a(Function.call,d):d,b&&i(b,l,d,e&c.U),v[l]!=d&&o(v,l,p),g&&y[l]!=d&&(y[l]=d)};r.core=s,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(38),s=n(7).document,o=r(s)&&r(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},function(e,t,n){var r=n(21),s=n(7),o=s["__core-js_shared__"]||(s["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(41)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e){e.exports={a:{ru:"https://direct.yandex.ru/?partner",tr:"https://direct.yandex.com.tr/?partner"}}},function(e){e.exports={small:{width:"23px",height:"32px",margin:"3px",ratio:1},medium:{width:"30px",height:"42px",margin:"9px",ratio:1.3}}},function(e,t,n){"use strict";e.exports=n(97)},function(e,t,n){"use strict";(function(e){t.a=(({className:t})=>e.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 15 15"},e.createElement("path",{fillRule:"nonzero",d:"M4.382 2.968a5.5 5.5 0 0 1 7.65 7.65l-7.65-7.65zM2.968 4.382l7.65 7.65a5.5 5.5 0 0 1-7.65-7.65zM7.5 0a7.5 7.5 0 1 0 0 15 7.5 7.5 0 0 0 0-15z"})))}).call(this,n(0))},function(e,t,n){"use strict";(function(e){t.a=(({className:t})=>e.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"15",viewBox:"0 0 14 15"},e.createElement("path",{fillRule:"evenodd",d:"M5.314 13.182C4.021 14.486 2.25 15.09 0 14.99c1.261-.673 1.94-1.867 2.038-3.582C.778 10.197 0 8.53 0 6.689 0 2.995 3.134 0 7 0s7 2.995 7 6.689-3.134 6.688-7 6.688a7.326 7.326 0 0 1-1.686-.195zM7.762 3.087H6.213l.184 4.792h1.171l.194-4.792zm-.774 7.203a.93.93 0 0 0 .382-.08.986.986 0 0 0 .31-.214c.087-.09.156-.192.208-.308a.91.91 0 0 0 .077-.374.91.91 0 0 0-.077-.374 1.052 1.052 0 0 0-.208-.309.921.921 0 0 0-.31-.209.983.983 0 0 0-.382-.074.983.983 0 0 0-.988.966.91.91 0 0 0 .077.374 1.047 1.047 0 0 0 .528.523.93.93 0 0 0 .383.08z"})))}).call(this,n(0))},function(e,t,n){var r=n(51),s=n(105),o=n(103),i="Expected a function",a=Math.max,c=Math.min;e.exports=function(e,t,n){var l,u,d,p,h,m,f=0,g=!1,_=!1,b=!0;if("function"!=typeof e)throw new TypeError(i);function v(t){var n=l,r=u;return l=u=void 0,f=t,p=e.apply(r,n)}function y(e){var n=e-m;return void 0===m||n>=t||n<0||_&&e-f>=d}function E(){var e=s();if(y(e))return k(e);h=setTimeout(E,function(e){var n=t-(e-m);return _?c(n,d-(e-f)):n}(e))}function k(e){return h=void 0,b&&l?v(e):(l=u=void 0,p)}function C(){var e=s(),n=y(e);if(l=arguments,u=this,m=e,n){if(void 0===h)return function(e){return f=e,h=setTimeout(E,t),g?v(e):p}(m);if(_)return h=setTimeout(E,t),v(m)}return void 0===h&&(h=setTimeout(E,t)),p}return t=o(t)||0,r(n)&&(g=!!n.leading,d=(_="maxWait"in n)?a(o(n.maxWait)||0,t):d,b="trailing"in n?!!n.trailing:b),C.cancel=function(){void 0!==h&&clearTimeout(h),f=0,l=m=u=h=void 0},C.flush=function(){return void 0===h?p:k(s())},C}},function(e){e.exports={"lib-prefix":"zen-ui",colors:{blue:"#07f","blue-pair":"#f0f7ff","blue-light":"#d2ebff","blue-light-pair":"#214a6e",yellow:"#fc0","yellow-pair":"#241c00","yellow-light":"#fff8d9",red:"#f00000","red-pair":"#fcecec","red-light":"#ffd5d5","red-light-pair":"#f11111",green:"#00c000","green-pair":"#ebfaeb","gray-warm":"#f3f1ed","gray-warm-pair":"#4b4a49","gray-42":"#424242","gray-666":"#666","gray-a1":"#a1a1a1",border:"rgba(0, 0, 0, 0.2)","border-light":"rgba(255, 255, 255, 0.17)",disabled:"rgba(0, 0, 0, 0.08)","page-fade":"rgba(0, 0, 0, 0.12)","page-background":"#fcfcfc","disabled-text":"#a1a1a1",placeholder:"#a1a1a1","disabled-back":"#e8e8e8","checkbox-back":"#f3f1ed","checkbox-back-hover":"#f1eeea","checkbox-back-checked":"#d2ebff","checkbox-back-checked-hover":"#c7e6ff","checkbox-tick":"#0476ff"}}},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(s){return"function"==typeof s?s(n,r,e):t(s)}}}}t.__esModule=!0;var s=r();s.withExtraArgument=r,t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),r.hasSupport=e}}};r.update(),t.default=r},function(e,t){e.exports={getPartnerMetrikaCounterIds:({partner:e})=>{switch(e){case"omniwi":return 46113984;case"helium":return 46191072;case"osmium":return 46215975;default:return 44046119}},commonMetrikaCounterId:51446871}},function(e,t,n){"use strict";var r=n(42),s=(n(0),{childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0}),o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={};i[r.ForwardRef]={$$typeof:!0,render:!0};var a=Object.defineProperty,c=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var h=d(n);h&&h!==p&&e(t,h,r)}var m=c(n);l&&(m=m.concat(l(n)));for(var f=i[t.$$typeof]||s,g=i[n.$$typeof]||s,_=0;_<m.length;++_){var b=m[_];if(!(o[b]||r&&r[b]||g&&g[b]||f&&f[b])){var v=u(n,b);try{a(t,b,v)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(14))},function(e,t,n){var r,s;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(o){if(void 0===(s="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=s),!0,e.exports=o(),!!0){var i=window.Cookies,a=window.Cookies=o();a.noConflict=function(){return window.Cookies=i,a}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,s,o){var i;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=e({path:"/"},r.defaults,o)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*o.expires),o.expires=a}o.expires=o.expires?o.expires.toUTCString():"";try{i=JSON.stringify(s),/^[\{\[]/.test(i)&&(s=i)}catch(e){}s=n.write?n.write(s,t):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var l in o)o[l]&&(c+="; "+l,!0!==o[l]&&(c+="="+o[l]));return document.cookie=t+"="+s+c}t||(i={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,p=0;p<u.length;p++){var h=u[p].split("="),m=h.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var f=h[0].replace(d,decodeURIComponent);if(m=n.read?n.read(m,f):n(m,f)||m.replace(d,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(e){}if(t===f){i=m;break}t||(i[f]=m)}catch(e){}}return i}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})})},function(e,t,n){"use strict";n.r(t);n(3);var r=n(32),s=n.n(r),o=n(2);const i=new s.a("regular-ysans"),a=new s.a("bold-ysans"),c=new s.a("medium-ysans");window._fontsLoadPromise=Promise.all([i.load(),a.load(),c.load()]).then(()=>{window._isFontsLoaded=!0,document.documentElement.className+=" fonts-loaded"}).catch(e=>{o.a.warn(`Error on font face observer: ${JSON.stringify(e,null,2)}`)})},function(e,t,n){"use strict";n.r(t);var r=n(2);n(3);function s(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}var o=n(6);const i=/[?&]([^&#]*)/,a=e=>{const t=Object.keys(e);return 0===t.length?"":t.reduce((t,n)=>{if(!n||void 0===e[n])return t;return`${t}${0===t.length?"?":"&"}${encodeURIComponent(n)}=${encodeURIComponent(e[n])}`},"")},c=(e,t)=>{const n=Object.assign({},(e=>{const t={},n=e.indexOf("?");if(-1===n)return t;let r=n;for(;;){const n=e.slice(r).match(i);if(!n)break;r+=n[0].length;const[s,o=""]=n[1].split("=");s&&(t[decodeURIComponent(s)]=decodeURIComponent(o))}return t})(e),t),r=e.indexOf("?"),s=e.indexOf("#"),o=-1!==s?s:e.length,c=-1!==r?r:o;return e.slice(0,c)+a(n)+e.slice(o)},l={timeouts:[5e3,1e4,15e3]};var u=(e,t)=>{let n,s;const o=e=>{n=Object.assign({},l,e)},i=({args:t,timeouts:o=n.timeouts,withoutAction:i=!1,withoutRetries:a=!1,onTryComplete:c=(e=>{if(e.isRejected)throw e.error;return e.value})}={})=>{const l=(e=>"function"!=typeof e?()=>e:e)(t),u=(e=>Array.isArray(e)?t=>t<e.length?e[t]:null:"function"!=typeof e?()=>e:e)(o);let d,p,h=0,m=!1,f=!1;const g=()=>d===s,_=()=>!m&&!f,b=()=>!a&&_()&&g(),v=()=>{_()&&(p&&p(),f=!0)},y=()=>{const t=l(h);let n;return Array.isArray(t)?n=e(...t):(null!=t&&r.a.warn("Expected action arguments to be an array or null/undefined."),n=e()),n.then(e=>c({value:e,tryNumber:h,isFulfilled:!0,isRejected:!1,isLastSession:g,abortRetries:v}),e=>c({error:e,tryNumber:h,isFulfilled:!1,isRejected:!0,isLastSession:g,abortRetries:v}))},E=e=>{if(b()){const t=u(h);if("number"==typeof t)return h++,(e=>new Promise((t,n)=>{p=(()=>{p=null,n(new Error("Retries aborted."))}),setTimeout(()=>{p=null,t()},e)}))(t).then(()=>{if(b())return y().catch(E);throw e});null!=t&&r.a.warn("Expected action timeout to be a number or null/undefined.")}throw e},k=i?Promise.reject(new Error("Generated error by 'withoutAction' call.")):y(),C=((e,t)=>e.then(e=>(t(e),e),e=>{throw t(e),e}))(k.catch(E),()=>{m=!0});return s&&s.abortRetries(),s=d={actionResult:k,retriesResult:C,isLastSession:g,isInProgress:_,abortRetries:v}};o(t);const a=(...e)=>i({args:e});return a.startSession=i,a.setOptions=o,a},d=n(45),p=n.n(d);var h=(e,t)=>{const n=Object.keys(e),r={};for(let s=0;s<n.length;s++){const o=n[s];-1===t.indexOf(o)&&(r[o]=e[o])}return r};const m={};var f={get:async e=>m[e],put:async(e,t)=>{m[e]=t},remove:async e=>{delete m[e]},isEnabled:()=>!0};const g="zen-db",_="zen-api-cache",b="undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB);let v;function y(e,t){return(b?(v||(v=new Promise((e,t)=>{const n=b.open(g,1);n.onerror=(()=>{t(n.error)}),n.onupgradeneeded=(()=>{n.result.createObjectStore(_)}),n.onsuccess=(()=>{e(n.result),n.result.onclose=(()=>{v=null})})})),v):Promise.reject(new Error("indexedDB is not supported."))).then(n=>new Promise((r,s)=>{const o=n.transaction(_,e);o.oncomplete=(()=>{r()}),o.onerror=(()=>{s(o.error)}),t(o.objectStore(_))}))}var E={get(e){let t;return y("readonly",n=>{t=n.get(e)}).then(()=>t.result)},set:(e,t)=>y("readwrite",n=>{n.put(t,e)}),delete:e=>y("readwrite",t=>{t.delete(e)}),clear:()=>y("readwrite",e=>{e.clear()}),keys(){const e=[];return y("readonly",t=>{const n=t.openKeyCursor?t.openKeyCursor():t.openCursor();n.onsuccess=(()=>{n.result&&(e.push(n.result.key),n.result.continue())})}).then(()=>e)}};var k={get:e=>E.get(e),put:(e,t)=>E.set(e,t),remove:e=>E.delete(e),isEnabled:()=>"undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB)};const{hasOwnProperty:C}=Object.prototype,w=e=>Array.isArray(e)?e.slice():Object.assign({},e),S=e=>e&&"object"==typeof e,x=(e,t)=>{if(Array.isArray(e)){const n=Number(t),r=e.slice(0,n).concat(e.slice(n+1));return e.length!==r.length?r:null}{const n=Object.assign({},e);return delete n[t],C.call(e,t)!==C.call(n,t)?n:null}},O=e=>{const t=Number(e);if(!(String(t)===String(e)&&isFinite(t)&&t>=0&&Math.floor(t)===t))throw new Error(`Key '${e}' is not an array index.`)},I=e=>{const t="string"==typeof e?e.split("."):e;if(!Array.isArray(t))throw new Error("Expected the path to be a string or array.");if(0===t.length)throw new Error("Expected the path to have at least one item.");return t},T=(e,t)=>{const n=I(t);let r=e;for(let e=0;e<n.length;e++){const t=n[e];if(!S(r)||!C.call(r,t))return;r=r[t]}return r},N=(e,t,n)=>{if(!S(e))throw new Error("Value is not an object.");const r=I(t),s=w(e);let o=s,i=!1;for(let e=0;e<r.length;e++){const t=r[e],s=e===r.length-1;if(Array.isArray(o)&&O(t),s){const e=C.call(o,t),r=e?o[t]:void 0,s=o[t]="function"==typeof n?n(r):n;e&&Object.is(r,s)||(i=!0)}else if(C.call(o,t)){if(!S(o[t]))throw new Error("Value is not an object.");o=o[t]=w(o[t])}else o=o[t]={},i=!0}return i?s:e};var R={get:T,set:N,del:(e,t)=>{if(!S(e))throw new Error("Value is not an object.");const n=I(t);if(1===n.length){const t=n[0];return x(e,t)||e}const r=w(e);let s=r,o=!1;for(let e=0;e<n.length-1;e++){const t=n[e],r=e===n.length-2;if(Array.isArray(s)&&O(t),!C.call(s,t))break;if(!S(s[t]))throw new Error("Value is not an object.");if(r){const r=n[e+1];(s[t]=x(s[t],r))&&(o=!0)}else s=s[t]=w(s[t])}return o?r:e},modify:(e,t,n)=>N(e,t,n(T(e,t)))};const P="card",A="post",M="direct",D="iceboarding-grid",j="magic_card",L="gif",B="story",F="small",U="big",z="free",H={LEFT:"left",CENTER:"center",RIGHT:"right"},V=new Set(["similar","user-feedback-question"]),$={one_column:{columnCount:1,layoutableTypes:[P,L,M,"hint_eula",D,"similar",j,B],availableSizes:{[P]:[F],[M]:[F],hint_eula:[F],[D]:[F],similar:[F],[j]:[F],[L]:[F],[B]:[F],"user-feedback-question":[F]},initialDisplayedRowsNumber:6,rowDisplayStep:8},two_column:{columnCount:2,layoutableTypes:[],availableSizes:{}},two_column_small_cards:{columnCount:2,layoutableTypes:[],availableSizes:{[P]:[F],[M]:[F],hint_eula:[F],[D]:[F],similar:[F],[j]:[F],[L]:[F],[B]:[F],"user-feedback-question":[F]}},three_column:{columnCount:3},three_column_first_big:{columnCount:3},common:{layoutableTypes:[P,A,M,j,L,B,"card-placeholder"],availableSizes:{[P]:[F,U],[A]:[F],[M]:[F],hint_eula:[z],[D]:[z],similar:[z],[j]:[U],[L]:[F,U],[B]:[F],"card-placeholder":[F,U],placeholder:[z],"user-feedback-question":[z],similar_interests:[z]},initialDisplayedRowsNumber:6,rowDisplayStep:9}};function G(e="item"){return`${e}_${Math.random()*Date.now()}`}const W=e=>{const{country_id:t,language_ids:n,countries:r,languages:s}=e;return{countryId:t,languageIds:n.reduce((e,t)=>(e[t]=!0,e),{}),countries:r.map(({code:e,langs:t,name:n})=>({code:e,langs:t,name:n})),languages:s}};function q(e){return{id:e.id,ad:e.ad,domain:e.domain,domainTitle:e.domain_title,link:e.link,title:e.title||" ",text:e.text||" ",logo:e.logo,image:e.image,bigImage:e.big_card_image||e.image,blurredPreview:e.blurred_preview,cardColors:e.card_colors&&{card:e.card_colors.card,text:e.card_colors.text},mainColor:e.main_color,similarLink:e.similar.link,bulkParams:e.bulk_params,statEvents:e.stat_events,read:e.read,feedback:function(e){const t=e.feedback_info;if(t&&t.is_liked)return"liked";if(t&&t.is_disliked)return"disliked";return null}(e),feedLink:e.source.feed_link,source:Q(e.source),commentsDocumentId:e.comments_document_id,commentsLink:e.comments_link,badges:e.badges,creationTime:e.creation_time}}function K(e){return e.image&&e.big_card_image,Object.assign({type:P,isPromoted:e.is_promoted,isPromoPublication:e.is_promo_publication,cardBackgroundImage:e.card_background_image,cardBackgroundWhiteImage:e.card_background_white_image,customUserFeedbackData:function(e){if(!e.custom_user_feedback_data)return null;try{return{questions:e.custom_user_feedback_data.questions.map(({id:e,type:t,display_type:n,text:r,answers:s})=>({id:e,type:t,display_type:n,text:r,answers:s.map(({id:e,type:t,text:n,stats:r})=>({id:e,type:t,text:n,isChecked:!1,stats:{statEvents:r.stat_events,bulkParams:r.bulk_params}}))}))}}catch(e){return r.a.warn("Error parsing custom_user_feedback_data",e),null}}(e),rocket:!!e.zen_logo,pixels:e.pixels},q(e))}const Q=({id:e,type:t,status:n,title:r,logo:s,logo_background_color:o,title_background_color:i,title_color:a,feed_link:c,feed_api_link:l,subtitle:u,description:d,subscribers:p,social_links:h})=>({id:e,type:t,status:n,title:r,logo:s,subtitle:u,description:d,subscribers:p,logoBackgroundColor:o,titleBackgroundColor:i,titleColor:a,feedLink:c,feedApiLink:l,socialLinks:h}),Y=e=>Object.assign({},Q(e.source),{statParams:te(e.stat_params)}),Z=({link:e,preview:t,width:n,height:r})=>{const s={link:e,preview:t};return(n||r)&&(s.hasSize=!0,s.width=n,s.height=r),s},J=({json:e,length:t})=>({json:e,length:t}),X=({background:e,background_color:t,text_color:n,link_color:r})=>({background:Z(e),backgroundColor:t,textColor:n,linkColor:r});const ee=e=>{const{has_sound:t,heartbeat_pos:n,id:r,loop:s,player:o,provider:i,userAgent:a,additional_params:c,autoplay:l}=e;return{hasSound:t,heartbeatTimes:n,id:r,loop:s,player:o,provider:i,userAgent:a,additionalParams:c,autoplay:l}};function te(e){if(e)return Object.keys(e).reduce((t,n)=>{const{bulk_params:r,stat_events:s,links:o}=e[n];return Object.assign({},t,{[n]:{bulkParams:r,statEvents:s,links:o}})},{})}function ne(e){return e.image&&!e.big_card_image&&r.a.warn("no big_card_image",e),Object.assign({type:L,video:ee(e.video),stats:e.stats,statParams:te(e.stat_params)},q(e))}function re(e){if("direct"!==R.get(e,"items.0.provider")||!R.get(e,"items.0.content"))return r.a.error(`Ad parsing error: ${JSON.stringify(e)}`),null;const t=e.items[0],{content:n}=t,s=t.stat_events,o=t.bulk_params;let i=!1;if(n.image&&n.image.length){const[,e,t]=n.image;e/t>4/3&&(i=!0)}return{id:G(M),type:M,url:n.url,showUrl:n.linkHead+n.linkTail,domain:n.domain,title:n.title||" ",text:n.body,age:n.age,warning:n.warning,image:n.image,isWideImage:i,statEvents:s,bulkParams:o}}function se(e){const{source_id:t,image:n,background_color:r,text_color:s,name:o,name_background_color:i}=e;return{id:t,image:n,name:o,textColor:s,textBackgroundColor:i,imageBackgroundColor:r}}const oe=e=>e.items.map(Y),ie=e=>({sources:oe(e),category:e.category&&le(e.category)}),ae=e=>{const t=e.items.filter(({type:e})=>"carousel"===e).map(({sources:e})=>e);let n;return 0!==t.length&&(n=[].concat(...t).map(Y)),{sources:n,list:e.items.filter(({type:e})=>"list_item"===e).map(le).reduce((e,t)=>(e[t.name]=t,e),{})}},ce=({items:e=[]})=>e.reduce((e,t)=>(t.type===L&&e.push(ne(t)),e),[]),le=({link:e,title:t,image:n,name:r,stat_events:s,bulk_params:o})=>({link:e,title:t,image:n,name:r,statEvents:s,bulkParams:o}),ue=({external_url:e})=>({externalUrl:e}),de={"no-user":ue,"user-info":({email:e,name:t,avatar:n})=>({email:e,name:t,avatar:n}),"blocked-count":({count:e,external_url:t})=>({count:e,externalUrl:t}),language:({country:e,external_url:t})=>({country:e,externalUrl:t}),feedback:ue,eula:ue,logout:ue,video:({stat_events:e,bulk_params:t,disabled:n})=>({statEvents:e,bulkParams:t,disabled:n}),autoplay:()=>({})},pe={"no-user":"noUser","user-info":"userInfo","blocked-count":"blockedCount"},he=e=>{const t=e.items.reduce((e,t)=>{if(de.hasOwnProperty(t.type)){e[pe[t.type]||t.type]=de[t.type](t)}return e},{});return t.userInfo||t.noUser||r.a.error("Inconsistent profile data"),t};const me=e=>({id:G("similar"),type:"similar",items:function(e){const t=[],n=[],r=[],s=[];e.forEach(e=>{switch(e.type){case"channel":case"interest":r.push(Y({source:e,stat_params:e.stat_params}));break;case"small_card":t.push(function(e){const t={title:e.title||" ",text:e.text||" ",link:e.link,domainTitle:e.domain_title,image:e.images&&e.images.horizontal,bulkParams:e.bulk_params,statEvents:e.stat_events,ad:e.ad,rocket:!!e.zen_logo,cardColors:null,mainColor:null,feedLink:e.source.feed_link,commentsDocumentId:e.comments_document_id,commentsLink:e.comments_link};return e.hasOwnProperty("card_colors")?t.cardColors=e.card_colors:e.hasOwnProperty("main_color")&&(t.mainColor=e.main_color),t}(e));break;case"ad":n.push(re(e));break;case"rtb":s.push(e)}});const o=r.map(({id:e})=>e);return{docs:t,direct:n,sources:r,sourcesIds:o,rtb:s}}(e.items)});const fe=e=>{const t={};return Object.keys(e).forEach(n=>{t[n]={count:e[n]}}),t};var ge=e=>{switch(e.type){case P:return K(e);case A:return function(e){const t={type:A,id:e.id,style:X(e.style),link:e.link,similarLink:e.similar_link,source:Q(e.source),pixels:e.pixels,bulkParams:e.bulk_params,statEvents:e.stat_events,ad:e.ad,commentsDocumentId:e.comments_document_id,commentsLink:e.comments_link,badges:e.badges};return e.rich_text&&(t.richText=J(e.rich_text)),e.image&&(t.image=Z(e.image)),t.read=e.was_read,t.feedback=e.feedback_status,t.domainTitle=e.source.title,t}(e);case L:return ne(e);case"ad":return re(e);case D:return function(e){const t={id:G(D),type:e.type,sources:e.sources.map(se),stats:e.stats,moreButton:void 0,bulkParams:e.bulk_params,statEvents:e.stat_events};return e.more_button&&(t.moreButton={link:e.more_button.click}),t}(e);case"hint_eula":return function(e){return{id:e.id,type:e.type,link:e.link,bulkParams:e.bulk_params,statEvents:e.stat_events}}(e);case B:return function(e){const t=K(e);return t.type=B,t.isPromoNarrative="narrative_promo_text"===e.narrative_style,t}(e);case"card-placeholder":case"placeholder":return function(e){return{id:e.item_id.toString(),type:e.type,statEvents:e.stat_events,bulkParams:e.bulk_params}}(e);case"similar_interests":return function(e){const{id:t,type:n,title:r,items:s}=e;return{id:t,type:n,title:r,items:s.map(e=>Y({source:e,stat_params:e.stat_params}))}}(e);default:return r.a.warn(`Unsupported doc type: ${e.type}`),null}};var _e=e=>{let t=null;if(e.items){const n=e.items.reduce((t,n)=>{if(n){const r=ge(n);r&&t.push(Object.assign({},r,{packId:e.rid}))}return t},[]);t=n.length>0?n:null}let n=null;e.interests_onboarding&&(n={sources:oe(e.interests_onboarding),statParams:te(e.interests_onboarding.stat_params)});let r=null;if(e.link_board){const{items:t,groups:n,stat_params:s}=e.link_board;r={sources:oe({items:t}),groups:n,statParams:te(s)}}return Object.assign({},e,{id:e.rid,receivedAt:e.received_at,ttl:1e3*e.ttl,storeTtl:1e3*e.store_ttl,source:e.sf,items:t,onboardingInterests:n,linkBoard:r,experimentsData:e.experiments_data||null,clientDefinition:e.client_definition||null})};n(76);const be=()=>{const e=`; ${document.cookie}`.match(/; yandexuid=([^;]*)/);return e&&e[1]},ve=()=>{const e=`; ${document.cookie}`.match(/; yandex_login=([^;]*)/);return e&&e[1]},ye={PACK_SHOWN:"packShown",BULK_EVENT_LOGGED:"bulkEventLogger",API_RESPONSE_TTL_EXPIRED:"apiResponseTtlExpired",API_RESPONSE_ERROR_TTL_EXPIRED:"apiResponseErrorTtlExpired",NOT_SHOWN_PACK_UPDATED:"notShownPackUpdated",LAST_SHOWN_PACK_UPDATED:"lastShownPackUpdated"},Ee={ONBOARDING:"onboarding",EXPORT:"export",MORE:"more",BULK:"bulk",SUBS:"subs",PROFILE:"profile",COUNTRY_LANG:"language",BLOCKED:"blocked",PREFERENCES:"preferences",CATEGORY:"category",CATEGORIES:"categories",SUGGEST:"suggest",BLOCKED_SUGGEST:"blocked_suggest",VIDEO_RECOMMEND:"video_recommend",PUBLISHER_CONFIG:"publisher_config",COMMENTS_COUNTER:"comments_counter"},ke={SESSION_CACHE:"cacheStorage",MULTI_SESSION_CACHE:"multiCacheStorage"},Ce={NETWORK:"network",CACHE_BEFORE_NETWORK:"cache-before-network",CACHE_AFTER_NETWORK:"cache-after-network"},we="not-shown-pack",Se="last-shown-pack",xe=e=>{if(!(e&&e.type&&e.apiResponse&&e.params))throw new Error("Invalid cache record scheme.")},Oe=(e,t)=>{const{receivedAt:n,ttl:r,storeTtl:s}=e,o=t?s:r;if(!("number"==typeof n&&"number"==typeof o&&n+o>Date.now()))throw new Error(`Invalid cache ${t?"store-ttl":"ttl"}.`)},Ie=e=>{if(!e.items)throw new Error("Invalid api response to put in cache.")},Te=(e,t,n,r)=>{const s=e&&e.userId&&t&&t.userId&&e.userId===t.userId&&Boolean(e.isAdblockEnabled)===Boolean(t.isAdblockEnabled)&&("number"!=typeof e.clid||e.clid===t.clid)&&("number"!=typeof e.referrerClid||e.referrerClid===t.referrerClid)&&("string"!=typeof e.referrerPlace||e.referrerPlace===t.referrerPlace)&&("string"!=typeof e.countryCode||e.countryCode===t.countryCode)&&p()(e.feedFilter,t.feedFilter)&&p()(e.zenFeatures&&h(e.zenFeatures,r),t.zenFeatures&&h(t.zenFeatures,r));let o=!0;if(e&&Array.isArray(e.clientExperiments)){const r=((e,t)=>{let n=[];return e&&Array.isArray(e.clientExperiments)&&n.push(...e.clientExperiments),t.experimentsData&&Object.keys(t.experimentsData).forEach(e=>{const r=t.experimentsData[e];r&&r.exp&&n.push(e)}),n})(t,n);o=e.clientExperiments.every(e=>r.includes(e))}if(!s||!o)throw new Error("ZenApi cache is not valid.")};var Ne=class{constructor(e,t){this._zenApi=e,this._eventEmitter=t}_getStorage(){const e=this._zenApi.getConfig();if(e.cache)switch(e.cache.type){case ke.MULTI_SESSION_CACHE:if(k.isEnabled())return k;if(f.isEnabled())return f;break;case ke.SESSION_CACHE:if(f.isEnabled())return f}throw new Error("ZenApi cache is not enabled.")}_getRecordKey(e){const t=this._zenApi.getConfig(),n=t.cache&&t.cache.namespace;if(!n)throw new Error("ZenApi cache.namespace is not configured.");return`${n}-${e}`}async _get(e,t){const n=this._getStorage(),r=this._getRecordKey(e),s=await n.get(r);return this.validateRecord(s,t),s}async _put(e,t,n,r){const s=this._getStorage(),o=this._getRecordKey(e),i=this.createRecord(t,n,r);await s.put(o,i)}async _remove(e){const t=this._getStorage(),n=this._getRecordKey(e);await t.remove(n)}getValidationParams(){const e=this._zenApi.getConfig(),{clid:t,referrerClid:n,referrerPlace:r,feedFilter:s,countryCode:o,clientExperiments:i,userInfo:a,zenFeatures:c,isAdblockEnabled:l}=e,{oauthToken:u,login:d,deviceId:p,profileId:h,yandexuid:m}=a;return{clid:t,referrerClid:n,referrerPlace:r,feedFilter:s,countryCode:o,clientExperiments:i,userId:u||d||ve()||p||h||m||be(),zenFeatures:c,isAdblockEnabled:l}}createRecord(e,t,n){const r=this._zenApi.getConfig(),{apiResponseValidator:s}=r,o=_e(t);return Ie(o),s(o),{type:e,apiResponse:t,params:n}}validateRecord(e,{byStoreTtl:t=!1,ignoredZenFeatures:n=[]}={}){xe(e);const r=this._zenApi.getConfig(),{apiResponseValidator:s}=r,o=_e(e.apiResponse),i=this.getValidationParams(r);Oe(o,t),Te(i,e.params,o,n),Ie(o),s(o)}async getNotShownPack(e){return this._get(we,e)}async getLastShownPack(e){return this._get(Se,e)}async putNotShownPack(e,t,n=this.getValidationParams()){await this._put(we,e,t,n),this._eventEmitter.emit(ye.NOT_SHOWN_PACK_UPDATED,e,t,n)}async putLastShownPack(e,t,n=this.getValidationParams()){await this._put(Se,e,t,n),this._eventEmitter.emit(ye.LAST_SHOWN_PACK_UPDATED,e,t,n)}async removeNotShownPack(){return this._remove(we)}async removeLastShownPack(){return this._remove(Se)}};const Re=e=>new Promise(t=>setTimeout(()=>t(),e));var Pe=Re;function Ae(){return new Promise(e=>requestAnimationFrame(()=>e()))}const Me=(e,t=1e4)=>new Promise((n,r)=>{e.then(n,r),Re(t).then(()=>{r(new Error("Request timeout."))})}),De="application/json; charset=utf-8",je={credentials:"include",timeout:6e4},Le={Accept:De},Be=e=>{const{ok:t,url:n,status:r,statusText:s}=e;if(!t)throw new Error(`${n} ${r} (${s})`);return(e=>{const t=e.headers.get("Content-Type");return t&&-1!==t.indexOf(De)?e.json():e.text()})(e)},Fe=(e,t)=>{const n=Object.assign({},je,t),r=n.params?c(e,n.params):e;return new Promise((e,t)=>{fetch(r,n).then(Be).then(e,t),Pe(n.timeout).then(()=>{t(new Error("Request timeout."))})})},Ue=(e,t={})=>{const n=Object.assign({},t,{method:"GET",params:Object.assign({},t.params||{},{rnd:Date.now()})});return Fe(e,n)},ze=(e,t={})=>{const n=Object.assign({},Le,t.headers);let{body:r}=t;n["Content-Type"]||(n["Content-Type"]=De,r&&"string"!=typeof r&&(r=JSON.stringify(r)));const s=Object.assign({},t,{method:"POST",headers:n,body:r});return Fe(e,s)};var He=class{constructor(e){this._zenApiInstance=e}_getExtraHeaders(){const e={},{userInfo:t,zenFeatures:n,clientExperiments:r}=this._zenApiInstance.getConfig();return t.oauthToken&&(e.Authorization=`OAuth ${t.oauthToken}`),Object.keys(n).length>0&&(e["Zen-Features"]=JSON.stringify(n)),e["Zen-Client-Experiments"]=["zen-version:2.65.1",...Array.isArray(r)&&r.length>0?r:[]].join(", "),e}async makeApiRequest(e,t={}){const n=t.noExtraHeaders?{}:this._getExtraHeaders(),r={params:t.params,headers:Object.assign({},n,t.headers),mode:t.mode};let s;return s=t.body?await ze(e,Object.assign({},r,{body:t.body})):await Ue(e,r)}};const Ve={UPDATE_PRELOAD:"updatePreload"};var $e=class{constructor(){this._eventEmitter=new o.a,this._config={limits:{docImages:10}}}onNetworkResponse(e){const t=this._getUrlsToPreload(e);this._eventEmitter.emit(Ve.UPDATE_PRELOAD,t)}addListener(e,t){this._eventEmitter.addListener(e,t)}removeListener(e,t){this._eventEmitter.removeListener(e,t)}_getUrlsToPreload(e){let t=[];return e&&e.items&&(t=t.concat(e.items.map(e=>e.cardBackgroundWhiteImage).filter(Boolean).slice(0,this._config.limits.docImages))),t}};const Ge={GET_BEFORE_NETWORK:["default"],GET_AFTER_NETWORK:["default","reload"],PUT_AFTER_NETWORK:["default","reload","no-cache"]},We={host:null,clid:null,referrerClid:null,referrerPlace:null,countryCode:null,zenFeatures:{},clientExperiments:null,retryTimeouts:[3e4,18e4],apiResponseValidator:()=>null,links:{[Ee.ONBOARDING]:null,[Ee.MORE]:null,[Ee.BULK]:null,[Ee.SUBS]:null,[Ee.PROFILE]:null,[Ee.BLOCKED]:null,[Ee.PREFERENCES]:null,[Ee.CATEGORIES]:null,[Ee.CATEGORY]:null,[Ee.SUGGEST]:null,[Ee.BLOCKED_SUGGEST]:null,[Ee.VIDEO_RECOMMEND]:null,[Ee.COUNTRY_LANG]:null,[Ee.COMMENTS_COUNTER]:null},userInfo:{oauthToken:null,login:null,deviceId:null,profileId:null,yandexuid:null,partnerId:null},cache:{type:ke.SESSION_CACHE,namespace:"common",isPrefetchEnabled:!0},chromeExtensionId:null};var qe=class{constructor(e){this._config=We,this._eventEmitter=new o.a,this._cache=new Ne(this,this._eventEmitter),this._network=new He(this),this._preload=new $e,this._queue=Promise.resolve(),this._lastUsedPackId=null,this._lastUsedPackShown=!1,this._retryableGetApiResponse=u((e,t)=>this._addToQueue(()=>this._getApiResponse(e,t))),e?this.configure(e):this._updateTimeouts()}_getApiRequestUrl(e){if(e===Ee.EXPORT){const{host:e,clid:t,referrerClid:n,referrerPlace:r,countryCode:s,userInfo:o}=this._config;if(!e)throw new Error("ZenApi host is not configured.");const i={clid:t||void 0,country_code:s||void 0,referrer_clid:n,referrer_place:r};return o&&o.partnerId&&(i.partner_user_id=o.partnerId.toString()),c(`${e}api/v3/launcher/export`,i)}if(e===Ee.PUBLISHER_CONFIG){const{host:e,clid:t,referrerClid:n,referrerPlace:r,countryCode:s}=this._config;if(!e)throw new Error("ZenApi host is not configured.");return c(`${e}api/v3/launcher/publisher-config`,{clid:t,country_code:s,referrer_clid:n,referrer_place:r})}const t=this._config.links[e];if(!t)throw new Error(`ZenApi ${e} url is not configured.`);return t}async _getApiResponseFromNetworkAndMaybePutItToCache(e,t={}){const n=this._getApiRequestUrl(e),r=t.cache||"default",s=this._cache.getValidationParams(),o=await this._network.makeApiRequest(n,t),i=Object.assign({},o,{received_at:Date.now()}),a=_e(i);this._config.apiResponseValidator(a);const c=Ge.PUT_AFTER_NETWORK.includes(r);return this._config.cache&&c&&(this._cache.putNotShownPack(e,i,s).catch(e=>{}),this._preload.onNetworkResponse(a)),{apiResponse:a,source:Ce.NETWORK}}async _getApiResponseFromCacheBeforeNetwork(e){const t=await this._cache.getNotShownPack(),n=_e(t.apiResponse);if(e===Ee.MORE&&t.type===Ee.EXPORT)throw new Error("Can not apply cache from export to more request.");if(this._lastUsedPackId===n.id)throw new Error(`Pack '${n.id}' has already been used.`);return{apiResponse:n,source:Ce.CACHE_BEFORE_NETWORK}}async _getApiResponseFromCacheAfterNetwork(){let e;try{e=await this._cache.getNotShownPack({byStoreTtl:!0})}catch(t){e=await this._cache.getLastShownPack({byStoreTtl:!0})}return{apiResponse:_e(e.apiResponse),source:Ce.CACHE_AFTER_NETWORK}}async _getApiResponse(e,t={}){const n=t.cache||"default";let r;if(this._config.cache&&Ge.GET_BEFORE_NETWORK.includes(n))try{r=await this._getApiResponseFromCacheBeforeNetwork(e)}catch(e){}if(!r)try{r=await this._getApiResponseFromNetworkAndMaybePutItToCache(e,t)}catch(t){if(this._config.cache&&e===Ee.EXPORT&&Ge.GET_AFTER_NETWORK.includes(n))try{r=await this._getApiResponseFromCacheAfterNetwork()}catch(e){}if(!r)throw t}return this._updateNotShownPack(),r}async _hasValidNotShownPackInCache(e){try{return await this._getApiResponseFromCacheBeforeNetwork(e),!0}catch(e){return!1}}_updateNotShownPack({invalidate:e=!1,requestType:t}={}){this._config.cache&&this._config.cache.isPrefetchEnabled&&this._addToQueue(async()=>{const n=t||Ee.MORE;if(e||!await this._hasValidNotShownPackInCache(n))try{await this._getApiResponseFromNetworkAndMaybePutItToCache(n)}catch(e){r.a.warn(`Failed to update 'not-shown' pack: '${e.message}'.`)}})}_updateTimeouts(){const e=this._config.retryTimeouts;this._retryableGetApiResponse.setOptions({timeouts:e})}_addToQueue(e){const t=this._queue=this._queue.then(()=>e(),()=>e());return t.catch(e=>{}),t}configure(e){this._config="function"==typeof e?e(this._config):e,this._updateTimeouts()}getConfig(){return this._config}getPublisherConfig(e={}){const{options:t}=e,n=s(e,["options"]);return this._retryableGetApiResponse.startSession(Object.assign({},n,{args:[Ee.PUBLISHER_CONFIG,t]}))}getExport(e={}){const{options:t}=e,n=s(e,["options"]);return this._retryableGetApiResponse.startSession(Object.assign({},n,{args:[Ee.EXPORT,t]}))}getMore(e={}){return this._retryableGetApiResponse.startSession(Object.assign({},e,{args:[Ee.MORE]}))}getSimilar(e){return this._network.makeApiRequest(e).then(me)}sendBannerStats(e){return this._network.makeApiRequest(e)}async getProfile(){const e=this._getApiRequestUrl(Ee.PROFILE),t=await this._network.makeApiRequest(e);return he(t)}async getSuggest(e){const t=this._getApiRequestUrl(Ee.SUGGEST),n=await this._network.makeApiRequest(t,{params:{search_text:e}});return oe(n)}async getBlockedSuggest(e){const t=this._getApiRequestUrl(Ee.BLOCKED_SUGGEST),n=await this._network.makeApiRequest(t,{params:{search_text:e}});return oe(n)}async getCategories(){const e=this._getApiRequestUrl(Ee.CATEGORIES),t=await this._network.makeApiRequest(e);return ae(t)}async getCategory(e){const t=this._getApiRequestUrl(Ee.CATEGORY).replace("__name__",e),n=await this._network.makeApiRequest(t);return ie(n)}async getPreferences(){const e=this._getApiRequestUrl(Ee.PREFERENCES),t=await this._network.makeApiRequest(e);return oe(t)}async getVideoRecommend(){const e=this._getApiRequestUrl(Ee.VIDEO_RECOMMEND),t=await this._network.makeApiRequest(e);return ce(t)}async getCountryLang(){const e=this._getApiRequestUrl(Ee.COUNTRY_LANG),t=await this._network.makeApiRequest(e);return W(t)}async getCommentsCounters(e){const t=this._getApiRequestUrl(Ee.COMMENTS_COUNTER);let n=await this._network.makeApiRequest(t,{body:{documentIds:e},mode:"cors",noExtraHeaders:!0});try{n=JSON.parse(n)}catch(e){console.warn("apiResponse type JSON")}return fe(n.counts)}async setCountryLang(e,t){const n=this._getApiRequestUrl(Ee.COUNTRY_LANG);await this._network.makeApiRequest(n,{body:{country_id:e,language_ids:t}}),this.invalidateCache()}prefetch(){this._updateNotShownPack()}invalidateCache(){this._updateNotShownPack({invalidate:!0})}packUsed(e){this._lastUsedPackId=e,this._lastUsedPackShown=!1}packShown(e){this._config.cache&&this._addToQueue(async()=>{let t;try{t=await this._cache.getNotShownPack()}catch(e){}if(t&&_e(t.apiResponse).id===e)try{await Promise.all([this._cache.removeNotShownPack(),this._cache.putLastShownPack(t.type,t.apiResponse,t.params)])}catch(e){}e!==this._lastUsedPackId||this._lastUsedPackShown||(this._lastUsedPackShown=!0,this._updateNotShownPack()),this._eventEmitter.emit(ye.PACK_SHOWN,e)})}async getNotShownPackFromCache(e){const t=await this._cache.getNotShownPack(e);return _e(t.apiResponse)}async getLastShownPackFromCache(e){const t=await this._cache.getLastShownPack(e);return _e(t.apiResponse)}setIntervalPackUpdater(e){setInterval(async()=>{this._updateNotShownPack({requestType:Ee.EXPORT})},e),this._updateNotShownPack({requestType:Ee.EXPORT})}on(...e){this._eventEmitter.on(...e)}off(...e){this._eventEmitter.off(...e)}addListener(...e){this._eventEmitter.addListener(...e)}removeListener(...e){this._eventEmitter.removeListener(...e)}};const Ke=1e3,Qe=e=>`${e}_${Date.now()}`,Ye=e=>({stats:e.map(({event:e,params:t,ts:n,info:r})=>{const s={event:e,data:t,ts:n};return r&&(s.info=r),s}),bulk_ts:Date.now()}),Ze=()=>{let e,t,n=0,r=0,s=!1;const o=new Promise(t=>{e=t}),i=new Promise(e=>{t=e}),a=()=>{s=!0,t()},c=()=>{++r===n&&a()};return{trigger:()=>(e(),r===n&&a(),i),extend:e=>{s||(n++,o.then(e).then(c,c))}}},Je=(()=>{if("undefined"!=typeof document)return Boolean(document.cookie.match(new RegExp(atob("Ymx0c3I9MQ=="))))})();const Xe=e=>{if(!(Array.isArray(e.items)&&e.items.length>0&&e.more&&e.more.link&&e.bulk&&e.bulk.link)){const t=`Invalid response from ZenApi${e.message?`: '${e.message}'`:""}.`,n=new Error(t);throw e.ttl&&(n.ttl=e.ttl),n}};var et=new class extends qe{constructor(...e){var t;return t=super(...e),this._bulkEvents=[],this._sendingTimeoutId=null,this._bulkEventBatch=null,t}async _getApiResponseFromNetworkAndMaybePutItToCache(e,t={}){if(Je&&this._sendBulkEventsWithinQueue(),Je||0===this._bulkEvents.length||t.body)return qe.prototype._getApiResponseFromNetworkAndMaybePutItToCache.call(this,e,t);const n=this._bulkEvents,r=Ye(n),s=Object.assign({},t,{body:r});this._bulkEvents=[];try{return qe.prototype._getApiResponseFromNetworkAndMaybePutItToCache.call(this,e,s)}catch(e){throw this._bulkEvents=this._bulkEvents.concat(n),e}}_addToQueue(e,t=!0){return t&&(this._bulkEventBatch=null),super._addToQueue(e)}async _sendBulkEvents(){if(0===this._bulkEvents.length)return;const e=this._getApiRequestUrl(Ee.BULK),t=this._bulkEvents,n=Ye(t);this._bulkEvents=[];try{await this._network.makeApiRequest(e,{body:n})}catch(e){throw this._bulkEvents=this._bulkEvents.concat(t),e}}_planBulkEventsSending(){null===this._sendingTimeoutId&&(this._sendingTimeoutId=setTimeout(()=>{this._sendingTimeoutId=null,this._sendBulkEventsWithinQueue()},Ke))}_sendBulkEventsWithinQueue(){if(!this._bulkEventBatch){const e=this._bulkEventBatch=Ze();this._addToQueue(()=>e.trigger().then(()=>{this._bulkEventBatch===e&&(this._bulkEventBatch=null)}),!1)}this._bulkEventBatch&&this._bulkEventBatch.extend(()=>this._sendBulkEvents().catch(e=>{r.a.warn("Error while sending bulk events",e)}))}logBulkEvent(e){const{event:t,bulkParams:n,statMeta:r,info:s}=e,o={id:Qe(t),event:t,params:n,ts:Date.now(),info:s};this._bulkEvents.push(o),this._planBulkEventsSending(),this._eventEmitter.emit(ye.BULK_EVENT_LOGGED,Object.assign({},o,{statMeta:r}))}logNonBulkEvent(e,t){return this._network.makeApiRequest(e,{body:t})}}(e=>Object.assign({},e,{apiResponseValidator:Xe}));const tt=new o.a,nt={STAT:"stat",PLACEHOLDER_UNMOUNT:"placeholderUnmount",PLACEHOLDER:"placeholder",PLACEHOLDER_SHOW:"placeholderShow",PRECACHE_MISS:"precacheMiss",TIMINGS:"timings",FIRST_PAINT:"firstPaint",PROMO_CARD:"promoCard",ROWS_CHANGED:"rowsChanged",CACHE_PUT:"cachePut",SOURCE_CHANGE:"sourceChange",POPUP_OPEN:"popupOpen",POPUP_CLOSE:"popupClose"},rt=new o.a,st={NOTIFIERS_ENABLED:"zen-feed-show",NOTIFIERS_DISABLED:"zen-feed-hide"},ot=new o.a,it={FEED_CHANGED:"feedChanged"},at="site_desktop",ct="zen_lib",lt="desktop_browser_rezen",ut="desktop_browser_with_morda";var dt=n(0),pt=n.n(dt),ht=n(23);function mt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ft=n(5),gt=n.n(ft),_t=gt.a.shape({trySubscribe:gt.a.func.isRequired,tryUnsubscribe:gt.a.func.isRequired,notifyNestedSubs:gt.a.func.isRequired,isSubscribed:gt.a.func.isRequired}),bt=gt.a.shape({subscribe:gt.a.func.isRequired,dispatch:gt.a.func.isRequired,getState:gt.a.func.isRequired});var vt=function(e){var t;void 0===e&&(e="store");var n=e+"Subscription",r=function(t){mt(s,t);var r=s.prototype;function s(n,r){var s;return(s=t.call(this,n,r)||this)[e]=n.store,s}return r.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},r.render=function(){return dt.Children.only(this.props.children)},s}(dt.Component);return r.propTypes={store:bt.isRequired,children:gt.a.element.isRequired},r.childContextTypes=((t={})[e]=bt.isRequired,t[n]=_t,t),r}();function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Et(){return(Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var kt=n(74),Ct=n.n(kt),wt=n(31),St=n.n(wt),xt=n(42),Ot=null,It={notify:function(){}};var Tt=function(){function e(e,t,n){this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=It}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=function(){var e=[],t=[];return{clear:function(){t=Ot,e=Ot},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==Ot&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=It)},e}(),Nt=0,Rt={};function Pt(){}function At(e,t){var n,r;void 0===t&&(t={});var o=t,i=o.getDisplayName,a=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,c=o.methodName,l=void 0===c?"connectAdvanced":c,u=o.renderCountProp,d=void 0===u?void 0:u,p=o.shouldHandleStateChanges,h=void 0===p||p,m=o.storeKey,f=void 0===m?"store":m,g=o.withRef,_=void 0!==g&&g,b=s(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),v=f+"Subscription",y=Nt++,E=((n={})[f]=bt,n[v]=_t,n),k=((r={})[v]=_t,r);return function(t){St()(Object(xt.isValidElementType)(t),"You must pass a component to the function returned by "+l+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=a(n),s=Et({},b,{getDisplayName:a,methodName:l,renderCountProp:d,shouldHandleStateChanges:h,storeKey:f,withRef:_,displayName:r,wrappedComponentName:n,WrappedComponent:t}),o=function(n){function o(e,t){var s;return(s=n.call(this,e,t)||this).version=y,s.state={},s.renderCount=0,s.store=e[f]||t[f],s.propsMode=Boolean(e[f]),s.setWrappedInstance=s.setWrappedInstance.bind(yt(yt(s))),St()(s.store,'Could not find "'+f+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+f+'" as a prop to "'+r+'".'),s.initSelector(),s.initSubscription(),s}mt(o,n);var i=o.prototype;return i.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[v]=t||this.context[v],e},i.componentDidMount=function(){h&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},i.componentWillReceiveProps=function(e){this.selector.run(e)},i.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},i.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=Pt,this.store=null,this.selector.run=Pt,this.selector.shouldComponentUpdate=!1},i.getWrappedInstance=function(){return St()(_,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+l+"() call."),this.wrappedInstance},i.setWrappedInstance=function(e){this.wrappedInstance=e},i.initSelector=function(){var t=e(this.store.dispatch,s);this.selector=function(e,t){var n={run:function(r){try{var s=e(t.getState(),r);(s!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=s,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},i.initSubscription=function(){if(h){var e=(this.propsMode?this.props:this.context)[v];this.subscription=new Tt(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},i.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(Rt)):this.notifyNestedSubs()},i.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},i.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},i.addExtraProps=function(e){if(!(_||d||this.propsMode&&this.subscription))return e;var t=Et({},e);return _&&(t.ref=this.setWrappedInstance),d&&(t[d]=this.renderCount++),this.propsMode&&this.subscription&&(t[v]=this.subscription),t},i.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(dt.createElement)(t,this.addExtraProps(e.props))},o}(dt.Component);return o.WrappedComponent=t,o.displayName=r,o.childContextTypes=k,o.contextTypes=E,o.propTypes=E,Ct()(o,t)}}var Mt=Object.prototype.hasOwnProperty;function Dt(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function jt(e,t){if(Dt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var s=0;s<n.length;s++)if(!Mt.call(t,n[s])||!Dt(e[n[s]],t[n[s]]))return!1;return!0}var Lt=n(27);function Bt(e){return function(t,n){var r=e(t,n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function Ft(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Ut(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Ft(e);var s=r(t,n);return"function"==typeof s&&(r.mapToProps=s,r.dependsOnOwnProps=Ft(s),s=r(t,n)),s},r}}var zt=[function(e){return"function"==typeof e?Ut(e):void 0},function(e){return e?void 0:Bt(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?Bt(function(t){return Object(Lt.a)(e,t)}):void 0}];var Ht=[function(e){return"function"==typeof e?Ut(e):void 0},function(e){return e?void 0:Bt(function(){return{}})}];function Vt(e,t,n){return Et({},n,e,t)}var $t=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,s=n.pure,o=n.areMergedPropsEqual,i=!1;return function(t,n,a){var c=e(t,n,a);return i?s&&o(c,r)||(r=c):(i=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return Vt}}];function Gt(e,t,n,r){return function(s,o){return n(e(s,o),t(r,o),o)}}function Wt(e,t,n,r,s){var o,i,a,c,l,u=s.areStatesEqual,d=s.areOwnPropsEqual,p=s.areStatePropsEqual,h=!1;function m(s,h){var m=!d(h,i),f=!u(s,o);return o=s,i=h,m&&f?(a=e(o,i),t.dependsOnOwnProps&&(c=t(r,i)),l=n(a,c,i)):m?(e.dependsOnOwnProps&&(a=e(o,i)),t.dependsOnOwnProps&&(c=t(r,i)),l=n(a,c,i)):f?function(){var t=e(o,i),r=!p(t,a);return a=t,r&&(l=n(a,c,i)),l}():l}return function(s,u){return h?m(s,u):function(s,u){return a=e(o=s,i=u),c=t(r,i),l=n(a,c,i),h=!0,l}(s,u)}}function qt(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=s(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,i),c=r(e,i),l=o(e,i);return(i.pure?Wt:Gt)(a,c,l,e,i)}function Kt(e,t,n){for(var r=t.length-1;r>=0;r--){var s=t[r](e);if(s)return s}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Qt(e,t){return e===t}var Yt=function(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?At:n,o=t.mapStateToPropsFactories,i=void 0===o?Ht:o,a=t.mapDispatchToPropsFactories,c=void 0===a?zt:a,l=t.mergePropsFactories,u=void 0===l?$t:l,d=t.selectorFactory,p=void 0===d?qt:d;return function(e,t,n,o){void 0===o&&(o={});var a=o,l=a.pure,d=void 0===l||l,h=a.areStatesEqual,m=void 0===h?Qt:h,f=a.areOwnPropsEqual,g=void 0===f?jt:f,_=a.areStatePropsEqual,b=void 0===_?jt:_,v=a.areMergedPropsEqual,y=void 0===v?jt:v,E=s(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),k=Kt(e,i,"mapStateToProps"),C=Kt(t,c,"mapDispatchToProps"),w=Kt(n,u,"mergeProps");return r(p,Et({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:k,initMapDispatchToProps:C,initMergeProps:w,pure:d,areStatesEqual:m,areOwnPropsEqual:g,areStatePropsEqual:b,areMergedPropsEqual:y},E))}}();var Zt=n(1);var Jt=class{constructor(e){this._data=e}exists(e){return this._data.hasOwnProperty(e)}isExp(e){return this.exists(e)&&Boolean(this._data[e].exp)}isRef(e){return this.exists(e)&&Boolean(this._data[e].ref)}findExps(e){return Object.keys(this._data).filter(t=>R.get(this._data,[t,"exp"])&&t.match(e))}_execFindExp(e){return this.findExps(e).map(t=>e.exec(t))}getFirstGroupByRegexp(e){return this._execFindExp(e).map(([e,t])=>t)}},Xt=n(9);class en{constructor(e){this._config=e}static _merge(e,t){if(void 0===t)return e;if("object"!=typeof e)return typeof t==typeof e?t:e;for(const n of Object.keys(e))t&&typeof e[n]==typeof t[n]&&(e[n]=en._merge(e[n],t[n]));return e}static _cloneDeep(e){return"object"==typeof e?JSON.parse(JSON.stringify(e)):e}safeGet(e,t){try{const n=en._cloneDeep(R.get(this._config,e));return en._merge(t,n)}catch(e){return Object(Xt.a)("safeGet method of DefinitionConfig:",e),t}}unsafeGet(e,t){try{const n=R.get(this._config,e);return void 0===n?t:en._cloneDeep(n)}catch(e){return Object(Xt.a)("unsafeGet method of DefinitionConfig:",e),t}}}var tn=en;const nn=e=>"/"===e[0]?e.slice(1):e;var rn=n(30),sn=n(73);const on=e=>e.params.integration,an=e=>e.params.product,cn=(e,t)=>t===at||"site_mobile"===t,ln=e=>Boolean(e.channel&&!e.channel.noChannel),un=(Object(Zt.createSelector)(({links:e})=>e.login_tmpl,({router:e})=>e.location.pathname,(e,t)=>e?e.replace("__replace-retpath__",encodeURIComponent(nn(t))):null),Object(Zt.createSelector)(({links:e})=>e.logout_tmpl,({router:e})=>e.location.pathname,(e,t)=>e?e.replace("__replace-retpath__",encodeURIComponent(nn(t))):null),e=>e.params.isNarrativeFeed),dn=e=>e.params.isNativeFeed,pn=(Object(Zt.createSelector)(dn,un,ln,({router:e})=>"/"===e.location.pathname,(...e)=>e.some(Boolean)),Object(Zt.createSelector)(({params:e})=>e.experimentsData,e=>new Jt(e))),hn=Object(Zt.createSelector)(({params:e})=>e.clientDefinition,e=>new tn(e)),mn=(Object(Zt.createSelector)(({context:e})=>e.partner,e=>{return(e=>{if("undefined"==typeof window)return()=>{};const t=(n=3)=>new Promise((s,o)=>{const i=window[`yaCounter${e}`];i?s(i):0===n?(r.a.error(`metrikaGoals: Metrika counter ${e} not found`),o()):setTimeout(()=>t(n-1).then(s,o),3e3)}),n=t();return t=>{n.then(e=>{try{e.reachGoal(t)}catch(e){r.a.error("metrikaGoals: Error while reaching metrika goal",e)}}).catch(()=>{r.a.error(`metrikaGoals: Goal with name ${t} don't send to metrika because counter ${e} don't init`)})}})(Object(sn.getPartnerMetrikaCounterIds)(e))}),Object(Zt.createSelector)(on,an,(e,t)=>cn(0,t)),Object(Zt.createSelector)(ln,un,(e,t)=>!(e||t))),fn=Object(Zt.createSelector)(un,dn,ln,(e,t,n)=>!(e||t||n)),gn=(Object(Zt.createSelector)(on,an,pn,(e,t,n)=>cn(0,t)&&n.isExp("should_reset_scroll_on_unload")),Object(Zt.createSelector)(e=>e.iface.isOpenCardScrollEnabled,pn,(e,t)=>e&&t.isExp("should_scroll_on_open_card")&&!t.isExp("ab:rezen_cards25:rezen_cards25_b")&&!t.isExp("ab:rezen_cards25:rezen_cards25_c"))),_n=Object(Zt.createSelector)(e=>e.params.teethType,pn,(e,t)=>"string"==typeof e?e:t.isExp("zen_comtr_color")?"color":"white"),bn=Object(Zt.createSelector)(pn,e=>e.isExp("lazy_images")||e.isExp("ab:rezen_lazy_images:enable")||e.isExp("zen_lib_lazy_images")),vn=Object(Zt.createSelector)(e=>e.params.teethType,pn,(e,t)=>!!e||t.isExp("site_desktop_turkey_morda_teeth")),yn=Object(Zt.createSelector)(e=>e.params.zenFeatures.color_theme,e=>e===rn.REZEN_COLOR_THEMES.WHITE?rn.REZEN_COLOR_THEMES.LIGHT:e),En=["top_fixed","top_hiding","bottom"],kn=Object(Zt.createSelector)(pn,e=>{const t=En.some(t=>e.isExp(`ab:rezen_unified:${t}`)),n=e.isExp("ab:rezen_new_menu:rezen_new_menu");return t||n}),Cn=Object(Zt.createSelector)(pn,kn,e=>e.isExp("ab:mobile_zen_one_other_countries:mobile_zen_one_other_countries")),wn=Object(Zt.createSelector)(kn,Cn,(e,t)=>Boolean(e||t)),Sn=(Object(Zt.createSelector)(on,e=>["ya_search_app_ios"].includes(e)),Object(Zt.createSelector)(an,pn,(e,t)=>e===at||"zen_modal_lib"===e?t.isExp("ab:site_desktop_interests:site_desktop_interests_enabled")||t.isExp("ab:site_desktop_interests_staff:site_desktop_interests_staff_enabled"):"site_mobile"===e&&(t.isExp("ab:site_mobile_interests:site_mobile_interests_enabled")||t.isExp("ab:site_mobile_interests_staff:site_mobile_interests_staff_enabled"))),Object(Zt.createSelector)(e=>e.params.zenFeatures.color_theme,pn,(e,t)=>e===rn.REZEN_COLOR_THEMES.WHITE||t.isExp("ab:rezen_desktop_background:rezen_desktop_background_white"))),xn=(e,t)=>{const n=R.get($[e],t),r=R.get($.common,t);return n&&r&&Array.isArray(n)?n.concat(r):n||r},On=e=>{switch(e){case F:return 1;case U:return 2;case z:return 3}},In=((e,t)=>({items:n,itemsOrder:r})=>{if(e===r)return t;const s=r.map(e=>{const{type:t,ad:r,commentsDocumentId:s}=n[e];return{id:e,type:t,ad:r,commentsDocumentId:s}});return e=r,t=s,s})(),Tn=Object(Zt.createSelector)((e,t)=>e.feed.itemsOrder.indexOf(t),e=>e),Nn=e=>{const{gridType:t}=e;return $[t].columnCount},Rn="Placeholder",Pn="Zen",An=(e,t)=>{return(t?e.slice(0,t):e).map(e=>e.hasPlaceholder?Rn:Pn)},Mn=Object(Zt.createSelector)(In,e=>e.gridType,Nn,(e,t,n)=>{const s=[],o={},i=xn(t,"layoutableTypes");let a=-1;return e.forEach(({id:e,type:c,ad:l,commentsDocumentId:u})=>{const d=i.includes(c);d&&a++;const p=d?((e,t)=>{switch(t){case"one_column":return F;case"two_column":{const t=e%4;return 0===t||1===t?F:U}case"two_column_small_cards":return F;case"three_column":return[3,6].includes(e%7)?U:F;case"three_column_first_big":return[0,3].includes(e%7)?U:F;default:return null}})(a,t):z;xn(t,["availableSizes",c]).includes(p)||r.a.warn("Invalid item size:",p,c,e);const h=On(p);let m=s[s.length-1];m||(m=[],s.push(m));const f={id:e,type:c,size:p,ad:l,commentsDocumentId:u};if(m.reduce((e,{size:t})=>e+On(t),0)+h<=n)m.push(f);else{const e=[f];s.push(e),"placeholder"===c&&(e.hasPlaceholder=!0)}f.row=s.length-1,o[e]=f}),{elements:o,rows:s}}),Dn=Object(Zt.createSelector)(In,e=>e.filter(({type:e})=>"placeholder"===e||"card-placeholder"===e).map(({id:e})=>e)),jn=Object(Zt.createSelector)(Dn,(e,t)=>t,(e,t)=>e.indexOf(t)),Ln=Object(Zt.createSelector)(an,e=>e.params.isAdaptiveDesign,(e,t)=>[lt,ut].includes(e)?"yabro-1":t?"generic":null),Bn=(e,t)=>e.feed.items[t].parentId,Fn=Object(Zt.createSelector)(Bn,(e,t)=>{const n=Mn(e.feed),r=Bn(e,t),s=n.elements[r].row;return n.rows[s]},e=>Nn(e.feed),(e,t,n)=>{const r=t[0].id,s=t[t.length-1].id;if(1===n)return H.CENTER;switch(e){case r:return H.LEFT;case s:return H.RIGHT;default:return H.CENTER}}),Un=Object(Zt.createSelector)(pn,e=>e.isExp("zen_lib_rtb"));var zn=()=>{const e=new function(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})};let t,n,r=[],s=!1;const o=(...e)=>{r.push(e),s&&i()},i=()=>{r.some(([e,r])=>t===e&&n===r)?(ot.off(it.FEED_CHANGED,o),e.resolve()):r=[]};return ot.on(it.FEED_CHANGED,o),r=>(s=!0,t=Mn(r.feed),n=r.feed.displayedRowsNumber,i(),e.promise)};var Hn=e=>new Promise(t=>{setTimeout(t,e)});function Vn(e,t,n){return{type:n,bulkStat:{bulkParams:e.bulkParams,statEvents:e.statEvents,statEvent:t},payload:{id:e.id}}}const $n=e=>Object.assign({},e,{broadcastable:!0}),Gn=e=>e,Wn=(e,t,n)=>{let s=void 0;const o=`${e=e.toUpperCase()}_REQUEST`,i=`${e}_SUCCEED`,a=`${e}_FAILURE`,c={status:"pending",data:void 0};return{action:(...n)=>c=>{c({type:o,meta:n});const l=s=t(...n).then(e=>{l===s&&c({type:i,payload:e,meta:n})},t=>{l===s&&(r.a.error(`Failed to get ${e}:`,t),c({type:a,meta:n}))})},reducer:(e=c,t)=>{switch(t.type){case o:return Object.assign({},e,{status:"pending"});case i:{const r=t.payload;return Object.assign({},e,{status:"success",data:n(r)})}case a:return Object.assign({},e,{status:"error"});default:return e}},request:o,succeed:i,failure:a}},qn=(e,t=1e3)=>{const n=((e,t)=>{let n=null,r=null,s=null;return(...o)=>(s=o,Promise.resolve(n).then(()=>(s&&(n=Hn(t),r=e(...s),s=null),r)))})((t,...n)=>t(e(...n)),t);return(...e)=>t=>n(t,...e)},Kn=(e,t,n,r=Gn,o=1e3)=>{const i=Wn(e,t,r),{action:a}=i,c=s(i,["action"]),l=qn(a,o),u=((e,t)=>(...n)=>(r,s)=>{const{status:o,data:i}=t(s(),...n);return"success"!==o?r(e(...n)):Promise.resolve(i)})(l,n);return Object.assign({action:u,forceAction:l},c)},Qn=e=>(t,n)=>{const r=Object.keys(e).reduce((t,r)=>(t[r]=((t={})=>e[r](Object.assign({},n,t))),t),{});return Object(Lt.a)(r,t)},Yn="undefined"!=typeof window&&void 0!==window.localStorage;var Zn=Yn?{isAvailable:Yn,getItem(e){try{return window.localStorage.getItem(e)}catch(e){return console.error(e),null}},setItem(e,t){try{return window.localStorage.setItem(e,t),!0}catch(e){return console.error(e),!1}},removeItem(e){try{return window.localStorage.removeItem(e),!0}catch(e){return console.error(e),!1}}}:{isAvailable:!1,getItem:e=>null,setItem:(e,t)=>!1,removeItem:e=>!1};let Jn,Xn;"undefined"!=typeof document&&(void 0!==document.hidden?(Jn="visibilityState",Xn="visibilitychange"):void 0!==document.mozHidden?(Jn="mozVisibilityState",Xn="mozvisibilitychange"):void 0!==document.msHidden?(Jn="msVisibilityState",Xn="msvisibilitychange"):void 0!==document.webkitHidden&&(Jn="webkitVisibilityState",Xn="webkitvisibilitychange"));const er=()=>!Jn||"visible"===document[Jn],tr=e=>{if(!Xn)return()=>{};const t=()=>{e(er())};return document.addEventListener(Xn,t),()=>{document.removeEventListener(Xn,t)}};var nr=()=>Pe(200).then(()=>new Promise(e=>{if(Boolean(Jn)&&er())return void e();let t;const n=()=>{t(),document.removeEventListener("scroll",n),document.removeEventListener("mousemove",n),document.removeEventListener("touchmove",n),e()};t=tr(e=>{e&&n()}),document.addEventListener("scroll",n),document.addEventListener("mousemove",n),document.addEventListener("touchmove",n)}));const rr=()=>e=>{e({type:"HIDE_MORE_BUTTON",payload:null})},sr=e=>t=>{t({type:"SWITCH_MORE_BUTTON_OFFSET_MODE",payload:{offsetMode:e}})},or=()=>e=>{e({type:"HIDE_ERROR_MESSAGE",payload:null})},ir=e=>{return $n({type:e?"VIDEO_AUTOPLAY_ON":"VIDEO_AUTOPLAY_OFF",payload:null})},ar=()=>(e,t,{zenApi:n})=>{const{product:r}=t().params,s=(e=>"undefined"!=typeof document&&window["abr_native"===e?"yandex.mobileZen":"ZENKIT"])(r);s?s.onPageStatusChanged(!0):n.invalidateCache()},cr=(e,t)=>({type:"MERGE_STATE_BRANCH",payload:{branchName:e,branchState:t}}),lr=e=>cr("links",e),ur=e=>cr("params",e),dr=e=>cr("user",e),pr=e=>Object.values(e.sources),hr=Object(Zt.createSelector)(pr,e=>e&&e.filter(({status:e})=>"subscribed"===e)),mr=(Object(Zt.createSelector)(pr,e=>e&&e.filter(({status:e,isUnsubscribedInCurrentSession:t})=>"subscribed"===e||t)),Object(Zt.createSelector)(pr,e=>e&&e.filter(({status:e})=>"blocked"===e)),Object(Zt.createSelector)(pr,e=>e&&e.filter(({status:e,isUnblockedInCurrentSession:t})=>"blocked"===e||t)),(e,t)=>e.map(e=>t[e]).filter(Boolean)),fr=e=>Object(Zt.createSelector)(e,e=>e.sources,(e,t)=>{if(e)return mr(e,t)}),gr=(fr(e=>e.categories.data&&e.categories.data.sources),fr((e,t)=>t),fr(e=>e.search.search.data),fr(e=>e.onboarding.data),Object(Zt.createSelector)(({linkBoard:e})=>e.sources,({linkBoard:e})=>e.groups,(e,t)=>Array.isArray(t)?t.map(t=>Object.assign({},t,{sources:mr(t.source_ids,e)})):null),fr((e,t)=>e.category[t]&&e.category[t].data&&e.category[t].data.sources),Object(Zt.createSelector)(e=>e.channel,e=>e.sources,e=>e.feed,(e,t,n)=>{let r;return(r=e&&e.id)?t[r]:null}));function _r(e,t){return Object.keys(t).reduce((e,n)=>e.replace(n,t[n]),e)}var br=class{constructor(e){const{bulkParams:t,statEvents:n}=e;t&&n||r.a.warn("Invalid bulk stat params. `bulkParams`: %s, `statEvents`:",t,n),this._params=e}getParams(){return this._params}log(e,t){const{statEvents:n,meta:s}=this._params;let{bulkParams:o}=this._params,i=n[e];if(!i)return void r.a.warn("Invalid `statEvent`: %s. Request not sent.",e);const a=t&&t.global?t.global:{};o=_r(o,Object.assign({},{},a));const c=t&&t.local;c&&(i=_r(i,c)),et.logBulkEvent({event:i,bulkParams:o,statMeta:s,info:t&&t.info})}};const vr=(e,t)=>Object.keys(t).reduce((e,n)=>e.replace(n,t[n]),e),yr={log:()=>{}},Er=(e,t,n)=>{if(!e||!t)return r.a.warn(new Error("Invalid bulk stat params. `bulkParams`: %s, `statEvents`:"),e,t),yr;return{log:(s,{local:o={},global:i={},rename:a={},info:c}={})=>{const l=t[a[s]||s];return l?et.logBulkEvent({event:vr(l,o),bulkParams:vr(e,i),statMeta:n,info:c}):(r.a.warn("Invalid `statEvent`: %s. Request not sent.",s),yr)}}},kr=Object.keys,Cr=Object(Zt.createSelectorCreator)(Zt.defaultMemoize,(e,t)=>kr(e).filter(n=>e[n]===t[n]).length===kr(t).length),wr=e=>Cr(e=>e,(e,t)=>t,e),Sr=e=>{const t=wr((t,n)=>{return{log:(r,s={})=>n.log(r,Object.assign({},s,{[e]:Object.assign({},s[e],t)}))}});return e=>n=>t(e,n)},xr=Sr("local"),Or=(Sr("global"),Sr("rename")),Ir=(e="")=>{const t=wr((t,n)=>{return{log:(t,r={})=>{const s=r.local||{},o=s.__els__||"";return n.log(t,Object.assign({},r,{local:Object.assign({},s,{__els__:o?`${e}.${o}`:e})}))}}});return n=>t(e,n)},Tr=()=>Object(Zt.createSelector)(e=>e.id,(e,t)=>t,e=>e.statParams,e=>e.statEvents,e=>e.bulkParams,e=>e.rowIndex,(e,t,n,r,s,o)=>{if(t&&n){const{statEvents:r,bulkParams:s}=n[t];return new br({id:e,statEvents:r,bulkParams:s,meta:{rowIndex:o}})}return r&&s?new br({id:e,statEvents:r,bulkParams:s,meta:{rowIndex:o}}):null}),Nr=()=>Object(Zt.createSelector)(e=>e.statEvents,e=>e.bulkParams,e=>e.rowIndex,e=>e.source?e.source.statParams:e.statParams,e=>e.source?e.source.statEvents:e.statEvents,e=>e.source?e.source.bulkParams:e.bulkParams,e=>e.place,(e,t,n,s,o,i,a)=>{if(s){const e=s[a];return e?Er(e.bulkParams,e.statEvents,{rowIndex:n}):(r.a.error(new Error(`place ${a} not found in statParams`)),Er())}return o&&i?Er(i,o,{rowIndex:n}):e&&t?Er(t,e,{rowIndex:n}):Er()}),Rr=["id","source","type","feedback","complaints","complaintsSendedAt","title","domainTitle","bulkParams","statEvents"],Pr=(()=>{const e=[];return(t,n)=>{return(t.feed.items[n]&&t.feed.items[n].customUserFeedbackData||{}).questions||e}})(),Ar=Object(Zt.createSelector)(Pr,e=>e.filter(e=>"zoloka_interest_feedback"===e.type)[0]||null),Mr=Object(Zt.createSelector)(Pr,e=>e.filter(e=>"extended_dislike_feedback"===e.type)[0]||null),Dr=((e,t)=>{let n=null;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{n=null,e(...r)},t)}})(()=>et.invalidateCache(),2500),jr=Object(Zt.createSelector)(Mr,e=>{if(e){const t=Tr(),n=(e.answers||[]).map(e=>{const n=t(e.stats);return Object.assign({},e,{onBlock:()=>{n.log("feedback_block"),Dr()},onUnblock:()=>{n.log("feedback_cancel_block"),Dr()}})});return Object.assign({},e,{answers:n})}}),Lr=()=>Object(Zt.createSelector)(yn,un,dn,gr,(e,t)=>Mn(e.feed).elements[t].size,e=>e.params.complaints&&e.params.complaints.reasons,e=>e.params.isMobile,e=>e.sources,jr,...Rr.map(e=>(t,n)=>t.feed.items[n][e]),(e,t,n,r,s,o,i,a,c,...l)=>{const u=l.reduce((e,t,n)=>{return e[Rr[n]]=t,e},{}),{feedback:d,source:p}=u;return Object.assign({},u,{source:a[p],size:s,theme:e,complaintReasons:o,isMobile:i,dislikeQuestion:c,isEnabled:!(t||n||r&&"interest"!==r.type),isNegativeFeedback:d&&"liked"!==d})}),Br=["id","feedback","isMittensJumping","bulkParams","statEvents"],Fr=()=>Object(Zt.createSelector)(e=>e.params.isMobile,un,dn,...Br.map(e=>(t,n)=>t.feed.items[n][e]),(e,t,n,...r)=>r.reduce((e,t,n)=>{return e[Br[n]]=t,e},{isEnabled:!(t||n),size:e?"medium":"small"})),Ur=["id","type","statEvents","subscribeTriggerEvent","feedback","read"];var zr=function(e,t=250,n){let r,s;return(...o)=>{const i=n||this,a=Date.now();clearTimeout(s),r&&a<r+t?s=setTimeout(()=>{r=a,e.apply(i,o)},t):(r=a,e.apply(i,o))}},Hr=n(72);const Vr=250;let $r,Gr,Wr=[],qr=[],Kr=[],Qr=[],Yr=[],Zr=!1,Jr=0,Xr=!1;const es=n.n(Hr).a.hasSupport;let ts;function ns(e,t){let n=e.length-1;for(;n>=0;n--)t(e[n])}function rs(e,t){const n=[];let r;for(let s=0,o=e.length;s!==o;s++)t(r=e[s])&&n.push(r);return n}let ss=0;function os(){return`__scrollEv${++ss}__`}const is={scroll:void 0,scrollBottomEdge:void 0,scrolling:!1,lastScrollChangeTime:void 0,scrollStartPosition:void 0,scrollEndPosition:void 0};let as=Ss(is),cs={},ls=!1;const us=[];function ds(){const e=Ss(as);as=Cs(e)}const ps=(e,t,n)=>{qr.push({scroll:e.scroll,name:e.name||os(),bottomEdge:e.bottomEdge,data:n,callback:t,_state:e.defaultState||0}),e.precise&&function(e,t){us.push([e,t])}(e.scroll-700,e.scroll+700)},hs=(e,t,n)=>{Kr.push({delta:e.delta,name:e.name||os(),direction:e.direction>0?1:-1,anyDirection:e.anyDirection,endTrigger:e.endTrigger,once:e.once,onceDebounce:e.onceDebounce,data:n,callback:t})},ms=()=>{Zr=!0},fs=()=>{ds(),Zr=!1};const gs=()=>{Xr?window.addEventListener("message",({data:e})=>{const{type:t}=e;if("scroll"===t){const{scrollTop:t,winHeight:n}=e;$r=t,Gr=n,bs()}}):(es?document.addEventListener("scroll",bs,{passive:!0}):requestAnimationFrame(ys),((e,t,n)=>{const r=e.name||os();Qr.push({name:r,timeout:e.timeout||0,data:n,callback:t,_lastTriggerTime:0})})({},({scroll:e})=>{!function(e){let t=!1;ns(us,([n,r])=>{e>=n&&e<=r&&(t=!0)}),ls=t}(e)}))};function _s(e,t,n){return n.fromBottom?e<=n.scroll||!!(n.bottomEdge&&t<=n.scroll):e>=n.scroll||!!(n.bottomEdge&&t>=n.scroll)}function bs(){ys(Date.now())}function vs(e,t){es&&(t||(clearTimeout(ts),ts=setTimeout(()=>ys(Date.now(),!0),Vr))),Jr=e;const n=Ss(as);as=Cs(n,t);const{scroll:r,scrollBottomEdge:s}=as;!0===as.scrolling&&n.scrolling,(!0===as.scrolling||t)&&function(e){Es(e,!1),ks(e,!1)}(as),!1===as.scrolling&&!0===n.scrolling&&function(e){Es(e,!0),ks(e,!0),ns(Yr,e=>{clearTimeout(e._timeout),e.callback()}),Yr=[]}(as),function(e,t){ns(Wr,n=>{const r=_s(e,t,n);if(r){if(n.onceDebounce&&n._triggeredDebounce)return;ws(n.name,{data:n.data},n.callback),n._triggered=!0,n._triggeredDebounce=!0}else n.onceDebounce&&n._triggeredDebounce&&(n._triggeredDebounce=!1)}),Wr=rs(Wr,e=>!(e._triggered&&e.once))}(r,s),function(e,t){ns(qr,n=>{0===n._state&&_s(e,t,n)&&(ws(n.name,{state:1,data:n.data},n.callback),xs(n.name)||(n._state=1)),1!==n._state||_s(e,t,n)||(ws(n.name,{state:0,data:n.data},n.callback),xs(n.name)||(n._state=0))})}(r,s),es||requestAnimationFrame(ys)}const ys=ls?vs:zr(vs,30);function Es(e,t){const n=rs(Kr,e=>!!e.endTrigger===t),r=(t?e.scrollEndPosition:e.scroll)-e.scrollStartPosition,s=Math.abs(r),o=r>0?1:-1;ns(n,e=>{e.onceDebounce&&cs[e.name]||s>=e.delta&&(e.direction===o||e.anyDirection)&&(ws(e.name,{data:e.data},e.callback),e._triggered=!0,cs[e.name]=!0)}),Kr=rs(Kr,e=>!(e._triggered&&e.once))}function ks(e,t){const n=Date.now();ns(Qr,r=>{(n-r._lastTriggerTime>=r.timeout||t)&&(ws(r.name,{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,data:r.data},r.callback),r._lastTriggerTime=n)})}function Cs(e,t){const n=Ss(is),r=Xr?$r:window.pageYOffset,s=Date.now();return n.scroll=r,n.scrollBottomEdge=r+(Xr?Gr:window.innerHeight),n.scroll!==e.scroll?n.lastScrollChangeTime=s:n.lastScrollChangeTime=e.lastScrollChangeTime,n.direction=n.scroll>=e.scroll?1:-1,s-n.lastScrollChangeTime>Vr||t||n.direction!==e.direction?n.scrolling=!1:n.scrolling=!0,!0===n.scrolling&&!1===e.scrolling&&(n.scrollStartPosition=r,cs={}),!0===n.scrolling&&void 0!==e.scrollStartPosition&&void 0===n.scrollStartPosition&&(n.scrollStartPosition=e.scrollStartPosition),!1===n.scrolling&&!0===e.scrolling&&(n.scrollStartPosition=e.scrollStartPosition,n.scrollEndPosition=r),n}function ws(e,t,n){xs()||n&&n(t)}function Ss(e){return{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,scrolling:e.scrolling,lastScrollChangeTime:e.lastScrollChangeTime,scrollStartPosition:e.scrollStartPosition,scrollEndPosition:e.scrollEndPosition,direction:e.direction}}function xs(){return Zr}const Os=200,Is=(e,t,n,r)=>(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t;var Ts=new class{_loop(e){this.timeStart||(this.timeStart=e),this.timeElapsed=e-this.timeStart,this.next=Is(this.timeElapsed,this.start,this.distance,Os),window.scrollTo(0,this.next),this.timeElapsed<Os?requestAnimationFrame(e=>{this._loop(e)}):this._end()}scrollTo({top:e=0,animate:t=!0}={}){return new Promise(n=>{const r=Math.max(0,e),s=()=>{const e={scroll:r,scrollBottomEdge:r+window.innerHeight};window.scrollTo(0,this.start+this.distance),this.timeStart=0,this.enableScrollEvents(),this.scrollPosition=e,n(r)};this._end=s,this.start=window.pageYOffset,this.distance=r-this.start,this.disableScrollEvents(),t?requestAnimationFrame(e=>{this._loop(e)}):(window.scrollTo(0,r),s())})}disableScrollEvents(){ms()}enableScrollEvents(){setTimeout(()=>fs(),500)}},Ns=e=>{if(!e.getClientRects().length)return 0;const t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset};var Rs=(e=!1)=>(ms(),(()=>{const e=document.querySelector(".zen-app");return Promise.resolve(Ns(e))})().then(t=>Ts.scrollTo({top:t+2,animate:e})).then(()=>Pe(1e3)).then(()=>fs()));const Ps=(e,t,n)=>({type:"RECEIVE_ITEMS",payload:{items:e,insertOnTop:t,shouldRefreshFeed:n}}),As=({insertOnTop:e=!1,shouldRefreshFeed:t=!1,onAfterPackInsert:n}={})=>(s,o,{zenApi:i,ttlController:a})=>{return i.getMore({onTryComplete(c){const l=()=>{if(!c.isLastSession()){if(c.isRejected)throw c.error;return}if(c.isRejected){if(!(0!==c.tryNumber)){const e=o();ln(e)||s((e,t)=>{const n=t(),{isErrorMessageVisible:r,isNotifiersDisabled:s}=n.iface;r||s||(e(e=>{e({type:"HIDE_MORE_BUTTON",payload:null})}),e({type:"SHOW_ERROR_MESSAGE",payload:null}),Pe(5e3).then(()=>e(e=>{e({type:"HIDE_ERROR_MESSAGE",payload:null})})))})}throw a&&a.apiResponseReceiveFailed(Ee.MORE,c.error),r.a.warn(c.error.message),c.error}const l=n?zn():null,{apiResponse:u}=c.value;if(a&&a.apiResponseReceived(Ee.MORE,u),s(lr({[Ee.MORE]:u.more.link||null})),s(Ps(u.items,e,t)),u.id&&i.packUsed(u.id),l)return l(o())};let u;try{u=l()}catch(e){throw n&&n(!1),e}n&&(u?u.then(()=>n(!0)):n(!1))}}).retriesResult.catch(e=>{r.a.warn(`GetMore retries failed: '${e.message}'.`)})},Ms=(e,t)=>(n,r)=>{const{feed:s}=r(),{rows:o,elements:i}=Mn(s),a=i[e].row,c=o[a];if(Bs(o[a+1],V)){const e=o[a+1][0].id,t=s.items[e];n(Ds(t.parentId))}n({type:"INSERT_ITEM_AFTER",payload:{afterId:c[c.length-1].id,item:t}}),n({type:"LINK_CHILD_ITEM",payload:{itemId:e,childItemId:t.id}})},Ds=e=>(t,n)=>{const{feed:r}=n(),s=r.items[e];s.childItemId&&(t({type:"UNLINK_CHILD_ITEM",payload:{itemId:e}}),t({type:"REMOVE_ITEM",payload:{itemId:s.childItemId}}))},js=e=>({type:"SET_DISPLAYED_ROWS_NUMBER",payload:{displayedRowsNumber:e}}),Ls=e=>(t,n)=>{const r=n(),s=Bn(r,e);t({type:"ANSWER_USER_QUESTION",payload:{id:e,parentId:s}})};function Bs(e,t){return!!e&&e.some(e=>"string"==typeof t?e.type===t:t.has(e.type))}const Fs=[],Us={links:lr,params:ur,shared:e=>cr("shared",e),context:e=>cr("context",e),auth:e=>cr("auth",e),user:dr},zs=(e,t)=>{const n=R.get(e,"screens.items");if(!n)return null;const r=n.filter(({type:e})=>e===t);return 1!==r.length?null:r[0].source},Hs=e=>(t,n,{zenApi:r,ttlController:s})=>{if(s&&s.apiResponseReceived(Ee.EXPORT,e),t({type:"CLEAR_FEED"}),e.items){t((e=>t=>{t((e=>({type:"SET_GRID_TYPE",payload:{gridType:e}}))(e)),t(js(xn(e,"initialDisplayedRowsNumber")))})(R.get(e,"grid_type.name"))),t(Ps(e.items))}if(e.channel){t((e=>({type:"SOURCE_MERGE",payload:e}))((({source:e,bulk_params:t,stat_events:n})=>Object.assign({},Q(e),{bulkParams:t,statEvents:n}))(e.channel)))}t((e=>{const t={[Ee.ONBOARDING]:R.get(e,"onboarding.link")||null,[Ee.MORE]:R.get(e,"more.link")||null,[Ee.BULK]:R.get(e,"bulk.link")||null,[Ee.SUBS]:zs(e,"subs")||zs(e,"switchable_subs"),[Ee.PROFILE]:zs(e,"profile"),[Ee.CATEGORY]:zs(e,"category"),[Ee.CATEGORIES]:zs(e,"categories"),[Ee.SUGGEST]:zs(e,"suggest"),[Ee.BLOCKED]:zs(e,"blocked"),[Ee.PREFERENCES]:zs(e,"preferences"),[Ee.BLOCKED_SUGGEST]:zs(e,"blocked_suggest"),[Ee.VIDEO_RECOMMEND]:zs(e,"video_recommend"),[Ee.COUNTRY_LANG]:zs(e,"language"),[Ee.COMMENTS_COUNTER]:zs(e,"comments_counter")};return lr(t)})(e)),t((e=>{const t={banner:"bannerStats",experiments_data:"experimentsData",client_definition:"clientDefinition",ice_start:"isIceStart",complaints:"complaints",bulk:"bulk"},n=Object.keys(t).reduce((n,r)=>(n[t[r]]=e[r],n),{});return ur(n)})(e)),t((e=>cr("request",e))({rid:R.get(e,"rid")})),t({type:"APPLY_EXPORT_DATA",payload:e}),e.id&&r.packUsed(e.id)},Vs=e=>t=>{const{exportData:n,isExportDataParsed:r=!0,initialDisplayedRowsNumber:s,params:o,comments:i}=e;if(Object.keys(Us).forEach(n=>{const r=e[n];if(r){t((0,Us[n])(r))}}),n){const e=r?n:_e(n);t(Hs(e))}i&&t((e=>async t=>{t({type:"INIT_COMMENTS",payload:e})})(i)),s&&t(js(s));const{isChildPage:a}=o;a&&t((e=>({type:"SET_IS_CHILD_WINDOW",payload:{isChildWindow:e}}))(a)),t((e,t)=>{const n=t(),{feed:r,shared:s}=n,{scrollToID:o}=s;if(!o)return;const{displayedRowsNumber:i}=n.feed,{rows:a}=Mn(r),c=a.findIndex(e=>e.some(({id:e})=>e===o));e(js(c+i))})};var $s=e=>t=>n=>{const r=R.get(n,"payload.id"),s=e.getState(),o=((e,t)=>{const n={};if(t){const{elements:r}=Mn(e.feed);n.rowIndex=r&&r[t]&&r[t].row}return n})(s,r);if(n.statEvent){const{statEvent:e}=n,t=s.feed.items[r],i=t.statEvents[e],{bulkParams:a}=t;et.logBulkEvent({event:i,bulkParams:a,statMeta:o})}if(n.bulkStat){const{statEvents:e,statEvent:t,bulkParams:r}=n.bulkStat,s=e[t];et.logBulkEvent({event:s,bulkParams:r,statMeta:o})}return t(n)};const Gs=Math.round(1e8*Math.random()),Ws="BROADCAST_ACTION";var qs=e=>e=>t=>{if(t.broadcastable){const e=Object.assign({},t);delete e.statEvent,delete e.bulkStat,delete e.broadcastable,e.tabId=Gs,Zn.setItem(Ws,JSON.stringify(e))}return e(t)};const Ks={SOURCE_BLOCK:"blocked",SOURCE_UNBLOCK:"unblocked",SOURCE_SUBSCRIBE:"subscribed",SOURCE_UNSUBSCRIBE:"unsubscribed"};var Qs=e=>e=>t=>{const{type:n,payload:r}=t;if(Ks[n]&&r){const{id:e}=r;tt.emit(nt.SOURCE_CHANGE,{id:e,type:Ks[n]})}return e(t)},Ys=n(22),Zs=n(26),Js=n(71),Xs=n.n(Js);const eo=e=>(...t)=>n=>(...r)=>{let s=[],o=s,i=0;return Object(Ys.a)(Object(Zs.a)(()=>e=>t=>{const n="function"==typeof t;let r;n&&i++;try{r=e(t)}finally{n&&i--}if(0===i){const e=s=o;for(let t=0;t<e.length;t++)e[t]()}return r},Xs.a.withExtraArgument(e),...t),e=>(...t)=>{const n=e(...t),r=()=>{o===s&&(o=s.slice())};return Object.assign({},n,{subscribe:e=>{if("function"!=typeof e)throw new Error("Expected the listener to be a function.");let t=!0;return r(),o.push(e),function(){if(!t)return;t=!1,r();const n=o.indexOf(e);o.splice(n,1)}}})})(n)(...r)},to=eo();to.withExtraArgument=eo;n(109);const no=Object.freeze([$s,qs,Qs]),ro=(e,t)=>{return to.withExtraArgument(t)(...e)},so=e=>e.displayName||e.name||"Component",oo=Object(dt.createContext)(null),io=({settings:e,App:t,reducer:n,middlewares:r=[],instances:s={}})=>{const o=Object(ht.b)(n,ro(r,s));return o.dispatch(Vs(e)),{app:pt.a.createElement(oo.Provider,{value:s},pt.a.createElement(vt,{store:o},pt.a.createElement(t,null))),store:o}};var ao=(e,t)=>{const n={};if(e.countryCode&&(n.countryCode=e.countryCode),e.theme){const r=t.getState(),{zenFeatures:s}=r.params;n.zenFeatures=Object.assign({},s,{color_theme:e.theme})}Object.keys(n).length>0&&t.dispatch(ur(n)),e.userInfo&&t.dispatch(dr(e.userInfo))},co=n(25),lo=n.n(co);var uo=(e,t,n=!1)=>{const r=()=>{tt.emit(nt.FIRST_PAINT)};let s;s=e,n?lo.a.hydrate(s,t,r):lo.a.render(s,t,r)};const po=Object(Zt.createSelector)(e=>e.params.host,e=>e.params.clid,e=>e.params.countryCode,e=>e.params.zenFeatures,e=>e.params.clientExperiments,e=>e.links,e=>e.user,(e,t,n,r,s,o,i)=>({host:e,clid:t,countryCode:n,zenFeatures:r,clientExperiments:s,links:o,userInfo:i}));var ho=(e,t)=>{let n;const r=()=>{const r=t.getState(),s=po(r);void 0!==n&&n===s||(n=s,e.configure(e=>Object.assign({},e,s)))};return r(),t.subscribe(r)};n(319);const mo={};for(let e=65;e<91;e++){const t=String.fromCharCode(e);mo[t]=`-${t.toLowerCase()}`}const fo=e=>(t,n)=>{const[r,s]="string"==typeof t?[t,n]:[null,t];let o=e;return r&&(o+=`__${r}`),s&&Object.keys(s).forEach(e=>{const t=s[e];if(t){const n=(e=>{const{length:t}=e;let n="";for(let r=0;r<t;r++){const t=e[r];n+=mo[t]||t}return n})(e);o+=!0===t?` _${n}`:` _${n}_${t}`}}),o},go=(...e)=>e.filter(e=>e&&"string"==typeof e).join(" ");fo.mix=go;var _o=fo;n(317),n(316),n(108);var bo=e=>{var t,n;return n=t=class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this.state={isVisible:!1,isIntersecting:!1},this._node=null,this._intersectionObserver=null,this._rootRef=(e=>{this._unobserve(),e&&this._observe(e)}),this._onIntersectionChange=(e=>{const{visibilityThreshold:t}=this.props,n=e[e.length-1];this.setState({isIntersecting:n.isIntersecting,isVisible:n.intersectionRatio>=t})}),t}_ensureIntersectionObserverInstance(){if(null!==this._intersectionObserver)return;const{root:e,visibilityThreshold:t,rootMargin:n}=this.props,r={root:e,rootMargin:n,threshold:[0,1-t,t,1].sort((e,t)=>e-t)};this._intersectionObserver=new IntersectionObserver(this._onIntersectionChange,r)}_observe(e){this._ensureIntersectionObserverInstance(),this._node=e,this._intersectionObserver.observe(this._node)}_unobserve(){this._intersectionObserver&&this._intersectionObserver.disconnect(),this._node=null}componentWillUnmount(){this._unobserve()}render(){const{isVisible:t,isIntersecting:n}=this.state;return pt.a.createElement(e,Et({},this.props,{rootRef:this._rootRef,isVisible:t,isIntersecting:n}))}},t.defaultProps={visibilityThreshold:.8,rootMargin:"0px 0px 0px 0px"},n};const vo=e=>t=>{t(Vn(e,"feedback_more","ITEM_FEEDBACK_LIKE"))},yo=e=>t=>{t(Vn(e,"feedback_cancel_more","ITEM_FEEDBACK_CANCEL"))},Eo=e=>(t,n,{zenApi:r})=>{const s=n(),o=pn(s);"liked"===((e,t)=>{const n=e.videoModal&&e.videoModal.videoFeed[t],r=e.feed.items[t];return r||n})(s,e.id).feedback&&t(yo(e)),t(Vn(e,"feedback_less","ITEM_FEEDBACK_DISLIKE")),o.isExp("ab:invalidate_cache_on_dislike:invalidate_cache_on_dislike")&&r.invalidateCache()},ko=e=>t=>{t(Vn(e,"feedback_cancel_less","ITEM_FEEDBACK_CANCEL"))},Co=e=>({type:"ITEM_FEEDBACK_CANCEL_BLOCK",payload:{id:e.id}}),wo=({id:e,targetKey:t,questionType:n})=>({type:"ITEM_FEEDBACK_ANSWER_TOGGLE",payload:{id:e,targetKey:t,questionType:n}}),So=({id:e})=>({type:"ITEM_FEEDBACK_ANSWERS_UNCHECK",payload:{id:e}}),xo=({source:e,logger:t})=>n=>{t.log("feedback_block"),n(ar()),n((e=>$n({type:"SOURCE_BLOCK",payload:{id:e}}))(e.id))},Oo=({source:e,logger:t})=>n=>{t.log("feedback_cancel_block"),n(ar()),n((e=>$n({type:"SOURCE_UNBLOCK",payload:{id:e}}))(e.id))},Io=({source:e,logger:t})=>n=>{t.log("feedback_favourite"),n(ar()),n((e=>$n({type:"SOURCE_SUBSCRIBE",payload:{id:e}}))(e.id))},To=({source:e,logger:t})=>n=>{t.log("feedback_cancel_favourite"),n(ar()),n((e=>$n({type:"SOURCE_UNSUBSCRIBE",payload:{id:e}}))(e.id))},No={subscribed:To,blocked:Oo,not_subscribed:Io},Ro={subscribed:To,blocked:Oo,not_subscribed:xo},Po={subscribed:To,blocked:Io,not_subscribed:Io},Ao={subscribed:xo,blocked:Oo,not_subscribed:xo},Mo=Qn({onToggleBlock:e=>Ro[e.source.status](e),onToggleSubscribe:e=>No[e.source.status](e),onShortToggleBlock:e=>Ao[e.source.status](e),onShortToggleSubscribe:e=>Po[e.source.status](e),onBlock:xo,onUnblock:Oo,onSubscribe:Io,onUnsubscribe:To,onComplain:({logger:e})=>()=>{e.log("complain_show")}});var Do=Yt(null,Mo,null,{pure:!1});n(315),n(314);var jo=class{constructor(){this._listenerRemovers=[]}add(e,t,n,r){e.addEventListener(t,n,r);const s=()=>{e.removeEventListener(t,n,r),this._listenerRemovers=this._listenerRemovers.filter(e=>e!==s)};return this._listenerRemovers=this._listenerRemovers.concat(s),s}clear(){this._listenerRemovers.forEach(e=>{e()})}};var Lo=(e,t)=>{const n=Object.keys(t),r=Object.assign({},e);for(let s=0;s<n.length;s++){const o=n[s],i=t[o],a=e[o];switch(o){case"className":r[o]=go(i,a);break;case"style":r[o]=Object.assign({},a,i);break;default:"on"===o.slice(0,"on".length)&&(r[o]=(e=>{"function"==typeof i&&i(e),"function"==typeof a&&a(e)}))}}return r};var Bo=(e,t)=>{const n=Object.keys(e),r={};for(let s=0;s<n.length;s++){const o=n[s];-1===t.indexOf(o)&&(r[o]=e[o])}return r},Fo=n(70);const Uo=e=>_o(`${Fo["lib-prefix"]}-${e}`),{mix:zo}=_o;Uo.mix=zo;var Ho=Uo;const Vo=Ho("button");function $o(e){let{className:t,size:n,children:r}=e,o=s(e,["className","size","children"]);return pt.a.createElement("span",Et({className:Ho.mix(Vo("icon",{size:n}),t)},o),r)}class Go extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this.state={isHovered:!1,isActive:!1,isTransitionEnabled:!0},this._listenerStorage=new jo,this._containerRef=(e=>{this._containerElem=e;const{containerRef:t}=this.props;"function"==typeof t&&t(e)}),t}_setState(e){return new Promise(t=>{this.setState(e,t)})}_setStateOnNextTick(e){return Hn(0).then(()=>this._setState(e))}_addHoverHandlers(){this._listenerStorage.add(this._containerElem,"mouseenter",()=>{this.setState({isHovered:!0})}),this._listenerStorage.add(this._containerElem,"mouseleave",()=>{this.setState({isHovered:!1})})}_addActiveHandlers(){const[e,t]="ontouchstart"in window?["touchstart","touchend"]:["mousedown","mouseup"];this._listenerStorage.add(this._containerElem,e,()=>{this._setState({isTransitionEnabled:!1}).then(()=>this._setStateOnNextTick({isActive:!0})).then(()=>{const e=this._listenerStorage.add(document,t,()=>{e(),this._setState({isActive:!1}).then(()=>this._setStateOnNextTick({isTransitionEnabled:!0}))})})}),this._listenerStorage.add(window,"blur",()=>{this._setState({isActive:!1,isHovered:!1,isTransitionEnabled:!0})})}componentDidMount(){this._addHoverHandlers(),this._addActiveHandlers()}componentWillUnmount(){this._listenerStorage.clear()}render(){const e=this.props,{tag:t,size:n,viewType:r,icon:o,iconClass:i,renderIcon:a,children:c}=e,l=s(e,["tag","size","viewType","icon","iconClass","renderIcon","children"]),{isHovered:u,isActive:d,isTransitionEnabled:p}=this.state,h=Boolean(o||a),m=o?{backgroundImage:`url(${o})`}:null,f=Lo(Bo(l,["containerRef"]),{className:Vo({size:n,viewType:r,isHovered:u,isActive:d,isTransitionEnabled:p,hasIcon:h})});return pt.a.createElement(t,Et({ref:this._containerRef},f),pt.a.createElement("div",{className:Vo("content-wrapper")},h&&pt.a.createElement($o,{size:n,style:m,className:i},a&&a()),c))}}Go.defaultProps={tag:"button"};var Wo=Object(dt.forwardRef)((e,t)=>pt.a.createElement(Go,Et({},e,{containerRef:t})));var qo=e=>{class t extends dt.Component{constructor(...e){var t;return t=super(...e),this.answerSelector=(e=>this.props.question.answers.filter(({id:t})=>t===e)[0]),this.onShow=(()=>{const{question:e}=this.props,{answers:t}=e;this.props.logger.log("custom_user_feedback_show",{local:{__uq__:e.id,__ua__:t.map(({id:e})=>e).join(","),__ut__:e.type,__uat__:t.map(({type:e})=>e).join(",")}})}),this.onCheck=((e,t,n)=>{const{itemToggleAnswer:r,question:s}=this.props,o=s.type,i=this.answerSelector(e);if(n===i.isChecked)return;const a=n?"custom_user_feedback":"custom_user_feedback_cancel";this.props.logger.log(a,{local:{__uq__:s.id,__ua__:i.id,__ut__:s.type,__uat__:i.type}}),r({id:s.id,targetKey:t,questionType:o})}),t}render(){const{props:t,onShow:n,onCheck:r,answerSelector:s}=this;if(!t.question)return null;const{answers:o}=t.question,{text:i}=t.question,a={onShow:n,onCheck:r,answerSelector:s,answers:o,text:i};return pt.a.createElement(e,Et({},t,a))}}t.displayName=`WithQuestionLogic(${so(e)})`;const n=Qn({itemToggleAnswer:wo});return Yt(()=>{const e=Tr();return(t,{id:n})=>({logger:e(t.feed.items[n])})},n)(t)};var Ko=e=>{class t extends dt.Component{constructor(...e){var t;return t=super(...e),this.onCheck=((e,t,n)=>{const{answerSelector:r,onCheck:s}=this.props,o=r(e);s(e,t,n),n!==o.isChecked&&(n?o.onBlock():o.onUnblock())}),t}render(){const{props:t,onCheck:n}=this,r={onCheck:n};return pt.a.createElement(e,Et({},t,r))}}return t.displayName=`FeedbackDislikeOptionQuestionLogic(${so(e)})`,qo(t)};class Qo extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this.state={isPageVisible:er()},this._start=0,this._isStatSent=!1,this._isDeepwatchStatSent=!1,this._timer=null,this._unsubscribe=null,this._sendShowStatOnce=(()=>{const{logger:e,onShow:t,sendShow:n}=this.props;this._isStatSent||(e&&n&&e.log("show"),t&&t(),this._isStatSent=!0)}),this._sendDeepwatch=(()=>{const{logger:e,onDeepwatch:t,sendDeepwatch:n}=this.props;this._isDeepwatchStatSent||(e&&n&&e.log("deepwatch",{local:{__t__:~~((Date.now()-this._start)/1e3)}}),t&&t(),this._isDeepwatchStatSent=!0)}),this._updateTimer=(()=>{const{isVisible:e,timeout:t}=this.props,{isPageVisible:n}=this.state;e&&n?null===this._timer&&(this._timer=setTimeout(this._sendShowStatOnce,t),this._start=Date.now()):this._stopTimer()}),this._stopTimer=(()=>{null!==this._timer&&(clearTimeout(this._timer),this._timer=null)}),t}componentDidMount(){this._updateTimer(),this._unsubscribe=tr(e=>{this.setState({isPageVisible:e})})}componentDidUpdate(e,t){const{isVisible:n,shouldResetOnVisibilityChange:r}=this.props,{isPageVisible:s}=this.state;r&&t.isPageVisible!==s&&(this._isStatSent=!1,this._isDeepwatchStatSent=!1),this._updateTimer(),!(this._isStatSent&&e.isVisible&&t.isPageVisible)||n&&s||this._sendDeepwatch()}componentWillUnmount(){this._stopTimer(),this._unsubscribe&&this._unsubscribe()}render(){const{children:e}=this.props;return void 0===e?null:e}}Qo.defaultProps={timeout:800,shouldResetOnVisibilityChange:!1,sendShow:!0,sendDeepwatch:!1};var Yo=Qo,Zo=(n(313),n(69)),Jo=n.n(Zo);const Xo=_o("feedback-dislike-options-view"),ei="SPINNER_ROLL",ti="SPINNER_OK",ni=800;var ri=class extends dt.Component{constructor(...e){var t;return t=super(...e),this.state={spinnerStatus:!1},this._containerRef=(e=>{const{rootRef:t}=this.props;t&&t(e)}),this.renderStatus=(()=>{const{spinnerStatus:e}=this.state,t=this.props.answers.some(({isChecked:e})=>e);let n=!1;return e===ei&&(n="roll"),e===ti&&(n="ok"),t&&n||(n="none"),pt.a.createElement("div",{className:Xo("status",{[n]:!0})},pt.a.createElement("div",{className:Xo("status-icon")}),pt.a.createElement("div",{className:Xo("status-text")},"Выбор сохранён"))}),this.setSpinnerOk=Jo()(()=>{this.state.spinnerStatus===ei&&this.setState({spinnerStatus:ti})},ni),this.renderItem=(({id:e,text:t,isChecked:n},r)=>{const{onCheck:s}=this.props;return pt.a.createElement("div",{className:Xo("list-item",{selected:n}),key:r,onClick:()=>{s(e,r,!n),this.setState({spinnerStatus:ei},this.setSpinnerOk())}},t)}),t}render(){const{answers:e,text:t,isVisible:n,onShow:r,showLoggerTimeout:s}=this.props;return pt.a.createElement(Yo,{isVisible:n,onShow:r,timeout:s},pt.a.createElement("div",{ref:this._containerRef,className:Xo()},pt.a.createElement("div",{className:Xo("question-text")},t),pt.a.createElement("div",{className:Xo("list")},e.map(this.renderItem)),this.renderStatus()))}};var si=Object(Ys.a)(Ko,bo,Yt(e=>{return{showLoggerTimeout:hn(e).safeGet("rezen_extend_feedback.show_logger_timeout",800)}}))(ri),oi=n(68),ii=n(67);const ai=_o("feedback-card-view");var ci=class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._renderIcon=(e=>{const{isMobile:t}=this.props;switch(e){case"complain":return pt.a.createElement(oi.a,{className:ai("icon",{isMobile:t})});case"action":return pt.a.createElement(ii.a,{className:ai("icon",{isMobile:t})});default:return null}}),this._renderButton=((e,t)=>{if(!t)return null;const{onClick:n,text:r}=t,{isMobile:s}=this.props;return"cancel"!==e||s?pt.a.createElement("button",{className:ai("button",{type:e,isMobile:s}),onClick:n},this._renderIcon(e),pt.a.createElement("div",null,r)):pt.a.createElement(Wo,{size:"m",tab:"button",viewType:"border",className:ai("button",{type:"cancel"}),onClick:n},r)}),this._renderButtons=(()=>{const{complainLinkButton:e,complainButton:t,cancelButton:n,actionButton:r,isHiddenCancelButton:s}=this.props;return pt.a.createElement("div",{className:ai("buttons")},this._renderButton("action",r),this._renderButton("complain",e),this._renderButton("complain",t),s?null:this._renderButton("cancel",n))}),this._renderHeader=(()=>{const{id:e,dislikeQuestion:t,isExtendFeedbackEnabled:n,isMobile:r,description:s,title:o}=this.props;return n?pt.a.createElement(si,{id:e,question:t}):pt.a.createElement("div",{className:ai("text",{isMobile:r})},o," ",s)}),t}render(){const{size:e,theme:t,place:n}=this.props;return pt.a.createElement("div",{className:ai({size:e,theme:t,place:n})},this._renderHeader(),this._renderButtons())}},li=(n(309),n(66)),ui=n.n(li);const di=_o("feedback-popup-view"),pi=300;var hi=class extends dt.PureComponent{render(){const{mainColor:e,className:t,children:n,isNegativeFeedback:r}=this.props,s={state:r?"opened":"closed"};return pt.a.createElement("div",{className:_o.mix(di(s),t)},pt.a.createElement("div",{style:{background:e},className:di("fog")}),pt.a.createElement("div",{className:di("wrapper")},pt.a.createElement("div",{className:di("popup")},pt.a.createElement(ui.a,{component:dt.Fragment,transitionName:"_transition",transitionEnterTimeout:pi,transitionLeaveTimeout:pi},n))))}};n(308);const mi=_o("complaints-card");var fi=class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this.state={selectedReasonIds:new Set},this._contentRef=(e=>this._contentElem=e),this._bottomRef=(e=>this._bottomElem=e),this._onButtonClick=(()=>{const{cancelButton:e,actionButton:t}=this.props,{selectedReasonIds:n}=this.state;n.size?t.onClick({reasonIds:Array.from(n)}):e.onClick()}),t}_onReasonClick(e){this.setState(({selectedReasonIds:t})=>{const n=t.has(e),r=new Set(t);return n?r.delete(e):r.add(e),{selectedReasonIds:r}})}_renderReasonsColumn(e){const{selectedReasonIds:t}=this.state;return e.map(({id:e,text:n})=>{const r=t.has(e);return pt.a.createElement("div",{key:e,className:mi("reason",{selected:r}),onClick:()=>this._onReasonClick(e)},pt.a.createElement("div",{className:mi("reason-checkbox")}),pt.a.createElement("div",{className:mi("reason-label")},n))})}_renderReasons(){const{size:e,reasons:t}=this.props;if(e===F)return pt.a.createElement("div",{className:mi("reasons")},this._renderReasonsColumn(t));const n=Math.ceil(t.length/2);return pt.a.createElement("div",{className:mi("reasons")},pt.a.createElement("div",{className:mi("reasons-column")},this._renderReasonsColumn(t.slice(0,n))),pt.a.createElement("div",{className:mi("reasons-column")},this._renderReasonsColumn(t.slice(n))))}componentDidMount(){const e=this._contentElem.offsetWidth-this._contentElem.clientWidth,t="rtl"===getComputedStyle(this._contentElem).direction;this._bottomElem.style.right=t?"":`${e}px`,this._bottomElem.style.left=t?`${e}px`:""}render(){const{size:e,title:t,cancelButton:n,actionButton:r,theme:s,place:o}=this.props,{selectedReasonIds:i}=this.state,[a,c]=i.size?[r,"action"]:[n,"cancel"];return pt.a.createElement("div",{className:mi({size:e,theme:s,place:o})},pt.a.createElement("div",{className:mi("content"),ref:this._contentRef},pt.a.createElement("div",{className:mi("title")},t),this._renderReasons()),pt.a.createElement("div",{className:mi("bottom"),ref:this._bottomRef},pt.a.createElement("button",{className:mi("button",{type:c}),onClick:this._onButtonClick},a.text)))}};const gi={dislikeCard:{title:`${"Публикация скрыта"}.`,description:"Вы будете видеть меньше подобных публикаций в своей ленте.",complainButtonText:"Пожаловаться",cancelButtonText:"Отменить",actionButtonText:e=>"Заблокировать %domain".replace("%domain",e.domainTitle)},blockCard:{title:`${"Источник заблокирован"}.`,description:e=>"Вы не будете видеть публикации %source в своей ленте.".replace("%source",e.domainTitle),complainButtonText:"Пожаловаться",cancelButtonText:"Отменить"},complaintsCard:{title:"Причина жалобы",cancelButtonText:"Закрыть",actionButtonText:"Отправить"},complaintsDialogCard:{title:"Спасибо!",description:"Ваш отзыв позволит не допустить подобных публикаций в вашей ленте.",complainLinkText:"Сообщить о нарушении прав"}};var _i={[P]:gi,[A]:gi,[B]:gi,[L]:gi};const bi="https://yandex.ru/support/abuse/troubleshooting/zen/list.html";const vi=Qn({itemCancelDislike:ko,itemBlock:e=>({type:"ITEM_FEEDBACK_BLOCK",payload:{id:e.id}}),itemUnblock:Co,itemOpenComplaints:e=>t=>{t(Vn(e,"complain_show","ITEM_COMPLAINTS_OPEN"))},itemSendComplaints:e=>t=>{t(Vn(((e,t,n)=>Object.assign({},e,{statEvents:Object.assign({},e.statEvents,{[t]:Object.keys(n).reduce((e,t)=>e.replace(t,n[t]),e.statEvents[t])})}))(e,"complain_click",{__reasons__:e.reasonIds.join(",")}),"complain_click","ITEM_COMPLAINTS_SEND"))},itemCancelComplaints:({id:e})=>({type:"ITEM_COMPLAINTS_CANCEL",payload:{id:e}})});var yi=Object(Ys.a)(Do,Yt(e=>{const t=pn(e),n=hn(e),r=t.isExp("ab:extend_feedback:extend_feedback"),s=t.isExp("rezen_official_complaints"),o=n.safeGet("rezen_extend_feedback.is_popup",!1);return{isExtendFeedbackExp:r,isExtendFeedbackPopupExp:o,isOfficialComplains:s,place:o?"popup":null}},vi))(class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._openComplaints=(()=>{const{itemOpenComplaints:e}=this.props;e()}),this._onComplainLinkClick=(()=>{window.open(bi,"_blank")}),this._sendComplaints=(e=>{const{itemSendComplaints:t}=this.props;t(e)}),this._cancelComplaints=(()=>{const{itemCancelComplaints:e}=this.props;e()}),this._onBlock=(()=>{const{onBlock:e,itemBlock:t}=this.props;e(),t()}),this._onUnblock=(()=>{const{onUnblock:e,itemUnblock:t}=this.props;e(),t()}),t}_getTexts(e){const{type:t}=this.props,n=_i[t][e],r=Object.keys(n),s={};for(let e=0;e<r.length;e++){const t=r[e],o=n[t];s[t]="function"==typeof o?o(this.props):o}return s}_renderDislikeCard(){const{id:e,size:t,isMobile:n,itemCancelDislike:r,theme:s,dislikeQuestion:o,isExtendFeedbackExp:i,isExtendFeedbackPopupExp:a,complaints:c,type:l,place:u}=this.props,{title:d,description:p,complainButtonText:h,cancelButtonText:m,actionButtonText:f}=this._getTexts("dislikeCard"),g=l===j||c?null:{text:h,onClick:this._openComplaints},_=(i||a)&&o,b={size:t,title:d,description:p,complainButton:g,cancelButton:{text:m,onClick:r},actionButton:{text:f,onClick:this._onBlock},theme:s,isMobile:n,isExtendFeedbackEnabled:_,dislikeQuestion:o,id:e,isHiddenCancelButton:a,place:u};return pt.a.createElement(ci,b)}_renderBlockCard(){const{id:e,size:t,isMobile:n,theme:r,dislikeQuestion:s,complaints:o,type:i,place:a}=this.props,{title:c,description:l,complainButtonText:u,cancelButtonText:d}=this._getTexts("blockCard"),p={size:t,title:c,description:l,complainButton:i===j||o?null:{text:u,onClick:this._openComplaints},cancelButton:{text:d,onClick:this._onUnblock},theme:r,isMobile:n,dislikeQuestion:s,id:e,place:a};return pt.a.createElement(ci,p)}_renderComplaintsCard(){const{size:e,complaintReasons:t,theme:n,isIntersecting:r,place:s}=this.props,{title:o,cancelButtonText:i,actionButtonText:a}=this._getTexts("complaintsCard"),c={size:e,title:o,reasons:t,cancelButton:{text:i,onClick:this._cancelComplaints},actionButton:{text:a,onClick:this._sendComplaints},theme:n,isIntersecting:r,place:s};return pt.a.createElement(fi,c)}_renderComplaintsDialogCard(){const{id:e,size:t,isMobile:n,theme:r,dislikeQuestion:s,feedback:o,isOfficialComplains:i,complaints:a,place:c}=this.props,{title:l,description:u,complainLinkText:d}=this._getTexts("complaintsDialogCard");let p=null;if("disliked"===o){const{actionButtonText:e}=this._getTexts("dislikeCard");p={text:e,onClick:this._onBlock}}const h={size:t,title:l,description:u,actionButton:p,complainLinkButton:i?{text:d,onClick:this._onComplainLinkClick}:null,theme:r,isMobile:n,dislikeQuestion:s,id:e,complaints:a,place:c};return pt.a.createElement(ci,h)}_renderFeedbackCard(){const{feedback:e,complaints:t,complaintsSendedAt:n}=this.props;if("opened"===t)return this._renderComplaintsCard();if("sended"===t&&n===e)return this._renderComplaintsDialogCard();switch(e){case"disliked":return this._renderDislikeCard();case"blocked":return this._renderBlockCard();default:return null}}_renderFeedbackPopupView(){const{feedback:e,mainColor:t,className:n}=this.props,r={className:n,mainColor:t,isNegativeFeedback:e&&"liked"!==e};return pt.a.createElement(hi,r,this._renderFeedbackCard())}render(){const{feedback:e,isMobile:t,isExtendFeedbackPopupExp:n}=this.props;return e&&"liked"!==e||n?n&&!t?this._renderFeedbackPopupView():this._renderFeedbackCard():null}});const Ei=e=>({type:"DOC_SHOW",statEvent:"show",payload:{id:e}}),ki=e=>({type:"DOC_CLICK",statEvent:"click",payload:{id:e}});n(307);const Ci=e=>{if(!e)return null;let t=e.match(/^#([0-9a-f]{3})$/i);return t?(t=t[1],[17*parseInt(t.charAt(0),16),17*parseInt(t.charAt(1),16),17*parseInt(t.charAt(2),16)]):(t=e.match(/^#([0-9a-f]{6})$/i))?(t=t[1],[parseInt(t.substr(0,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(4,2),16)]):(t=e.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i))?[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]:null},wi=(e,t,n)=>{return Math.sqrt(e*e*.299+t*t*.587+n*n*.114)/255<.53},Si=({cardColors:e,read:t,mainColor:n,isDesktop:r})=>{if(t&&!r)return!1;if(n){const[e,t,r]=Ci(n);return wi(e,t,r)}if(e){const[t,n,r]=Ci(e.card);return wi(t,n,r)}return!1},xi={card:"#FFFFFF",text:"#000000"};var Oi=e=>{try{const[t,n,s]=Ci(e),[o,i,a]=function(e,t,n){e/=255,t/=255,n/=255;const r=Math.max(e,t,n),s=Math.min(e,t,n),o=(r+s)/2,i=r-s;if(0===i)return[0,0,o];const a=o>.5?i/(2-r-s):i/(r+s);switch(r){case e:return[((t-n)/i+(t<n?6:0))/6,a,o];case t:return[((n-e)/i+2)/6,a,o];case n:return[((e-t)/i+4)/6,a,o]}}(t,n,s),c=i<=.35&&a>=.9,l=wi(t,n,s);return{isDarkImage:l,card:c?"#FFFFFF":e,text:l?"#FFFFFF":"#000000"}}catch(e){return r.a.error(e),xi}};const Ii=new Set,Ti=new Map;let Ni;"undefined"!=typeof document&&window.addEventListener("resize",()=>{Ni=Date.now(),Ii.forEach(e=>{Ti.set(e,Ni),e.props.onResize()})});var Ri=class extends dt.PureComponent{componentDidMount(){this.props.isIntersecting&&Ii.add(this),Ti.set(this,Date.now())}componentDidUpdate(e){if(e.isIntersecting!==this.props.isIntersecting)if(this.props.isIntersecting){const e=Ti.get(this);Ni&&(!e||e<Ni)&&(Ti.set(this,Date.now()),this.props.onResize()),Ii.add(this)}else Ii.delete(this)}componentWillUnmount(){this.props.isIntersecting&&Ii.delete(this)}render(){const{children:e}=this.props;return void 0===e?null:e}};var Pi=()=>{let e,t;return(...n)=>{if(t&&((e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0})(e,n))return t;const r=e=>{for(let t=0;t<n.length;t++){const r=n[t];"function"==typeof r?r(e):r&&(r.current=e)}};return e=n,t=r,r}},Ai=n(15),Mi=n.n(Ai),Di={measure:e=>new Promise(t=>{Mi.a.measure(()=>{t(e())})}),mutate:e=>new Promise(t=>{Mi.a.mutate(()=>{t(e())})}),measureAndMutate:(e,t)=>new Promise(n=>{let r;Mi.a.measure(()=>{r=e()}),Mi.a.mutate(()=>{n(t(r))})})};const{hasOwnProperty:ji}=Object.prototype;var Li=function(e,t,n){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(let s=0;s<r.length;s++)if(!(n&&n.includes(r[s])||ji.call(t,r[s])&&Object.is(e[r[s]],t[r[s]])))return!1;return!0},Bi=e=>"string"==typeof e?e:pt.a.Children.only(e);var Fi=(e,t)=>{"string"!=typeof t&&pt.a.Children.only(t)};const Ui=(e,t)=>{const n=e[t-1];return"."===n||","===n||"…"===n?t-1:t};n(82);const zi=/[A-Za-z]+|[А-Яа-яЁё]+|\d+|\S/,Hi=/\S/,Vi=e=>0!==e.width&&0!==e.height,$i=e=>{const t=(e=>{const t=[],n=e=>{const{childNodes:r}=e;for(let e=0;e<r.length;e++){const s=r[e];switch(s.nodeType){case Node.ELEMENT_NODE:n(s);break;case Node.TEXT_NODE:t.push(s)}}};return n(e),t})(e),n=[];let r="";for(let e=0;e<t.length;e++){const s=t[e],o=r+s.nodeValue;n.push({node:s,startIndex:r.length,endIndex:o.length}),r=o}return{textContent:r,createRange:(e,t)=>{let r,s;for(let o=0;o<n.length;o++){const i=n[o];if(!r&&e>=i.startIndex&&e<i.endIndex&&(r=i),!s&&t<=i.endIndex&&t>i.startIndex&&(s=i),r&&s){const n=document.createRange();return n.setStart(r.node,e-r.startIndex),n.setEnd(s.node,t-s.startIndex),n}}return null}}},Gi=(e,t,n)=>{let r,s;switch(e){case"horizontal":r="left",s="right";break;case"vertical":r="top",s="bottom"}const o=t[r]-n[r],i=n[s]-t[s];let a=0;return o<0&&(a+=o),i<0&&(a+=i),!(a<0)||Math.abs(a)<=(1-.8)*t.height},Wi=(e,t)=>{const{textContent:n,createRange:r}=t;let s=null,o=null;const i=()=>{const t=o?o.valueEndIndex:0,a=null===s?zi:Hi,c=n.slice(t).match(a);if(!c)return{done:!0};const l=c[0],u=t+c.index,d=u+l.length,p=r(u,d);let h;if(null===s){const e=p.getClientRects();if(e.length>1)return s=d,i();h=e[0]}else d>=s&&(s=null),h=p.getBoundingClientRect();const m=o?o.index+1:0,f=o?((e,t)=>{return e.top===t.rect.top&&e.bottom===t.rect.bottom?t.lineIndex:t.lineIndex+1})(h,o):0,g=((e,t)=>Gi("horizontal",e,t)&&Gi("vertical",e,t))(h,e);return{value:o={value:l,valueStartIndex:u,valueEndIndex:d,index:m,lineIndex:f,isVisible:g,rect:h},done:!1}};return{next:i,[Symbol.iterator]:()=>({next:i})}};var qi=({containerElem:e,textElem:t,onlyVisibleTokens:n=!1,linesLimit:r})=>{const s=e.getBoundingClientRect(),o=t.getBoundingClientRect();if(!Vi(s)||!Vi(o))return null;const i=$i(t),a=Wi(s,i),c=[],l=[];let u=null,d=!0;for(let e of a){if(e.isVisible)u=e;else if(d=!1,n)break;if(c.push(e),l[e.lineIndex]||(l[e.lineIndex]=[]),l[e.lineIndex].push(e),r&&l.length===r)break}return{containerElem:e,containerRect:s,textElem:t,textRect:o,onlyVisibleTokens:n,tokens:c,lines:l,lastVisibleToken:u,isTextFits:d}};n(306);const Ki=_o("clamp");class Qi extends dt.Component{constructor(...e){var t;return t=super(...e),this.state={visibilitySplitIndex:Bi(this.props.children).length,lineCount:null,isEllipsisNeeded:!1},this._composeContainerRefs=Pi(),this._isMounted=!1,this._isPropsChanged=!1,this._containerRef=(e=>{this._containerElem=e}),this._textRef=(e=>this._textElem=e),t}_withValidation(e,t){return(...n)=>this._isMounted&&this._containerElem&&this._textElem?e&&e(...n):t&&t(...n)}_setState(e){return new Promise(t=>{this.setState(e,t)})}_hide(){return this._setState({visibilitySplitIndex:0,lineCount:0,isEllipsisNeeded:!1})}clamp(){return new Promise((e,t)=>{const n=()=>{t(new Error("Not applied 'clamp' call."))};this._isMounted||n(),this._setState({lineCount:null}).then(()=>Di.measure(this._withValidation(()=>qi({containerElem:this._containerElem,textElem:this._textElem,onlyVisibleTokens:!0}),()=>null))).then(e=>{if(!e)return n();if(!e.lastVisibleToken)return this._hide();const{minLineCount:t}=this.props,r=e.lines.length,s=!e.isTextFits,o=e.lastVisibleToken.valueEndIndex;return r<t&&s?this._hide():this._setState({visibilitySplitIndex:o,lineCount:r,isEllipsisNeeded:s})}).then(e,n)}).catch(e=>{r.a.warn(e)})}componentDidMount(){this._isMounted=!0,this.props.withAutoClamp&&(window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(()=>this.clamp()):this.clamp())}componentWillReceiveProps(e){const t=Bi(this.props.children),n=Bi(e.children);t!==n&&this.setState(e=>0===e.visibilitySplitIndex?{visibilitySplitIndex:0,lineCount:0,isEllipsisNeeded:!1}:{visibilitySplitIndex:n.length,lineCount:null,isEllipsisNeeded:!1})}shouldComponentUpdate(e,t){const n=Li(this.props,e,["children"]),r=Li(this.state,t),s=Li(this.props.children,e.children);return this._isPropsChanged=!n||!s,!n||!r||!s}componentDidUpdate(){this._isPropsChanged&&this.props.withAutoClamp&&this.clamp()}componentWillUnmount(){this._isMounted=!1}render(){const{className:e,style:t,fitToSpace:n,domRef:r,children:s}=this.props,{visibilitySplitIndex:o,lineCount:i,isEllipsisNeeded:a}=this.state,c=Bi(s);Fi("Clamp",s);const l={"line-count":null===i?null:String(i)},u=e?`${Ki(l)} ${e}`:Ki(l),d=a?Ui(c,o):o,p=c.slice(0,d),h=c.slice(d);return pt.a.createElement("div",{className:u,style:t,ref:this._composeContainerRefs(this._containerRef,r)},pt.a.createElement("div",{className:Ki("wrapper")},pt.a.createElement("div",{className:Ki("text"),ref:this._textRef},pt.a.createElement("span",{className:Ki("visible-tokens",{ellipsis:a})},p),pt.a.createElement("span",{className:Ki("invisible-tokens")},h),pt.a.createElement("div",{className:Ki("spacer")}))),n?null:pt.a.createElement("div",{className:Ki("text-expand")},s))}}Qi.defaultProps={minLineCount:1,withAutoClamp:!0};var Yi=Qi,Zi=n(65);n(305);const Ji=_o("mittens-view");class Xi extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this.state={canShowAnimations:!1},t}async componentDidMount(){this._isMounted=!0,await Ae(),await Ae(),this._isMounted&&this.setState({canShowAnimations:!0})}componentWillUnmount(){this._isMounted=!1}_getSizes(){const{width:e,height:t,ratio:n}=Zi[this.props.size];return{width:parseInt(e,10),height:parseInt(t,10),ratio:n}}_renderMittensSvg(e){const{color:t}=this.props,{width:n,height:r,ratio:s}=this._getSizes(),o=e?"translate(11.5, 16) rotate(180) translate(-11.5, -16)":"";return pt.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:r,viewBox:`0 0 ${n} ${r}`},pt.a.createElement("path",{transform:`scale(${s}, ${s}) ${o}`,fill:t,fillRule:"evenodd",d:"M18.895 10.605c.609 0 1.102.496 1.102 1.108v.043a16.864 16.864 0 0 1-.819 4.253l-.003.01a16.834 16.834 0 0 1-2.716 5.075l-.002.003-.159.19H7.923v-9.43L12.78 6.05l.003-.004a4.77 4.77 0 0 0 .774-1.447l.003-.007a4.84 4.84 0 0 0 .234-1.22c.2-.2.475-.323.779-.323.568 0 .956.379 1.187 1.024.276.77.252 1.643.252 1.643a4.828 4.828 0 0 1-1.042 3l.002.002-1.6 1.888H18.894zM3.015 21.287v-9.43h3.272v9.43H3.014z"}))}render(){const{canShowAnimations:e}=this.state,{onlyLike:t,onLikeClick:n,onDislikeClick:r,size:s,cursor:o,liked:i,disliked:a,blocked:c,jump:l,className:u="",isExtendFeedbackPopupExp:d,type:p}=this.props,h=a||c,m={size:s,jump:l,type:p,hasActive:i||h,hasDisliked:h,canShowAnimations:!d&&e};return pt.a.createElement("div",{className:_o.mix(Ji(m),u)},pt.a.createElement("div",{className:Ji("mitten",{active:i}),onClick:n,style:{cursor:o}},this._renderMittensSvg(!1)),t?null:pt.a.createElement("div",{className:Ji("mitten",{active:h}),onClick:r,style:{cursor:o}},this._renderMittensSvg(!0)))}}Xi.defaultProps={size:"small",cursor:"pointer",color:"#000"};var ea=e=>{var t,n;return n=t=class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._loggerSelector=Tr(),t}render(){return pt.a.createElement(e,Et({},this.props,{logger:this._loggerSelector(this.props)}))}},t.displayName=`WithBulkStatLogger(${so(e)})`,n};var ta=(e=>{class t extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._onLike=(e=>{e.preventDefault(),e.stopPropagation();const{feedback:t,itemLike:n,itemCancelLike:r,onLike:s,onCancelLike:o}=this.props;"liked"===t?r():"disliked"===t||"blocked"===t?(this._cancelDislike(),n()):n();const i="liked"===t?o:s;i&&i(e)}),this._onDislike=(e=>{e.preventDefault(),e.stopPropagation();const{feedback:t,itemDislike:n,onDislike:r,onCancelDislike:s}=this.props;"disliked"===t||"blocked"===t?this._cancelDislike():"liked"===t?(yo(),n()):n();const o="disliked"===t?s:r;o&&o(e)}),t}_uncheckAllAnswers(){const{dislikeQuestion:e,itemUncheckAllAnswers:t}=this.props;e&&(e.answers.forEach(e=>{e.isChecked&&e.onUnblock&&e.onUnblock()}),t())}_cancelDislike(){const{feedback:e,itemCancelDislike:t,isExtendFeedbackPopupExp:n,onUnblock:r,source:s,logger:o}=this.props;t(),"blocked"===e&&r(s,o),n&&this._uncheckAllAnswers()}render(){const{feedback:t,isMittensJumping:n}=this.props;return pt.a.createElement(e,Et({},this.props,{liked:"liked"===t,disliked:"disliked"===t,blocked:"blocked"===t,jump:n,onLikeClick:this._onLike,onDislikeClick:this._onDislike}))}}t.displayName=`WithMittensActor(${so(e)})`;const n=Qn({itemLike:vo,itemDislike:Eo,itemUnblock:Co,itemCancelLike:yo,itemCancelDislike:ko,itemUncheckAllAnswers:So});return Object(Ys.a)(Yt((e,{id:t})=>{const n=jr(e,t),r=hn(e).safeGet("rezen_extend_feedback.is_popup",!1),s=e.feed.items[t];return{isExtendFeedbackPopupExp:r,dislikeQuestion:n,source:s&&s.source&&e.sources[s.source]}},n),ea,Do)(t)})(Xi);n(304);const na=new Map,ra="undefined"!=typeof document&&"undefined"!=typeof IntersectionObserver;let sa;ra&&(window&&"function"!=typeof window.CustomEvent&&(aa.prototype=window.Event.prototype,window.CustomEvent=aa),sa=new aa("visible"));const oa=e=>{e.filter(e=>e.isIntersecting).forEach(e=>{e.target.dispatchEvent(sa)})},ia=(e,t)=>{const n=JSON.stringify(t);if(na.has(n))return na.get(n);const r=new IntersectionObserver(oa,t);return na.set(n,r),r};function aa(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}var ca=(e,t,n)=>new Promise((r,s)=>{const o=()=>{const t=new Image;t.onload=r,t.onerror=s,t.src=e};if(ra&&t&&n){const e=ia(oa,n),r=()=>{o(),t&&t.removeEventListener("visible",r,!1),e.unobserve(t)};t.addEventListener("visible",r,!1),e.observe(t)}else o()}),la=n(8),ua=n.n(la);const da=/^rezen_default_lazy_loading_option_(\d+)_(\d+)_(\d+)_(\d+)$/,pa={rootMargin:"0px 0px 500px 0px"};class ha extends dt.PureComponent{constructor(e){super(e),this._setImageLoaded=ua()(()=>this.setState({isImageLoaded:!0})),this.state={isImageLoaded:!1}}componentDidMount(){this._loadImage()}componentWillUnmount(){this._setImageLoaded.cancel()}componentDidUpdate(e){this.props.imageUrl!==e.imageUrl&&this.setState({isImageLoaded:!1},()=>{this._loadImage()})}_getLazyLoadingOptions(){const{lazyLoadingOptions:e={},defaultLazyLoadingFromExperiment:t={}}=this.props;return Object.assign({},pa,t,e)}_loadImage(){if(this.state.isImageLoaded)return;const{imageUrl:e}=this.props;if(!e)return;const t=this.props.isImageLazyLoadEnabled?this._container:null,n=this._getLazyLoadingOptions();ca(e,t,n).then(()=>this._setImageLoaded())}render(){const{renderImage:e,renderPlaceholder:t,wrapperClass:n}=this.props,{isImageLoaded:r}=this.state;return pt.a.createElement("div",{className:n,ref:e=>this._container=e},t&&t(r),e(r))}}ha.defaultProps={isImageLazyLoadEnabled:!1};var ma=Yt(e=>{const t=pn(e).findExps(da)[0],n={};if(t){const e=da.exec(t);n.defaultLazyLoadingFromExperiment={rootMargin:`${e[1]}px ${e[2]}px ${e[3]}px ${e[4]}px`}}return n})(ha);const fa={smallImage:"si",bigImage:"bi",backgroundCardImage:"bci",mediumImage:"mi"},ga=_o("doc-image");const _a=({color:e,size:t,mode:n,isVisible:r,gradientType:s="linear"})=>{const o=Ci(e).join();let i="";const a=[`rgba(${o},1) 0%`,`rgba(${o},0.85) 10%`,`rgba(${o},0.6) 20%`,`rgba(${o},0) 50%`],c=[`rgba(${o},0) 36%`,`rgba(${o},0.1) 45%`,`rgba(${o},0.16) 47%`,`rgba(${o},0.75) 60%`,`rgba(${o},0.96) 65%`,`rgba(${o},1) 70%`];if(t===U||"medium"===t){let e=`linear-gradient(to right, ${a.join()})`;"radial"===s&&(e=`radial-gradient(ellipse at right 50% , ${c.join(", ")})`),i={background:e}}else i={background:`linear-gradient(to top, ${a.join()})`};return pt.a.createElement("div",{className:ga("fade",{mode:n,"is-visible":r}),style:i})},ba=({blurredPreview:e,mode:t})=>{const n=`data:image/png;base64,${e||""}`;return pt.a.createElement("div",{className:ga("preview",{mode:t}),style:{backgroundImage:`url(${n})`}})};var va=class extends dt.PureComponent{constructor(e){super(e),this._renderPlaceholder=(e=>{const{color:t,size:n,blurredPreview:r,gradientType:s}=this.props;let o=this.mode===fa.backgroundCardImage&&!e||this.mode===fa.smallImage||this.mode===fa.bigImage||this.mode===fa.mediumImage;return pt.a.createElement("div",null,pt.a.createElement(ba,{blurredPreview:r,mode:this.mode}),pt.a.createElement(_a,{color:t,size:n,mode:this.mode,isVisible:o,gradientType:s}))}),this._renderImage=(e=>{const{aspectRatioMode:t,isBlurred:n}=this.props,r=this._getImageUrl(),s=e?{backgroundImage:`url(${r||""})`}:null,o=ga("image",{mode:this.mode,"is-loaded":e,"aspect-ratio":t,"is-blurred":n});return pt.a.createElement("div",{className:o,style:s})}),this.mode=this._getImageMode()}_getImageMode(){const{size:e,cardBackgroundImage:t,forcedMode:n}=this.props;return e===U?fa.bigImage:n===fa.backgroundCardImage&&t?fa.backgroundCardImage:n===fa.smallImage?fa.smallImage:n===fa.mediumImage?fa.mediumImage:t?fa.backgroundCardImage:fa.smallImage}_getImageUrl(){const{theme:e,image:t,bigImage:n,cardBackgroundImage:r,cardBackgroundWhiteImage:s}=this.props;switch(this.mode){case fa.bigImage:case fa.mediumImage:return n;case fa.smallImage:return t;case fa.backgroundCardImage:return"white"===e?s:r}}render(){const{isImageLazyLoadEnabled:e}=this.props;return pt.a.createElement("div",{className:ga()},pt.a.createElement(ma,{imageUrl:this._getImageUrl(),renderPlaceholder:this._renderPlaceholder,renderImage:this._renderImage,isImageLazyLoadEnabled:e,wrapperClass:ga("wrap")}))}};n(303);const ya=_o("doc-channel-name");var Ea=Yt(e=>{return{enabled:pn(e).isExp("ab:rezen_channel_links:rezen_channel_links")}},null)(class extends dt.PureComponent{render(){const{enabled:e,textColor:t,name:n,read:r,className:s,opacity:o,limit:i=20}=this.props,a=n.length>=i?"small":"medium";return pt.a.createElement("div",{className:_o.mix(ya({read:r,size:a,enabled:e}),s),style:{color:t,opacity:o}},n)}});n(302);const ka=_o("doc-channel-link");var Ca=Yt(e=>{return{enabled:pn(e).isExp("ab:rezen_channel_links:rezen_channel_links")}},null)(class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._onClick=(e=>{const{logger:t}=this.props;e.stopPropagation(),t.log("card_source_click")}),t}render(){const{enabled:e,children:t,link:n,className:r}=this.props;return e?pt.a.createElement("a",{className:_o.mix(ka({enabled:e}),r),href:n,target:"_blank",rel:"noopener",onClick:this._onClick},t):pt.a.createElement("div",{className:_o.mix(ka({enabled:e}),r)},t)}});n(301);const wa=_o("doc-badges-view");class Sa extends dt.PureComponent{render(){const{badges:e,read:t,color:n}=this.props;if(e&&e[0])return pt.a.createElement("div",{className:wa({read:t}),style:{color:n}},e[0].text)}}Sa.defaultProps={read:!1};var xa=Sa;var Oa=e=>{class t extends dt.Component{render(){const{isVisible:t,logger:n,onShow:r,sendShow:s,sendDeepwatch:o}=this.props;return pt.a.createElement(Yo,{logger:n,onShow:r,isVisible:t,sendShow:s,sendDeepwatch:o},pt.a.createElement(e,this.props))}}return t.displayName=`WithShowLogger(${so(e)})`,t};var Ia=class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._onClick=(e=>{e.preventDefault(),e.stopPropagation();const{onShortToggleSubscribe:t}=this.props;t()}),t}render(){const{isMobile:e,source:t,style:n,className:r,size:s}=this.props,o="subscribed"===t.status?"Отписаться":"Подписаться";let i=e?"l":"m";return s&&(i=s),pt.a.createElement(Wo,{className:r,style:n,onClick:this._onClick,size:i,viewType:"border"},o)}};var Ta=Object(Ys.a)(bo,Yt((e,t)=>{const{triggerEvent:n,logger:r}=t;return{logger:Object(Ys.a)(xr({__pe__:n}),Or({show:"favourite_button_show"}))(r)}}),Do,Oa)(Ia),Na=(n(300),n(13)),Ra=n.n(Na),Pa=n(12),Aa=n.n(Pa),Ma=new Ra.a({id:"comments-balloon--inline",use:"comments-balloon--inline-usage",viewBox:"0 0 18 14",content:'<symbol viewBox="0 0 18 14" id="comments-balloon--inline"><path fill-rule="evenodd" d="M3 0a3 3 0 0 0-3 3v5.674a3 3 0 0 0 3 3h3.619L9 14l2.381-2.326H15a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3H3z" clip-rule="evenodd" /></symbol>'}),Da=(Aa.a.add(Ma),Ma),ja=new Ra.a({id:"comments-balloon-touch--inline",use:"comments-balloon-touch--inline-usage",viewBox:"0 0 22 20",content:'<symbol viewBox="0 0 22 20" id="comments-balloon-touch--inline"><path fill-rule="evenodd" d="M3 0a3 3 0 0 0-3 3v9a3 3 0 0 0 3 3h3.757L11 19.243 15.243 15H19a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3H3z" clip-rule="evenodd" /></symbol>'}),La=(Aa.a.add(ja),ja);const Ba=_o("comment-counter");class Fa extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._onClick=(()=>{const{onClick:e,logger:t}=this.props;t.log("click_comments_counter"),"function"==typeof e&&e()}),this._onShow=(()=>{this.props.logger.log("show_comments_counter")}),t}render(){const{textColor:e,balloonColor:t,link:n,count:r,isVisible:s,rootRef:o,isTouch:i,isPost:a,isCardImage:c,feedbackMittensIsDisabled:l}=this.props;let u=r;if("number"!=typeof r)return null;u>99&&(u="99+");const d=i?La:Da,p=Ba("",{isCardImage:c,isTouch:i,isPost:a,feedbackMittensIsDisabled:l});return pt.a.createElement(Yo,{isVisible:s,onShow:this._onShow},pt.a.createElement("span",{className:p},pt.a.createElement("a",{ref:o,className:Ba("balloon",{isTouch:i}),href:n,target:"_blank",rel:"noopener",onClick:this._onClick},pt.a.createElement("svg",{className:Ba("icon"),viewBox:d.viewBox,style:{fill:t}},pt.a.createElement("use",{xlinkHref:`#${d.id}`})),pt.a.createElement("span",{className:Ba("info"),style:{color:e}},u))))}}const Ua=500;var za=class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._clampRef=(e=>this._clamp=e),this._onResize=zr(()=>{this._clamp&&this._clamp.clamp()},Ua,this),t}render(){const{className:e,style:t,isIntersecting:n,fitToSpace:r,minLineCount:s,domRef:o,children:i}=this.props;return pt.a.createElement(Ri,{isIntersecting:n,onResize:this._onResize},pt.a.createElement(Yi,{className:e,style:t,fitToSpace:r,minLineCount:s,domRef:o,ref:this._clampRef},i))}};var Ha=e=>e===B;const Va=(e,t)=>{if(e.length<t)return e;if(" "===e[t])return e.slice(0,t)+"…";let n=t;for(;n<e.length;)if(" "===e[++n])return e.slice(0,n)+"…";return e.slice(0,t)+"…"},$a=e=>e.split(/\s+/).reduce((e,t)=>Math.max(t.length,e),0),Ga=(e,t)=>(!e.threshold||e.threshold>=t.length)&&(!e.wordThreshold||e.wordThreshold>=t.longestWordLength),Wa=(e,t)=>{const n={length:e.length,longestWordLength:$a(e)};for(let e=0;e<t.length;e++){const r=t[e];if(Ga(r,n))return r.name}return null},qa=e=>e.length<=25;function Ka({length:e,maxWordLength:t},n,r){const s=r?r.offsetWidth/340:1;return e<=n.threshold*s&&!(n.wordThreshold&&t>n.wordThreshold)}const Qa={small:{fontSize:"18px",lineHeight:"22px"},medium:{fontSize:"26px",lineHeight:"32px"},big:{fontSize:"32px",lineHeight:"34px"}},Ya=120,Za={maxLength:Ya,maxBigWordLength:11,sizes:{big:{threshold:30,style:Qa.big},medium:{threshold:45,style:Qa.medium},small:{threshold:0,style:Qa.small}}};var Ja=class extends dt.PureComponent{constructor(e){super(e),this.state=this._calcCurrentState(this.props.title),this._containerRef=(e=>this._containerElem=e),this._clampRef=(e=>this._clamp=e)}_calcCurrentState(e){return{title:Va(e,Ya),style:function(e,{maxLength:t,maxBigWordLength:n,sizes:r},s){const o=Va(e,t),i={length:o.length,maxWordLength:$a(o)};return Ka(i,r.big,s)&&i.maxWordLength<=n?r.big.style:Ka(i,r.medium,s)?r.medium.style:!r.xsmall||Ka(i,r.small,s)?r.small.style:r.xsmall.style}(e,Za,this._containerElem)}}_updateState(){return new Promise(e=>{this.setState(this._calcCurrentState(this.props.title),e)})}updateStylesAndClamp(){return this._updateState().then(()=>this._clamp&&this._clamp.clamp())}render(){const{title:e,style:t}=this.state;return pt.a.createElement(Yi,{className:"doc__title",style:t,domRef:this._containerRef,ref:this._clampRef,withAutoClamp:!1},e)}};const Xa=_o("doc"),ec=bo(Fa);var tc=class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._linkRef=Object(dt.createRef)(),this._docTitleRef=Object(dt.createRef)(),this._textClampRef=Object(dt.createRef)(),this._onResize=zr(this._updateContentStylesAndClamp,Ua,this),this._onAuxClick=(e=>{const{onClick:t}=this.props;0!==e.button&&1!==e.button||t()}),this._renderImage=(()=>{const{size:e,image:t,read:n,theme:r,bigImage:s,blurredPreview:o,cardBackgroundImage:i,cardBackgroundWhiteImage:a,isImageLazyLoadEnabled:c}=this.props;return t?pt.a.createElement(va,{theme:r,image:t,bigImage:s,blurredPreview:o,cardBackgroundImage:i,cardBackgroundWhiteImage:a,isRead:n,size:e,color:this.getBackgroundColor(),isImageLazyLoadEnabled:c}):null}),this._renderShadeMask=(()=>{const e={backgroundColor:this.getBackgroundColor()};return pt.a.createElement("div",{className:Xa("shade-mask"),style:e})}),this._renderHoverMask=(()=>pt.a.createElement("div",{className:Xa("hover-mask")})),this._renderFilterMask=(()=>pt.a.createElement("div",{className:Xa("filter-mask")})),t}getBackgroundColor(){const{mainColor:e}=this.props;if(e)return Oi(e).card;const{cardColors:t}=this.props;return t&&t.card}getTextColor(){const{mainColor:e,cardColors:t}=this.props;return e?Oi(e).text:t?t.text:"#000000"}getColorTheme(){return"#000000"===this.getTextColor()?"black":"white"}getCardStyle(){const e=this.getBackgroundColor();if(e)return{backgroundColor:e}}getDocType(){const{type:e,image:t}=this.props;return Ha(e)?"narrative":t?"image":"text"}_updateContentStylesAndClamp(){this._docTitleRef.current&&this._docTitleRef.current.updateStylesAndClamp().then(()=>{this._textClampRef.current&&this._textClampRef.current.clamp()})}_getBadgeFadeStyle(){const{mainColor:e,cardColors:t}=this.props,n=e||t&&t.card;if(!n)return{};const r=Ci(n).join(", ");return{boxShadow:`rgba(${r}, 0.4) 0px 0px 25px 5px, rgba(${r}, 0.4) 0px 0px 60px 30px, rgba(${r}, 0.6) 0px 0px 100px 30px`}}_renderBadges(){const{badges:e,read:t}=this.props;if(!e||0===e.length)return null;const n="white"===this.getColorTheme()?"#fff":"#000";return pt.a.createElement("div",{className:Xa("badge")},pt.a.createElement(xa,{badges:e,color:n,read:t}),pt.a.createElement("div",{className:Xa("badge-fade"),style:this._getBadgeFadeStyle()}))}_renderContent(){const{type:e,title:t,text:n,isIntersecting:r,onClick:s,link:o}=this.props;return pt.a.createElement("a",{className:Xa("content"),onClick:s,href:o,target:"_blank",rel:"noreferrer noopener",ref:this._linkRef},pt.a.createElement("div",{className:Xa("aligner")},pt.a.createElement(Ri,{isIntersecting:r,onResize:this._onResize}),pt.a.createElement(Ja,{ref:this._docTitleRef,title:t}),Ha(e)?null:pt.a.createElement(Yi,{className:Xa("text"),withAutoClamp:!1,fitToSpace:!0,ref:this._textClampRef},n),pt.a.createElement("div",{className:Xa("subscribe-button-gradient")})))}_renderControls(e){const{domainTitle:t,feedLink:n,logger:r,feedbackSubscribeProps:s,size:o,type:i,commentsCount:a,feedbackMittensProps:c}=this.props;let l=17,u=20;P===i&&a>=0&&c.isEnabled&&(l=15,u=18);const{hasSubscribeButton:d}=s;return pt.a.createElement("div",{className:Xa("controls",{type:e})},pt.a.createElement("div",{className:Xa("aligner")},pt.a.createElement("div",{className:Xa("bottom")},pt.a.createElement(Ca,{className:Xa("channel-name"),link:n,logger:r},pt.a.createElement(Ea,{textColor:this.getTextColor(),name:t,limit:o===U?l:u})),this._renderCommentsCounter(),this._renderMittens(e)),pt.a.createElement(Ta,Et({},s,{className:Xa("subscribe-button"),isVisible:d,logger:r}))))}_renderCommentsCounter(){const{commentsCount:e,commentsLink:t,logger:n,feedbackMittensProps:r,onClick:s}=this.props;return pt.a.createElement(ec,{textColor:this.getBackgroundColor(),balloonColor:this.getTextColor(),link:t,count:e,logger:n,feedbackMittensIsDisabled:!r.isEnabled,onClick:s})}_renderMittens(e){const{feedbackMittensProps:t,onDislike:n}=this.props;return t.isEnabled?pt.a.createElement(ta,Et({},t,{color:this.getTextColor(),onDislike:n,className:Xa("mittens"),type:e})):null}componentDidMount(){window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(()=>this._updateContentStylesAndClamp()):this._updateContentStylesAndClamp(),this._linkRef.current.addEventListener("auxclick",this._onAuxClick)}componentDidUpdate(e){const{title:t,text:n}=this.props;e.title===t&&e.text===n||this._updateContentStylesAndClamp()}componentWillUnmount(){this._linkRef.current.removeEventListener("auxclick",this._onAuxClick)}render(){const{size:e,read:t,shouldHighlight:n,columnCount:r,isPromoted:s,isPromoPublication:o,feedbackSubscribeProps:i,containerRef:a,renderFeedback:c,experiments:l,isRtbFitted:u,isExtendFeedbackPopupExp:d}=this.props,{hasSubscribeButton:p}=i,h={type:this.getDocType(),theme:this.getColorTheme(),size:e,animation:n&&"highlight",columns:r,promo:s||o,isShaded:t||p,hasSubscribeButton:p,isLetterSpacingExp:l.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_letter_spacing"),isBigLetterSpacingExp:l.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_big_letter_spacing")},m=u?"_rtb-fitted":null;return pt.a.createElement("div",{className:_o.mix(Xa(h),m),style:this.getCardStyle(),ref:a},this._renderImage(),this._renderShadeMask(),this._renderHoverMask(),this._renderBadges(),this._renderContent(),this._renderControls(null),this._renderFilterMask(),c(),d?this._renderControls("popup"):null)}};n(299);const nc=_o("tooth-card");var rc=class extends dt.Component{constructor(...e){var t;return t=super(...e),this._linkRef=(e=>this._linkElem=e),this._titleClampRef=(e=>this._titleClamp=e),this._textClampRef=(e=>this._textClamp=e),this._onResize=zr(this._updateClamp,Ua,this),this._onAuxClick=(e=>{0!==e.button&&1!==e.button||this.props.onClick()}),t}_updateClamp(){this._titleClamp&&this._titleClamp.clamp().then(()=>this._textClamp&&this._textClamp.clamp())}isWhiteTheme(){const{view:e,image:t}=this.props;return!t||"white"===e}getCardColors(){const{view:e,cardColors:t,mainColor:n}=this.props;if(this.isWhiteTheme()||"white-image"===e||"white-flat"===e)return{backgroundColor:"#ffffff",color:"#000000"};if(n){const{card:e,text:t}=Oi(n);return{backgroundColor:e,color:t}}return t?{backgroundColor:t.card,color:t.text}:void 0}getContainerStyles(){return this.getCardColors()}getImageStyles(){return this.isWhiteTheme()?null:{backgroundImage:`url(${this.props.image})`}}getFadeStyles(){const{image:e}=this.props,t=Ci(this.getCardColors().backgroundColor).join(),n=[`rgba(${t},1) 45%`,`rgba(${t},0.8) 53%`,`rgba(${t},0) 68%`];let r=e?`rgba(${t},0.4)`:"#e8e2da";return this.isWhiteTheme()&&(r="#f0f0f0"),{fadeStyle:{background:`linear-gradient(to bottom, ${n.join()})`},hoverStyle:{backgroundColor:r}}}componentDidMount(){window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(()=>this._updateClamp()):this._updateClamp(),this._linkElem.addEventListener("auxclick",this._onAuxClick)}componentDidUpdate(e){e.title===this.props.title&&e.text===this.props.text||this._updateClamp()}componentWillUnmount(){this._linkElem.removeEventListener("auxclick",this._onAuxClick)}render(){const{view:e,image:t,title:n,link:r,text:s,source:o,read:i,product:a,shouldHighlight:c,isIntersecting:l,onClick:u,renderFeedback:d,containerRef:p,feedbackMittensProps:h,onDislike:m,isRtbFitted:f}=this.props,{fadeStyle:g,hoverStyle:_}=this.getFadeStyles(),{backgroundColor:b}=this.getCardColors(),v=this.getImageStyles(),y={view:e,read:i,animation:c&&"highlight",hasImage:Boolean(t)&&!this.isWhiteTheme(),yabro:[lt,ut].includes(a)},E=f?"_rtb-fitted":null;return pt.a.createElement("div",{className:_o.mix(nc(y),E),ref:p},pt.a.createElement(Ri,{isIntersecting:l,onResize:this._onResize}),pt.a.createElement("a",{className:nc("link"),style:this.getContainerStyles(),onClick:u,href:r,target:"_blank",ref:this._linkRef},v?pt.a.createElement("div",{className:nc("image"),style:v}):null,pt.a.createElement("div",{className:nc("text-fade"),style:g}),pt.a.createElement("div",{className:nc("hover-fade"),style:_}),pt.a.createElement("div",{className:nc("read-fade"),style:{backgroundColor:b}}),pt.a.createElement("div",{className:nc("filter-mask")}),pt.a.createElement("div",{className:nc("source")},o),pt.a.createElement("div",{className:nc("content")},pt.a.createElement(Yi,{className:nc("title"),withAutoClamp:!1,ref:this._titleClampRef},n),s?pt.a.createElement(Yi,{className:nc("text"),withAutoClamp:!1,minLineCount:a===lt?2:1,fitToSpace:!0,ref:this._textClampRef},s):null),pt.a.createElement("div",{className:nc("feedback")},pt.a.createElement("div",{className:nc("feedback-background")}),pt.a.createElement("div",{className:nc("feedback-buttons")},pt.a.createElement(ta,Et({},h,{theme:"tooth",color:this.isWhiteTheme()?"#000":"#fff",onDislike:m}))))),d())}};n(298),n(297);const sc=_o("blackout-filter");var oc=({className:e})=>pt.a.createElement("div",{className:_o.mix(sc(),e)}),ic=(n(296),new Ra.a({id:"rocket--inline",use:"rocket--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" id="rocket--inline">\n    <path fill-rule="nonzero" d="M10.245 9.45c3.437-3.465 7.254-3.673 7.62-3.3.36.36.088 4.15-3.36 7.62-.882.885-1.693 1.662-2.505 2.295v2.43c.003 1.002.026 1.035-.6 1.5-.343.252-1.797 1.445-3.36 2.4-.38.234-.696.04-.45-.3.655-.933 1.13-1.762 1.425-2.49.263-.671.262-1.266 0-1.785-1.002.316-1.835.222-2.445-.375-.619-.602-.71-1.44-.375-2.445-.529-.278-1.127-.28-1.8-.015-.73.294-1.56.769-2.49 1.425-.342.245-.537-.07-.3-.45.953-1.563 2.146-3.017 2.4-3.36.463-.625.496-.602 1.5-.6H7.95a28.32 28.32 0 0 1 2.295-2.55zm-5.37 7.965c.21.202-2.58 1.426-2.58 4.29 2.868.002 4.242-2.787 4.455-2.58.206.212-.617 1.832-1.77 2.985C3.838 23.25 2.295 24.001 0 24c.001-2.292.752-3.835 1.905-4.98 1.14-1.148 2.762-1.821 2.97-1.605zM1.05 12c-.006.484-.606.523-.6 0C.523 5.374 4.94 0 12 0c7.055 0 12 4.95 12 12 0 7.052-5.374 11.505-12 11.55-.227.001-.327-.147-.33-.3.001-.146.101-.297.33-.3 5.546.014 10.204-4.948 10.2-10.95.004-6-4.201-10.206-10.2-10.2C5.996 1.794 1.128 5.86 1.05 12z" />\n</symbol>'})),ac=(Aa.a.add(ic),ic);const cc=_o("rocket");class lc extends dt.PureComponent{render(){const{color:e,faint:t}=this.props,{id:n,viewBox:r}=ac;return pt.a.createElement("svg",{className:cc({faint:t}),width:"24",height:"24",viewBox:r},pt.a.createElement("use",{style:{fill:e},xlinkHref:`#${n}`}))}}n(258);const uc=_o("doc-card-header");class dc extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._getColor=(()=>{const{color:e,isDark:t}=this.props;return e||(t?"#fff":"#000")}),this._renderShadow=(()=>{const{isTextCard:e,isDesktop:t,read:n,dropShadow:r}=this.props;return r||e||!t&&n?null:pt.a.createElement("div",{className:uc("shadow"),style:this._getBadgeFadeStyle()})}),this._renderRocket=(()=>{const{rocket:e,image:t,isDesktop:n}=this.props;return!e||n?null:pt.a.createElement("div",{className:uc("rocket")},pt.a.createElement(lc,{faint:!t,color:this._getColor()}),this._renderShadow())}),this._renderMenu=(()=>{const{id:e,dropShadow:t,isNarrativeFeed:n,isNativeFeed:r,isChannelPage:s,buttonClassName:o,isDesktop:i,isZenLib:a}=this.props;return null}),t}_getBadgeFadeStyle(){const{mainColor:e,cardColors:t}=this.props,n=e||t&&t.card;if(!n)return{};const r=Ci(n).join(", ");return{boxShadow:`rgba(${r}, 0.4) 0px 0px 25px 5px, rgba(${r}, 0.4) 0px 0px 60px 30px, rgba(${r}, 0.6) 0px 0px 100px 30px`}}_renderBadges(){const{read:e,badges:t,isDesktop:n}=this.props;return t&&0!==t.length?pt.a.createElement("div",{className:uc("badge")},pt.a.createElement(xa,{badges:t,color:this._getColor(),read:e&&n}),this._renderShadow()):null}render(){const{noAbsolute:e,className:t}=this.props,n={absolute:!e};return pt.a.createElement("div",{className:_o.mix(uc(n),t)},this._renderRocket(),pt.a.createElement("div",{className:uc("badge-holder")},this._renderBadges()),this._renderMenu())}}var pc=[{name:"1",threshold:25},{name:"2",threshold:50},{name:"3"}];const hc=bo(Fa),mc=_o("doc-card-image-view"),fc=120,gc="blur",_c="fade",bc="#000000",vc="#FFFFFF",yc=["title","text"];var Ec=class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this.state={title:Va(this.props.title,fc)},this._titleClampRef=(e=>this._titleClamp=e),this._textClampRef=(e=>this._textClamp=e),this._onResize=zr(this._updateClamp,Ua,this),this._getImageUrl=(()=>{const{image:e,imageSquared:t}=this.props;return t||e}),this._renderBlurredPreviewViewElem=(()=>{const{blurredPreview:e}=this.props,t=`data:image/png;base64,${e||""}`;return pt.a.createElement("div",{className:mc("preview"),style:{backgroundImage:`url(${t})`}})}),this._renderImageElem=(e=>{const t={backgroundImage:`url(${this._getImageUrl()})`};return pt.a.createElement("div",{className:mc("image",{"is-loaded":e}),style:t})}),this._renderTitle=(()=>{const{isDesktop:e,titleRef:t}=this.props,{title:n}=this.state;return e?pt.a.createElement(Ja,{title:this.props.title,ref:t}):pt.a.createElement(Yi,{className:mc("title"),withAutoClamp:!1,domRef:t,ref:this._titleClampRef},n)}),this._renderReadFade=(()=>{const{isDesktop:e,read:t}=this.props;if(e)return null;const n=Ci(vc).join(),{cardColorRgb:r}=this._getColors(),s=t?n:r,o={backgroundImage:`linear-gradient(to top,\n                rgba(${s},1) 0%,\n                rgba(${s},1) 50%,\n                rgba(${s},0.7) 70%,\n                rgba(${s},0.5) 100%\n            )`};return pt.a.createElement("div",{className:mc("fade"),style:o})}),this._renderHoverMask=(()=>{const e={backgroundColor:this._getColors().hoverColor};return pt.a.createElement("div",{className:mc("hover-mask"),style:e})}),this._renderFeedback=(()=>{const{renderFeedback:e}=this.props;return e?e():null}),this._renderHeader=(()=>pt.a.createElement(dc,Et({},this.props,{className:mc("header")}))),this._renderClickable=(()=>{const{onClick:e,link:t}=this.props;return pt.a.createElement("a",{className:mc("clickable"),onClick:e,href:t,target:"_blank",rel:"noopener"})}),t}componentDidMount(){window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(()=>this._updateClamp()):this._updateClamp()}componentWillReceiveProps(e){this.setState({title:Va(e.title,fc)})}componentDidUpdate(e){yc.some(t=>e[t]!==this.props[t])&&this._updateClamp()}_getColors(){const{cardColors:e,read:t,mainColor:n,isDesktop:r}=this.props;if(n){const{text:e,card:s,isDarkImage:o}=Oi(n),i=Ci(s).join();return{hoverColor:o?bc:vc,textColor:t&&!r?bc:e,cardColor:s,cardColorRgb:i}}const s=e?e.card:vc,o=Ci(s).join(),i=!t&&e?e.text:bc,{isDarkImage:a}=Oi(s);return{hoverColor:a?bc:vc,textColor:i,cardColor:s,cardColorRgb:o}}_shouldRenderText(){return!Ha(this.props.type)&&this.props.text}_updateClamp(){let e;(e=this._shouldRenderText()&&this._textClamp?this._textClamp.clamp():Promise.resolve()).then(()=>this._titleClamp&&this._titleClamp.clamp())}_renderFadeImage(){const{isDesktop:e}=this.props,{cardColorRgb:t}=this._getColors(),n={backgroundImage:`linear-gradient(to top, ${(e?[[1,0],[.88,11],[.75,17],[.46,30],[.3,38],[.2,45],[.11,50],[.05,54],[0,100]]:[[1,0],[.94,8],[.68,19],[.46,30],[.3,38],[.2,45],[.11,50],[.05,54],[0,100]]).map(([e,n])=>`rgba(${t}, ${e}) ${n}%`).join()})`},r=this._getImageUrl();return pt.a.createElement("div",{className:mc("image-container")},pt.a.createElement(ma,{imageUrl:r,renderImage:this._renderImageElem,renderPlaceholder:this._renderBlurredPreviewViewElem}),pt.a.createElement("div",{className:mc("image-fade"),style:n}))}_renderBlurImage(){const{image:e,blurredPreview:t,cardBackgroundImage:n,cardBackgroundWhiteImage:r,read:s}=this.props,{cardColor:o}=this._getColors();return pt.a.createElement(va,{theme:"white",image:e,blurredPreview:t,cardBackgroundImage:n,cardBackgroundWhiteImage:r,isRead:s,isBlurred:s,size:"small",color:o,aspectRatioMode:"tall"})}_renderImage(){switch(this._getRenderType()){case _c:return this._renderFadeImage();case gc:return this._renderBlurImage()}}_renderContent(){const{text:e,isIntersecting:t}=this.props,n=e&&!qa(e);return pt.a.createElement(Ri,{isIntersecting:t,onResize:this._onResize},pt.a.createElement("div",{className:mc("content")},pt.a.createElement("div",{className:mc("text-content")},this._renderTitle(),this._shouldRenderText()?pt.a.createElement(Yi,{className:mc("text"),withAutoClamp:!1,minLineCount:n?2:1,fitToSpace:!0,ref:this._textClampRef},e):null),this._renderSourceName()))}_renderSourceName(){const{feedLink:e,logger:t,domainTitle:n,type:r,commentsCount:s,feedbackMittensProps:o}=this.props,{textColor:i}=this._getColors(),a=mc("source-name",{with_counter:s>=0&&P===r&&o.isEnabled}),c={textColor:i,name:n};return pt.a.createElement("div",{className:a},pt.a.createElement(Ca,{link:e,logger:t},pt.a.createElement(Ea,c)))}_renderMittens(e=null){const{feedbackMittensProps:t,onDislike:n,moveDislike:r,noDislike:s}=this.props;if(!t.isEnabled)return null;const{textColor:o}=this._getColors(),i=Object.assign({},t,{color:o,onDislike:n,onlyLike:r||s,type:e});return pt.a.createElement("div",{className:mc("mittens",{type:e})},pt.a.createElement(ta,i))}_renderSubscribeButton(){const{feedbackSubscribeProps:e,logger:t,isMobile:n}=this.props,{hasSubscribeButton:r}=e,{textColor:s}=this._getColors(),o={borderColor:s,color:s,opacity:.7},i=Object.assign({},e,{style:o,isVisible:r,logger:t,isMobile:n});return pt.a.createElement("div",{className:mc("subscribe-button")},pt.a.createElement(Ta,i))}_getRenderType(){const{type:e,text:t}=this.props;if(Ha(e))return _c;const n=!t,r=t&&qa(t);return n||r?_c:gc}_renderCommentsCounter(){const{commentsCount:e,commentsLink:t,logger:n,isMobile:r,feedbackMittensProps:s,type:o,read:i,onClick:a}=this.props,{textColor:c,cardColor:l,readColorRgb:u}=this._getColors();return P!==o?null:pt.a.createElement(hc,{textColor:i?u:l,balloonColor:c,link:t,count:e,logger:n,isTouch:r,isCardImage:!0,feedbackMittensIsDisabled:!s.isEnabled,onClick:a})}render(){const{feedback:e,image:t,read:n,type:r,experiments:s,feedbackSubscribeProps:o,isDesktop:i,columnCount:a,isDark:c,isRtbFitted:l,isExtendFeedbackPopupExp:u}=this.props,{hasSubscribeButton:d}=o,p=this._getRenderType(),{textColor:h,cardColor:m}=this._getColors(),f=Wa(this.state.title,pc),g=s.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_letter_spacing"),_=s.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_big_letter_spacing"),b=mc({read:n,type:r,feedback:e,image:Boolean(t),hasSubscribeButton:d,renderType:p,fontSize:f,isDesktop:i,columns:a,isDark:c,isLetterSpacingExp:g,isBigLetterSpacingExp:_,rtbFitted:l}),v={color:h,backgroundColor:m};return pt.a.createElement("div",{className:b,style:v},this._renderClickable(),this._renderImage(),this._renderReadFade(),this._renderHoverMask(),this._renderContent(),this._renderHeader(),this._renderCommentsCounter(),this._renderMittens(),this._renderSubscribeButton(),this._renderFeedback(),u?this._renderMittens("popup"):null,pt.a.createElement(oc,null))}};n(257);const kc=50,Cc=250,wc=_o("doc");var Sc=Yt(()=>{const e=Tr(),t=Lr(),n=Fr(),r=Object(Zt.createSelector)(pn,an,dn,(e,t)=>e.sources[e.feed.items[t].source],...Ur.map(e=>(t,n)=>t.feed.items[n][e]),(e,t,n,r,...s)=>{const[o,i,a,c,l,u]=s,{status:d,isSubscribedInCurrentSession:p}=r,h="subscribed"===d;return{id:o,source:r,triggerEvent:a[c],isSubscribed:h,hasSubscribeButton:(![at,lt,ut].includes(t)||i===P)&&(!h||p)&&("liked"===l||u)&&!n}});return(s,{id:o,rowIndex:i})=>{const{params:a,feed:c,yabro:l}=s,u=c.items[o],{product:d,libType:p}=a,h=yn(s),m=e(Object.assign({},u,{rowIndex:i})),f=t(s,o),g=n(s,o),_=r(s,o),b=vn(s),v=_n(s),y=pn(s),E=hn(s),k=bn(s),C=Nn(c),w=fn(s),S=Boolean(Ar(s,o)),x=Tn(s,o),O=gn(s),I=l&&l.exportRid,T=Un(s),N=s.sources[u.source],R=((e,t)=>{let{commentsDocumentId:n,commentsData:r,feed:s}=e;const o=s&&s.items&&s.items[t];let i=void 0;return!n&&o&&(n=o.commentsDocumentId),n&&r[n]&&"number"==typeof r[n].count&&(i=r[n].count),i})(s,o),P=E.safeGet("rezen_extend_feedback.is_popup",!1);return Object.assign({product:d,isTeethEnabled:b,teethType:v,theme:h,needSimilar:w,logger:m,feedbackProps:f,feedbackMittensProps:g,feedbackSubscribeProps:_,libType:p,isImageLazyLoadEnabled:k,columnCount:C,experiments:y,shouldAskUserQuestion:S,itemOrder:x,shouldScrollOnOpenCard:O,exportRid:I,isRtbFitted:T},u,{source:N,commentsCount:R,isExtendFeedbackPopupExp:P})}},{docShow:Ei,docShort:e=>({type:"DOC_SHORT",statEvent:"short",payload:{id:e}}),docClick:ki,docRead:e=>({type:"DOC_READ",payload:{id:e}}),requestSimilar:e=>(t,n,{zenApi:r})=>{const{feed:s}=n(),o=s.items[e];if(o.childItemId||o.isSimilarRequested)return;const{rows:i,elements:a}=Mn(s),c=i[a[e].row+1];let{similarLink:l}=o;Bs(c,M)&&(l=l.replace("_type_","ad")),t({type:"REQUEST_SIMILAR",payload:{itemId:e}}),r.getSimilar(l).then(n=>{t({type:"RECEIVE_SIMILAR",payload:{itemId:e,similar:n}});const{sourcesIds:r,docs:s,direct:o,rtb:i}=n.items;r.length+s.length+o.length+i.length!==0&&t(Ms(e,Object.assign({},n,{items:{sourcesIds:r,docs:s,direct:o,rtb:i}})))})},removeChildItem:Ds,itemMittensJump:(e,t)=>({type:"ITEM_MITTENS_JUMP",payload:{id:e,isMittensJumping:t}}),insertUserQuestion:e=>(t,n)=>{const r=n(),s=r.feed.items[e],o=Ar(r,s.id);if(s.isUserQuestionAnswered||!o)return;const i=(e=>{const{id:t,bulkParams:n,statEvents:r}=e;return{type:"user-feedback-question",id:G("user-feedback-question"),parentId:t,bulkParams:n,statEvents:r}})(s);setTimeout(()=>{t(Ms(e,i))},500)}})(class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this.state={shouldHighlight:!1},this._containerRef=Object(dt.createRef)(),this._onClick=(()=>{const{id:e,needSimilar:t,feedback:n,similarLink:r,requestSimilar:s,itemMittensJump:o,docClick:i,docRead:a,shouldAskUserQuestion:c,shouldScrollOnOpenCard:l,insertUserQuestion:u}=this.props;l&&this._scrollToElement(),i(e),c?u(e):t&&s(e,r),nr().then(()=>{Pe(500).then(()=>a(e)),n||Pe(1500).then(()=>o(e,!0)).then(()=>Pe(1e3)).then(()=>o(e,!1))})}),this._onDislike=(()=>{const{id:e,needSimilar:t,removeChildItem:n}=this.props;t&&n(e)}),this._setPackShown=(()=>{const{packId:e}=this.props;et.packShown(e)}),this._sendShowStat=(()=>{const{id:e,docShow:t,pixels:n,columnCount:s}=this.props;t(e),n&&n.forEach(e=>{try{const t=new Image;t.onerror=(()=>r.a.error(`Error while calling pixel (desktop); ${e}`)),t.src=e}catch(e){r.a.error("Error while calling pixel:",e)}}),this._setPackShown()}),this._sendShortStat=(()=>{const{id:e,docShort:t}=this.props;t(e)}),this._scrollToElement=(e=>{e=e||{};const{animate:t=!1,highlight:n=!1,offsetTop:r=kc}=e,s=this._containerRef.current;if(!s||0===this.props.rowIndex&&[lt,ut].includes(this.props.product))return Promise.resolve();const{shouldHighlight:o}=this.state;o&&this.setState({shouldHighlight:!1});const i=Ns(s);return Ts.scrollTo({top:i-r,animate:t}).then(()=>{if(n)return Pe(Cc).then(()=>{this.setState({shouldHighlight:!0})})})}),this._onFeedbackClick=(e=>{e.preventDefault(),e.stopPropagation()}),this._renderFeedback=(()=>{const{logger:e,feedback:t,feedbackProps:n,mainColor:r,isExtendFeedbackPopupExp:s}=this.props;return n.isEnabled&&(t&&"liked"!==t||s)?s?pt.a.createElement(yi,Et({mainColor:r,className:wc("feedback-popup-view"),logger:e},n,{theme:"white"})):pt.a.createElement("div",{className:wc("feedback-wrapper"),onClick:this._onFeedbackClick},pt.a.createElement(yi,Et({logger:e},n))):null}),this._renderNarrativeCard=(()=>{const{cardColors:e,read:t,mainColor:n}=this.props,{shouldHighlight:r}=this.state,s=Object.assign({},this.props,{shouldHighlight:r,onClick:this._onClick,onDislike:this._onDislike,renderFeedback:this._renderFeedback,containerRef:this._containerRef,isDesktop:!0,isDark:Si({isDesktop:!0,cardColors:e,read:t,mainColor:n})});return pt.a.createElement(Ec,s)}),t}_getToothType(){const{rowIndex:e,teethType:t,isTeethEnabled:n}=this.props;if(0===e&&n)return t}_renderDocCard(){const e=Object.assign({},this.props,{shouldHighlight:this.state.shouldHighlight,onClick:this._onClick,onDislike:this._onDislike,renderFeedback:this._renderFeedback,containerRef:this._containerRef});return pt.a.createElement(tc,e)}_renderToothCard(e){const{isIntersecting:t}=this.props,n=Object.assign({},this.props,{isIntersecting:t,shouldHighlight:this.state.shouldHighlight,view:e,source:this.props.domain,onClick:this._onClick,onDislike:this._onDislike,renderFeedback:this._renderFeedback,containerRef:this._containerRef});return pt.a.createElement(Yo,{isVisible:t,onShow:this._sendShortStat,timeout:500,shouldResetOnVisibilityChange:!0},pt.a.createElement(rc,n))}_emitCard(){const{statEvents:e,bulkParams:t,rowIndex:n,itemIndexInRow:r,domainTitle:s,title:o,itemOrder:i,id:a}=this.props,c={rowIndex:n};n<2&&this._containerRef.current&&tt.emit(nt.PROMO_CARD,{id:a,scrollTo:this._scrollToElement,domainTitle:s,title:o,itemIndexInRow:r,rowIndex:n,index:i,container:this._containerRef.current,sendPreviewShow:et.logBulkEvent.bind(et,{event:e.show_teaser,bulkParams:t,statMeta:c}),sendPreviewClick:et.logBulkEvent.bind(et,{event:e.click_teaser,bulkParams:t,statMeta:c})})}componentDidMount(){this._emitCard()}render(){const{isVisible:e,type:t,packId:n,exportRid:r}=this.props,s=this._getToothType();let o=s?this._renderToothCard(s):t===B?this._renderNarrativeCard():this._renderDocCard();return o=pt.a.createElement(Yo,{isVisible:e,onShow:this._sendShowStat},o)}});const xc=(e,t)=>(n,r)=>{const s=r().feed.itemsOrder.indexOf(e);n({type:"VIDEO_CARD_CHANGE_INTERSECTING",payload:{id:e,intersecting:t,index:s}})},Oc=(e,t)=>(n,r)=>{const s=r().feed.itemsOrder.indexOf(e);n({type:"VIDEO_CARD_CHANGE_VISIBILITY",payload:{id:e,visible:t,index:s}})},Ic=e=>({type:"VIDEO_CARD_CHANGE_INTERACTION",payload:{id:e}}),Tc=e=>({type:"VIDEO_CHANGE_ACTIVE_CARD",payload:e}),Nc=e=>(t,n)=>{const{items:r}=n().feed;t({type:"VIDEO_MODAL_TOGGLE",payload:{openedItem:r[e]}})},Rc=(u(e=>et.getVideoRecommend().then(t=>{if(0===t.length)throw new Error("no recommends");const n={};e({type:"VIDEO_MODAL_GET_RECOMMEND",payload:{videoFeed:t.reduce((e,t)=>{const{id:r,source:s,statParams:o,statEvents:i,bulkParams:a}=t;return n[s.id]||(n[s.id]=Object.assign({},s,{statParams:o,statEvents:i,bulkParams:a})),Object.assign({[r]:Object.assign({},t,{source:s.id})},e)},{})}}),e({type:"VIDEO_MODAL_SET_SOURCES",payload:{sources:n}})}),{timeouts:[1e3,3e3,5e3]}),2e3),Pc=4e3,Ac={PLAYBACK_NOT_STARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,QUEUED:5},Mc={short:"short",show:"show",click:"click","feedback:more":"feedback:more","feedback:less":"feedback:less","feedback:block":"feedback:block","feedback:cancel_less":"feedback:cancel_less","feedback:cancel_more":"feedback:cancel_more","feedback:cancel_block":"feedback:cancel_block",play:"play",pause:"pause",end:"end",autoplay:"autoplay",autopause:"autopause",sound_on:"sound_on",sound_off:"sound_off",action:"action",autoplay_on:"autoplay_on",autoplay_off:"autoplay_off",heartbeat:"heartbeat",replay:"replay"},Dc="PLAY_BUTTON_CLICK",jc=()=>{switch(Zn.getItem("zen-video-autoplay")){case"1":return!0;case"0":return!1;default:return}},Lc=e=>{Zn.setItem("zen-video-autoplay",e?"1":"0")};var Bc=e=>{class t extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this.state={started:!1},this._onPlayerDestroy=(()=>{this.setState({started:!1})}),this._sendShowStat=(()=>{const{logger:e,pixels:t}=this.props;e.log(Mc.show),!this._pixelsExist&&t&&(t.forEach(e=>{try{const t=new Image;t.onerror=(()=>console.error(`Error while calling pixel (desktop video); ${e}`)),t.src=e}catch(e){console.error("Error while calling pixel:",e)}}),this._pixelsExist=!0)}),t}componentDidMount(){const{autoplay:e,videoAutoplay:t}=this.props;if("boolean"!=typeof e){const e=jc();t("boolean"!=typeof e||e)}}componentDidUpdate(e){const{started:t}=this.state,{paused:n,isIntersecting:r,isVisible:s}=e,{id:o,isIntersecting:i,isVisible:a,paused:c,interactive:l,logger:u,setIntersecting:d,setVisibility:p}=this.props;t||c||this.setState({started:!0}),r!==i&&d(o,i),s!==a&&p(o,a),!n||c||l||u.log(Mc.autoplay),n||!c||l||u.log(Mc.autopause)}render(){const{isVisible:t}=this.props,{started:n}=this.state,r=Object.assign({},this.props,{started:n,onDestroy:this._onPlayerDestroy});return pt.a.createElement(Yo,{isVisible:t,onShow:this._sendShowStat},pt.a.createElement(e,r))}}t.defaultProps={paused:!0,muted:!0,shouldInitPlayer:!1,interactive:!1};return Yt(()=>{const e=Lr(),t=Fr(),n=Tr();return(r,{id:s})=>{const o=r.feed.items[s],i=e(r,s),a=t(r,s),c=n(o,"feed"),l=r.sources[o.source],u=r.videoModal.openedItemId===s,d=r.iface.isVideoAutoplayEnabled,p=r.videoCards.interactionCardId===s;return Object.assign({},o,{feedbackProps:i,feedbackMittensProps:a,logger:c,source:l,isModalOpen:u,autoplay:d,interactive:p})}},{videoAutoplay:ir,setIntersecting:xc,setVisibility:Oc,setLastInteractedCard:Ic,setActiveCard:Tc,toggleVideoModal:Nc})(t)};n(206),n(201);const Fc=_o("video_autoplay");class Uc extends dt.PureComponent{render(){const{autoplay:e,onAutoplayClick:t}=this.props;return pt.a.createElement("div",{className:Fc("wrapper",{active:e}),onClick:t},"Автовоспроизведение",pt.a.createElement("div",{className:Fc("outer")},pt.a.createElement("div",{className:Fc("inner")})))}}n(200);const zc={},Hc=(e,{invalidate:t=!1,crossorigin:n=!1,useCredentials:r=!1}={})=>{if(zc[e]&&!t)return zc[e].promise;const s=document.createElement("script");s.src=e,s.async=!0,n&&(s.crossOrigin=r?"use-credentials":"anonymous");const o=new Promise((t,n)=>{s.onload=(()=>{zc[e].loaded=!0,t()}),s.onerror=(t=>{zc[e].error=t,n(t)})});return zc[e]&&document.head&&document.head.removeChild(zc[e].script),document.head&&document.head.appendChild(s),zc[e]={script:s,promise:o,loaded:!1,error:null},o};Hc.isRequested=(e=>Boolean(zc[e])),Hc.isLoaded=(e=>Boolean(zc[e]&&zc[e].loaded)),Hc.isFailed=(e=>Boolean(zc[e]&&zc[e].error));var Vc=Hc;n(199),n(198);const $c=_o("spinner");class Gc extends dt.PureComponent{render(){const{dots:e}=this.props,t=new Array(e).fill().map((e,t)=>pt.a.createElement("div",{key:t,className:$c("dot",{[`dot-index_${t}`]:!0})}));return pt.a.createElement("div",{className:$c()},t)}}Gc.defaultProps={dots:5};const Wc=_o("video-loader");function qc(e){const{visible:t,className:n}=e,r=s(e,["visible","className"]),o=_o.mix(Wc({visible:t}),n);return pt.a.createElement("div",Et({className:o},r),pt.a.createElement(Gc,null))}const Kc=(e,t)=>{const n={};return r=>{for(const s of e)!n[s]&&r>=s&&(n[s]=!0,t(s))}},Qc=_o("video-player");class Yc extends dt.PureComponent{constructor(...e){var t;return t=super(...e),Zc.call(this),t}componentDidMount(){const{shouldInitPlayer:e,logger:t,video:{heartbeatTimes:n}}=this.props;this._heartbeatHandler=Kc(n,e=>{t.log(Mc.heartbeat,{global:{_video_pos_:e}})}),e&&this._initPlayer()}componentWillUnmount(){this._player&&this._player.destroy(),this._initPlayer.cancel(),Object.keys(this._cancelableHandlers).forEach(e=>this._cancelableHandlers[e].cancel())}componentDidUpdate(e){const{muted:t,video:n,paused:r}=e,{paused:s,muted:o,video:i,shouldInitPlayer:a}=this.props;if(!this._player&&a&&this._initPlayer(),r&&!s&&this._resetLoop(),this._player){const e=this._player.getState();e===Ac.PLAYING||s?e!==Ac.PAUSED&&s&&this._player.pause():this._player.play(),t!==o&&this._player.setMuted(o),n.id!==i.id&&this._updateConfig(),a||this._destroy()}}_renderLoader(){const{paused:e}=this.props,{loading:t}=this.state;return pt.a.createElement(qc,{visible:t&&!e})}render(){const{className:e,style:t}=this.props,n=_o.mix(Qc(),e);return pt.a.createElement("div",{className:n,style:t},this._renderLoader(),pt.a.createElement("div",{className:Qc("container"),style:t,ref:this._containerRef}))}}Yc.defaultProps={maxBufferLength:7,preload:!0,hidden:"*",size:{width:"100%",height:"100%"},handlers:{},shouldInitPlayer:!1,paused:!0,muted:!0};var Zc=function(){this.state={loading:!1},this._initStarted=!1,this._cancelableHandlers={},this._previousTime=0,this._loopCounter=1,this._loopPaused=!1,this._loopTimeCounter=300,this._latestMuted=!0,this._containerRef=ua()(e=>{this._containerElem=e}),this._resetLoop=(()=>{this._player?this._loopTimeCounter=this._player.getWatchedTime()+300:this._loopTimeCounter=300,this._loopCounter=1,this._loopPaused=!1}),this._onReady=(()=>{this._resetLoop()}),this._onCurrentTimeChange=((e,t,n)=>{const{logger:r,stopLoop:s}=this.props;this._heartbeatHandler(n);const o=this._previousTime>e;this._previousTime=e,n>=this._loopTimeCounter&&!this._loopPaused?(s(),r.log(Mc.autopause),this._loopPaused=!0):o&&(5===this._loopCounter?(s(),r.log(Mc.end),this._loopCounter=1):(r.log(Mc.end),r.log(Mc.replay),this._loopCounter++))}),this._onStateChange=(e=>{const{logger:t}=this.props,{loading:n}=this.state;switch(e){case Ac.PLAYING:"play"===this._latestUserAction&&(t.log(Mc.play),this.setState({paused:!1})),n&&this.setState({loading:!1});break;case Ac.PAUSED:"pause"===this._latestUserAction&&(t.log(Mc.pause),this.setState({paused:!0})),n&&this.setState({loading:!1});break;case Ac.BUFFERING:n||this.setState({loading:!0})}this._latestUserAction=null}),this._onUserAction=(e=>{if(e.name===Dc){const{state:t}=e.data||{};switch(t){case"play":this._resetLoop(),this._latestUserAction=t;break;case"pause":this._latestUserAction=t}}}),this._onVolumeChange=(e=>{const{logger:t}=this.props,n=0===e;this._latestMuted!==n&&(n?t.log(Mc.sound_off):t.log(Mc.sound_on),this._latestMuted=n)}),this._prepareHandlers=(()=>{const e=Object.assign({},this.props.handlers),{onStateChange:t,onUserAction:n,onVolumeChange:r,onCurrentTimeChange:s,onReady:o}=e;e.onStateChange=((...e)=>{this._onStateChange(...e),t&&t(...e)}),e.onCurrentTimeChange=((...e)=>{this._onCurrentTimeChange(...e),s&&s(...e)}),e.onUserAction=((...e)=>{this._onUserAction(...e),n&&n(...e)}),e.onVolumeChange=((...e)=>{this._onVolumeChange(...e),r&&r(...e)}),e.onReady=(()=>{this._onReady(),o&&o()}),this._cancelableHandlers=Object.keys(e).reduce((t,n)=>Object.assign({},t,{[n]:ua()(e[n])}),{})}),this._prepareSource=(()=>{const{video:{id:e,loop:t,additionalParams:n}}=this.props;return{streamUrl:e,loop:!1!==t,additionalParams:n}}),this._updateConfig=(async()=>{this._prepareHandlers();const e=this._prepareSource();this._previousTime=0,this.props.isIE?(await this._player.destroy(),this._initStarted=!1,this._player=null,this._initPlayer()):await this._player.setSource(e)}),this._initPlayer=ua()(async()=>{if(this._initStarted)return;this._initStarted=!0;const{maxBufferLength:e,muted:t,preload:n,hidden:r,size:s,video:{id:o,hasSound:i},objectFit:a,paused:c}=this.props;this._previousTime=0,await Vc("https://yastatic.net/yandex-video-player-iframe-api/js/video-player-iframe-api-loader.js");const l=this._prepareSource();this._prepareHandlers(),this._player=await window.Ya.streamPlayer.init({version:"1.0-381",element:this._containerElem,handlers:this._cancelableHandlers,source:l,maxBufferLength:e,muted:t||!i,preload:n,hidden:r,size:s}),o!==this.props.video.id?this._updateConfig():(this._player.setVideoStyle({objectFit:a}),c||this._player.play())}),this._destroy=(()=>{const{destroyTimeout:e=Rc,onDestroy:t}=this.props;this._destroyTimeout=setTimeout(async()=>{const{shouldInitPlayer:e}=this.props;this._player&&!e&&(await this._player.destroy(),this._initStarted=!1,this._player=null,t&&t())},e)})};const Jc=_o("video-card");class Xc extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this.state={hideControls:!1},this._getSoundTitle=(()=>{const{muted:e,hasSound:t}=this.props;return t?e?"Включить звук":"Выключить звук":"Видео без звука"}),t}_renderPlayer(){const{playerProps:e,onClick:t}=this.props;return pt.a.createElement(Yc,Et({className:Jc("player-wrapper")},e,{onClick:t}))}_renderPreview(){const{started:e,size:t,image:n,bigImage:r}=this.props,s={backgroundImage:`url(${t!==F&&r?r:n})`};return e?null:pt.a.createElement("div",{className:Jc("preview",{started:e}),style:s})}_renderControls(){const{muted:e,autoplay:t,onMuteClick:n,onAutoplayClick:r,hasSound:s}=this.props,o=pt.a.createElement("div",{className:Jc("mute",{active:s&&!e,noSound:!s}),onClick:n,title:this._getSoundTitle()}),i=pt.a.createElement(Uc,{autoplay:t,onAutoplayClick:r});return pt.a.createElement("div",{className:Jc("controls")},o,i)}_renderPlayButton(){const{paused:e}=this.props;return pt.a.createElement("div",{className:Jc("play_button",{visible:e})})}_renderTitle(){const{title:e}=this.props;return pt.a.createElement(Yi,{className:Jc("title")},e)}_renderDomain(){const{domainTitle:e,feedLink:t,logger:n}=this.props;return pt.a.createElement("div",{className:Jc("domain")},pt.a.createElement(Ca,{link:t,logger:n},pt.a.createElement(Ea,{textColor:"#fff",name:e})))}_renderMittens(e=null){const{feedbackMittensProps:t}=this.props;return pt.a.createElement("div",{className:Jc("mittens")},pt.a.createElement(ta,Et({},t,{color:"#fff",type:e})))}_renderFeedback(){const{logger:e,feedbackProps:t,feedback:n,isExtendFeedbackPopupExp:r}=this.props;return t.isEnabled&&(n&&"liked"!==n||r)?r?pt.a.createElement(yi,Et({mainColor:"rgb(0,0,0)",className:Jc("feedback-popup-view"),logger:e},t,{theme:"white"})):pt.a.createElement("div",{className:Jc("feedback-wrapper")},pt.a.createElement(yi,Et({logger:e},t))):null}_renderFeedbackControls(){return pt.a.createElement("div",{className:Jc("feedback-controls")},pt.a.createElement("div",{className:Jc("bottom")},this._renderDomain(),this._renderMittens("popup")))}render(){const{containerRef:e,started:t,paused:n,onClick:r,isIntersecting:s,controlsHidden:o,link:i,rtbFitted:a,isExtendFeedbackPopupExp:c}=this.props,l={visible:s,started:t,paused:n,isExtendFeedbackPopupExp:c},u=a?"_rtb-fitted":null;return pt.a.createElement("div",{className:_o.mix(Jc(l),u)},this._renderPreview(),pt.a.createElement("a",{className:Jc("content",{hidden:o}),ref:e,href:i,target:"_blank",rel:"noopener",onClick:r},this._renderPlayButton(),this._renderControls(),this._renderTitle(),pt.a.createElement("div",{className:Jc("bottom")},this._renderDomain(),this._renderMittens())),this._renderPlayer(),this._renderFeedback(),c?this._renderFeedbackControls():null)}}const el={activeCard:{id:null,paused:!1,muted:!0},interactionCardId:null,visibleCardIndices:{},intersectingCardIndices:{}},tl=(e,t,n,r)=>{const{[n]:s}=e,{id:o,index:i,[r]:a}=t.payload,c=Object.assign({},s);return a?c[o]=i:delete c[o],Object.assign({},e,{[n]:c})};const nl=Object(Zt.createSelector)((e,t)=>t,e=>e.videoModal.openedItemId,e=>{const{interactionCardId:t,intersectingCardIndices:n}=e.videoCards;if(void 0!==n[t])return t},(e,t)=>e.feed.items[t].video.autoplay&&e.iface.isVideoAutoplayEnabled,(e,t)=>{const{visibleCardIndices:n}=e.videoCards;if(0===n.length)return!1;const r=Object.values(n);return n[t]===Math.min.apply(void 0,r)},(e,t,n,r,s)=>!(t||n&&n!==e)&&(n===e||!!r&&s)),rl=(e,t,n)=>{const{activeCard:r}=e.videoCards.activeCard.id===t?e.videoCards:el;return r[n]};var sl=Object(Ys.a)(Yt(()=>{const e=Object(Zt.createSelector)(nl,(e,t)=>{const{feedback:n}=e.feed.items[t];return n&&"liked"!==n},(e,t)=>rl(e,t,"paused"),(e,t)=>rl(e,t,"muted"),(e,t,n,r)=>!e||t?{paused:!0,muted:!0}:{paused:n,muted:r});return(t,{id:n})=>{const r=pn(t),s=hn(t),o=r.isExp("ab:rezen_video_modal:enable"),i=s.safeGet("rezen_extend_feedback.is_popup",!1),a=Un(t),{paused:c,muted:l}=e(t,n);return{paused:c,muted:l,hasModal:o,rtbFitted:a,isExtendFeedbackPopupExp:i}}}),Bc)(class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this.state={controlsHidden:!1},this._changeActiveCard=(e=>{const{id:t,paused:n,muted:r,setActiveCard:s}=this.props;s(Object.assign({id:t,paused:n,muted:r},e))}),this._containerRef=(e=>{this._containerElem&&this._containerElem.removeEventListener("auxclick",this._onAuxClick),this._containerElem=e,this._containerElem&&this._containerElem.addEventListener("auxclick",this._onAuxClick)}),this._hideControls=ua()(e=>{this.setState({controlsHidden:e})}),this._onAuxClick=(e=>{if(1===e.button){const{id:e,paused:t,setLastInteractedCard:n,logger:r}=this.props;n(e),t||(this._changeActiveCard({paused:!0}),r.log(Mc.pause))}}),this._onClick=(e=>{const{id:t,setLastInteractedCard:n,logger:r}=this.props;if(n(t),(e.ctrlKey||e.metaKey)&&0===e.button){const{paused:e}=this.props;return void(e||(this._changeActiveCard({paused:!0}),r.log(Mc.pause)))}const{hasModal:s}=this.props;if(s){const{id:e,logger:t,paused:n,toggleVideoModal:r,isModalOpen:s}=this.props;s||(t.log(Mc.click),r(e),n||(this._changeActiveCard({paused:!0}),t.log(Mc.pause)))}else{const{paused:e,logger:t}=this.props;t.log(Mc.click),this._changeActiveCard({paused:!e}),t.log(e?Mc.play:Mc.pause)}e.preventDefault()}),this._onMuteClick=(e=>{const{id:t,muted:n,logger:r,video:{hasSound:s},setLastInteractedCard:o}=this.props;o(t),s&&(r.log(n?Mc.sound_on:Mc.sound_off),this._changeActiveCard({muted:!n})),e.stopPropagation(),e.preventDefault()}),this._onAutoplayClick=(e=>{const{id:t,autoplay:n,paused:r,logger:s,videoAutoplay:o,setLastInteractedCard:i}=this.props;i(t);const a=!n;Lc(a),o(a),s.log(a?Mc.autoplay_on:Mc.autoplay_off),r&&a&&s.log(Mc.autoplay),r||a||s.log(Mc.autopause),this._changeActiveCard({paused:n}),e.stopPropagation(),e.preventDefault()}),this._stopLoop=(()=>{this._changeActiveCard({paused:!0})}),t}componentWillUnmount(){this._hideControls.cancel(),this._onPlayerDestroy.cancel()}componentDidUpdate(e){const{paused:t}=e,{paused:n}=this.props;t&&!n&&(this._hideControls(!1),setTimeout(()=>this._hideControls(!0),Pc)),!t&&n&&this._hideControls(!1)}render(){const{started:e,paused:t,muted:n,video:r,link:s,isIntersecting:o,logger:i,size:a,rtbFitted:c,onDestroy:l,isExtendFeedbackPopupExp:u}=this.props,{controlsHidden:d}=this.state,p={video:r,shouldInitPlayer:e&&o,logger:i,objectFit:a===F?"cover":"contain",isIntersecting:o,paused:t,muted:n,onDestroy:l,stopLoop:this._stopLoop,handlers:{onCurrentTimeChange:this._onCurrentTimeChange}},h=Object.assign({},this.props,{link:s,started:e,hasSound:r.hasSound,containerRef:this._containerRef,onClick:this._onClick,onMuteClick:this._onMuteClick,onAutoplayClick:this._onAutoplayClick,playerProps:p,controlsHidden:d,rtbFitted:c,isExtendFeedbackPopupExp:u});return pt.a.createElement(Xc,h)}});n(197);var ol=e=>{return class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._onClick=(()=>{const{logger:e,onClick:t}=this.props;e.log("click"),t&&t()}),t}render(){return pt.a.createElement(e,Et({},this.props,{onClick:this._onClick}))}}};var il=e=>{return class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._loggerSelector=Nr(),t}render(){return pt.a.createElement(e,Et({},this.props,{logger:this._loggerSelector(this.props)}))}}};const al=_o("hint-eula");var cl=Object(Ys.a)(Yt((e,{id:t})=>{const n=yn(e),r=e.feed.items[t];return Object.assign({theme:n},r)}),il,ol,Oa)(class extends dt.PureComponent{render(){const{theme:e,link:t,rootRef:n,onClick:r}=this.props;return pt.a.createElement("div",{className:al({theme:e}),ref:n},pt.a.createElement("div",{className:al("text")},"Пролистывая далее, вы соглашаетесь с условиями пользовательского соглашения Яндекс Дзен."),pt.a.createElement("a",{href:t,className:al("link"),target:"_blank",rel:"noopener",onClick:r},"Читать полный текст пользовательского соглашения"))}});n(196);var ll=()=>{let e,t;return(...n)=>{if(t&&((e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0})(e,n))return t;const r=e=>{for(let t=0;t<n.length;t++){const r=n[t];"function"==typeof r?r(e):r&&(r.current=e)}};return e=n,t=r,r}};var ul=e=>{let{tag:t="div",text:n,attrs:r,stylesFormatter:o}=e;const i=o(n,r,s(e,["tag","text","attrs","stylesFormatter"]));return pt.a.createElement(t,Et({},r,{style:i}),n)};const dl=e=>(t,n,{warning:r})=>{const s=t.length;let o;return o=s<=20?e.big:s<=40&&!r?e.medium:e.small},pl={fontSize:"10px",lineHeight:"14px"},hl=dl({small:{fontSize:"18px",lineHeight:"22px"},medium:{fontSize:"18px",lineHeight:"22px"},big:{fontSize:"26px",lineHeight:"32px"}}),ml=dl({small:{fontSize:"12px",lineHeight:"16px"},medium:{fontSize:"14px",lineHeight:"20px"},big:{fontSize:"14px",lineHeight:"20px"}}),fl=e=>e.length>=30?pl:null,gl=({title:e,warning:t,attrs:n})=>pt.a.createElement(ul,{text:e,stylesFormatter:hl,warning:t,attrs:n}),_l=({text:e,warning:t,attrs:n})=>pt.a.createElement(ul,{text:e,stylesFormatter:ml,warning:t,attrs:n}),bl=({warning:e,attrs:t})=>pt.a.createElement(ul,{text:e,stylesFormatter:fl,attrs:t});n(195);const vl=_o("direkt-card-standard");var yl=class extends dt.PureComponent{render(){const{title:e,text:t,age:n,warning:r,domain:s,isRubberyDesign:o,directLinkClickHandler:i,columnCount:a,hasButton:c}=this.props;let{image:l,renderLabel:u}=this.props;if(l){const e=Number(l[1]),t=Number(l[2]);l=e>=306&&t>=135?l[0]:null}let d=null,p=null,h=null;l||o?(d=pt.a.createElement(gl,{title:e,warning:r,attrs:{className:vl("title")}}),p=pt.a.createElement(_l,{text:t,warning:r,attrs:{className:vl("text")}}),r&&(h=pt.a.createElement(bl,{warning:r,attrs:{className:vl("warning")}}))):(d=pt.a.createElement("div",{className:vl("title")},e),p=pt.a.createElement("div",{className:vl("text")},t),r&&(h=pt.a.createElement("div",{className:vl("warning")},r)));const m={columns:a,hasImage:Boolean(l),hasButton:c};return pt.a.createElement("div",{className:vl(m)},pt.a.createElement("div",{className:vl("label"),onClick:i},pt.a.createElement(u,null)),l?pt.a.createElement("div",{className:vl("image"),style:{backgroundImage:`url(${l})`}}):null,pt.a.createElement("div",{className:vl("image-gradient")}),pt.a.createElement("div",{className:vl("title-spacer")}),pt.a.createElement("div",{className:vl("content")},pt.a.createElement("div",{className:vl("title-content")},d),pt.a.createElement("div",{className:vl("sub-content")},pt.a.createElement("div",{className:vl("domain")},s),n?pt.a.createElement("div",{className:vl("age")},n):null),pt.a.createElement("div",{className:vl("text-content")},p,h)),c?pt.a.createElement("div",{className:vl("button")},"Перейти"):null)}};n(194);const El=_o("direkt-card-banner");var kl=class extends dt.PureComponent{render(){const{title:e,text:t,image:n,warning:r,domain:s,age:o,directLinkClickHandler:i,columnCount:a,hasButton:c,rootRef:l,renderLabel:u}=this.props,d={columns:a,hasButton:c};return pt.a.createElement("div",{className:El(d),ref:l},pt.a.createElement("div",{className:El("label"),onClick:i},pt.a.createElement(u,null)),pt.a.createElement("div",{className:El("background")},pt.a.createElement("div",{className:El("image"),style:{backgroundImage:`url(${n})`}}),pt.a.createElement("div",{className:El("image-mask")})),pt.a.createElement("div",{className:El("hover-fade")}),pt.a.createElement("div",{className:El("title-spacer")}),pt.a.createElement("div",{className:El("content")},pt.a.createElement("div",{className:El("title-content")},pt.a.createElement(gl,{title:e,warning:r,attrs:{className:El("title")}})),pt.a.createElement("div",{className:El("sub-content")},pt.a.createElement("div",{className:El("domain")},s),o?pt.a.createElement("div",{className:El("age")},o):null),pt.a.createElement("div",{className:El("text-content")},pt.a.createElement(_l,{text:t,warning:r,attrs:{className:El("text")}}),r?pt.a.createElement("div",{className:El("warning")},r):null)),c?pt.a.createElement("div",{className:El("button")},"Перейти"):null)}},Cl=n(64);var wl=(e,t)=>{e.stopPropagation(),e.preventDefault();const n=Cl.a[t];n?window.open(n,"_blank"):r.a.warn("directPartnerClickHandler: invalid tld")};const Sl=_o("direkt");var xl=Yt((e,{id:t})=>{const n=e.feed.items[t],{tld:r}=e.params,s=Nn(e.feed),o=Ln(e),i=pn(e),a=i.isExp("rezen_direct_use_wide_images"),c=i.isExp("direct_label_cut"),l=Un(e);return Object.assign({tld:r,columnCount:s,hasButton:!0,isRubberyDesign:Boolean(o),isWideImagesExp:a,isRtbFitted:l,isDirectLabelCut:c},n)},(e,t)=>({onAdClick(){e(ki(t.id))},onAdShow(){e(Ei(t.id))}}))(class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._containerRef=Object(dt.createRef)(),this._composeContainerRefs=ll(),this._sendShowStat=(()=>{Ue(this.props.showUrl).catch(r.a.error),this.props.onAdShow()}),this._directLinkClickHandler=(e=>{const{tld:t}=this.props;wl(e,t)}),this._renderLabel=(()=>{const{isDirectLabelCut:e}=this.props,t="Яндекс.Директ";return e?pt.a.createElement("span",{className:Sl("label-container")}):t}),t}_getImageUrl(){const{image:e}=this.props;return e&&e[0]}_onAdClick(e){const{onAdClick:t,url:n}=this.props;t(e),window.open(n,"_blank")}componentDidMount(){this._containerRef.current&&this._containerRef.current.addEventListener("auxclick",this.props.onAdClick)}componentWillUnmount(){this._containerRef.current&&this._containerRef.current.removeEventListener("auxclick",this.props.onAdClick)}render(){const{rootRef:e,title:t,text:n,image:r,domain:s,age:o,warning:i,isWideImage:a,columnCount:c,hasButton:l,isRubberyDesign:u,isVisible:d,isIntersecting:p,isWideImagesExp:h}=this.props,m={image:this._getImageUrl(),warning:i,title:t,text:n,domain:s,age:o,columnCount:c,hasButton:l,isRubberyDesign:u,isVisible:d,isIntersecting:p,renderLabel:this._renderLabel,directLinkClickHandler:this._directLinkClickHandler},f=pt.a.createElement("div",{className:Sl(),onClick:e=>this._onAdClick(e),ref:this._composeContainerRefs(this._containerRef,e)},a&&h?pt.a.createElement(kl,m):pt.a.createElement(yl,Et({},m,{image:r})));return pt.a.createElement(Yo,{isVisible:d,onShow:this._sendShowStat},f)}});n(193);const Ol=Ho("channel-card"),Il=e=>e.length>=8&&/\s/.test(e);class Tl extends pt.a.PureComponent{constructor(...e){var t;return t=super(...e),this.state={isTouch:!1},this._onIconClick=(e=>{const{onIconClick:t}=this.props;t&&(e.preventDefault(),e.stopPropagation(),t(e))}),t}componentDidMount(){const e="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;this.setState({isTouch:e})}_renderText(){const{text:e}=this.props;if(!Il(e))return e;const t=(e.length-1)/2;let n=0;for(let r=0;r<e.length;r++)/\s/.test(e[r])&&Math.abs(t-r)<Math.abs(t-n)&&(n=r);return pt.a.createElement(dt.Fragment,null,e.slice(0,n),pt.a.createElement("br",null),e.slice(n))}render(){const e=this.props,{size:t,status:n,theme:r,image:o,imageBackgroundColor:i,text:a,textColor:c,textBackgroundColor:l,containerRef:u,tag:d,isMobile:p}=e,h=s(e,["size","status","theme","image","imageBackgroundColor","text","textColor","textBackgroundColor","containerRef","tag","isMobile"]),m={backgroundColor:i,backgroundImage:`url('${o}')`},f={color:c,backgroundColor:l},{isTouch:g}=this.state,_=Lo(Bo(h,["onIconClick","isMobile"]),{className:Ol({size:t,status:n,theme:r,isMobile:p,isTouch:g,isButton:"a"===d||"button"===d})});return pt.a.createElement(d,Et({ref:u},_),pt.a.createElement("div",{className:Ol("image"),style:m}),pt.a.createElement("div",{className:Ol("text",{isLong:Il(a)}),style:f},pt.a.createElement("div",{className:Ol("text-wrapper")},this._renderText())),pt.a.createElement("div",{className:Ol("gradient")}),pt.a.createElement("div",{className:Ol("icon"),onClick:this._onIconClick}))}}Tl.defaultProps={tag:"div",theme:"white"};var Nl=Object(dt.forwardRef)((e,t)=>pt.a.createElement(Tl,Et({},e,{containerRef:t})));var Rl=Yt(null,{checkSource:e=>({type:"CHECK_SOURCE",payload:{id:e}}),uncheckSource:e=>({type:"UNCHECK_SOURCE",payload:{id:e}})})(class extends dt.Component{constructor(...e){var t;return t=super(...e),this._onClick=(()=>{const{logger:e,checkSource:t,uncheckSource:n,channel:r}=this.props,{id:s,userSubscribed:o}=r;(o?n:t)(s),e.log("click",{global:{_i_:s,_s_:String(o?0:1)}}),et.invalidateCache()}),t}getCardProps(){const{channel:e}=this.props,{image:t,name:n,userSubscribed:r,textBackgroundColor:s,imageBackgroundColor:o,textColor:i}=e;return{image:t,textColor:i,text:n,textBackgroundColor:s,imageBackgroundColor:o,status:r?"subscribed":"add",theme:"black"}}render(){return pt.a.createElement(Nl,Et({},this.getCardProps(),{size:"r",onClick:this._onClick,onIconClick:this._onClick,isMobile:this.props.isMobile}))}});n(182);const Pl=_o("iceboarding-view");var Al=class extends dt.PureComponent{_renderButton(){const{moreButton:e}=this.props;return e?pt.a.createElement("a",{className:Pl("more-sources"),href:e.link},"Показать больше источников"):null}render(){const{sources:e,titleRef:t,view:n,theme:r,logger:s,isMobile:o}=this.props;return pt.a.createElement("div",{className:Pl({view:n,theme:r})},pt.a.createElement("div",{className:Pl("title"),ref:t},"Отметьте интересные источники"),pt.a.createElement("div",{className:Pl("description")},"В ленте будет больше публикаций с этих сайтов"),pt.a.createElement("div",{className:Pl("sources")},e.map((e,t)=>pt.a.createElement("div",{className:Pl("source-item"),key:t},pt.a.createElement(Rl,{channel:e,logger:s,isMobile:o})))),this._renderButton())}};var Ml=Yt(()=>{const e=Tr(),t=Object(Zt.createSelector)(e=>e.iceboarding.checkedSources,(e,t)=>e.feed.items[t],e=>Nn(e.feed),(e,t,n)=>t.sources.slice(0,30).map(t=>Object.assign({},t,{userSubscribed:e.includes(t.id)})));return(n,{id:r})=>{const s=n.feed.items[r];return Object.assign({},s,{sources:t(n,r),isMobile:n.params.isMobile,theme:yn(n),logger:e(s)})}})(class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._onShow=(()=>{const{logger:e,sources:t}=this.props;e.log("show",{info:t.map(({id:e})=>e)})}),t}render(){const{isVisible:e,isMobile:t}=this.props,n=Object.assign({},this.props,{view:t?"mobile":"desktop"});return pt.a.createElement(Yo,{isVisible:e,onShow:this._onShow},pt.a.createElement(Al,n))}});n(181);const Dl=_o("iceboarding-feed-item");var jl=class extends dt.PureComponent{render(){const{id:e,rootRef:t,isVisible:n,rowIndex:r}=this.props;return pt.a.createElement("div",{className:Dl(),ref:t},pt.a.createElement(Ml,{id:e,isVisible:n,rowIndex:r}))}};n(180),n(179);const Ll=(e,t,n=!1)=>{if(e.length<3||n&&t()>.7)return[e];const r=t()*(e.length-2)+1;return[...Ll(e.substr(0,r),t,!0),...Ll(e.substr(r),t,!0)]};var Bl=Ll;const Fl=e=>{const t=window.Ya&&window.Ya.Rum,n=t&&t.makeSubPage?t.makeSubPage(e,t.getTime()):null;return{sendTimeMark(e=[]){if(!n)return;const r=e.join(".");t.sendTimeMark(r,t.getTime(),!1,n)},onLoadStart(e=[]){this.sendTimeMark(["1724",...e])},onRenderEnd(e=[]){this.sendTimeMark(["2046",...e])}}},Ul="https://yastatic.net/partner-code/loaders/context.js",zl="yandexContextAsyncCallbacks";let Hl,Vl=!1;const $l=()=>{if(Vl)return;Vl=!0;const e=document.createElement("script");e.innerHTML="\n        window.home = window.home || {};\n        window.home.export = window.home.export || {};\n    ",document.head&&document.head.appendChild(e)};function Gl(e,t={},n){t.pcodever&&(window.pcodever=t.pcodever);const r=Fl("155");t.isLiteRtb&&$l(),(Hl||(Hl=new Promise((e,t)=>{window[zl]=window[zl]||[],window[zl].push(()=>{e(window.Ya)}),Vc(Ul).catch(t)})),Hl).then(t=>{r.onLoadStart(),t.Context.AdvManager.render(Object.assign({},e,{onRender:t=>{r.onRenderEnd(["direct"===t.product?"155":"3431"]),e.onRender&&e.onRender(t)}}),n)})}var Wl=(e=123456789)=>{let t=e,n=987654321,r=4294967295;return{getNext:()=>{let e=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return.5+(e/=4294967296)},setSeed:(e=123456789)=>{t=e,n=987654321}}};const ql=Wl();var Kl=e=>{class t extends dt.Component{constructor(...e){var t;return t=super(...e),this.state={seed:Math.floor(1e4*ql.getNext()),random:Wl()},t}render(){const{seed:t,random:n}=this.state;return n.setSeed(t),pt.a.createElement(e,Et({},this.props,{random:n}))}}return t.displayName=`WithRandomSequence(${so(e)})`,t};const Ql=_o("ad-card");let Yl=0;const Zl={reportAdDidntLoad:e=>({type:"REPORT_AD_DIDNT_LOAD",payload:{itemId:e}})};var Jl=Object(Ys.a)(Yt(e=>{const t=pn(e).isExp("ab:rezen_lite_rtb_version:rezen_lite_rtb_version_enabled"),n=hn(e).safeGet("rezen_pcode.version",0),{cspNonce:r}=e.params;return{isRtbFitted:Un(e),isLiteRtb:t,pcodever:n,cspNonce:r}},Zl),Kl)(class extends pt.a.Component{componentDidMount(){const{ad:{block_id:e,partner_stat_id:t},isLiteRtb:n,id:s,reportAdDidntLoad:o,pcodever:i,cspNonce:a}=this.props;Gl({blockId:e,statId:t,pageNumber:Yl++,renderTo:this.getDomElemId(),grab:"dFlhbmRleCB6ZW4KTm8gZ3JhYg==",async:!0,cspNonce:a},{isLiteRtb:n,pcodever:i},()=>{r.a.log(`No ad: ${e}-${t}`),o(s)})}shouldComponentUpdate(){return!1}getDomElemId(){return this.props.ad.dom_elem_id}render(){const{isRtbFitted:e,mix:t,ad:{block_id:n,partner_stat_id:r},random:s}=this.props,o=e?"_is-rtb-fitted":null,i=Bl("реклама",s.getNext).reverse().map((e,t)=>pt.a.createElement("div",{key:t},e));return pt.a.createElement("div",{className:_o.mix(Ql(),o,t)},pt.a.createElement("div",{className:"ad-card__ad-box"},pt.a.createElement("div",{className:"ad-card__ad-box-reverse"},i)),pt.a.createElement("div",{className:"ad-card__ad"},pt.a.createElement("div",{"data-block-id":void 0,id:this.getDomElemId()})),pt.a.createElement(oc,null))}});n(178);const Xl=_o("similar-doc-card-view");var eu=class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._containerRef=Object(dt.createRef)(),this._composeContainerRefs=ll(),this._renderRocket=(()=>{const{rocket:e,image:t,isDark:n}=this.props;return e?pt.a.createElement("div",{className:Xl("rocket")},pt.a.createElement(lc,{faint:!t,color:n?"#fff":"#000"})):null}),this._renderClickable=(()=>{const{onClick:e,link:t,rootRef:n}=this.props;return pt.a.createElement("a",{ref:this._composeContainerRefs(this._containerRef,n),className:Xl("clickable"),onClick:e,href:t,target:"_blank",rel:"noopener"})}),t}getStyles(){const e={},{image:t,cardColors:n,mainColor:r}=this.props;return t&&(e.backgroundImage=`url(${t})`,e.backgroundPosition="center",e.backgroundSize="cover"),r?e.color=Oi(r).text:n&&(e.color=n.text),e}getCardColor(){const{cardColors:e,mainColor:t}=this.props;return t?Oi(t).card:e?e.card:void 0}getFadesStyle(){const e=this.getCardColor();if(e){const t=Ci(e).join(),n=[`rgba(${t},1) 0%`,`rgba(${t},0.2) 40%`,`rgba(${t},0.3) 56%`,`rgba(${t},0.3) 100%`];return{fade:{background:`linear-gradient(to right, ${[`rgba(${t},0.88) 0%`,`rgba(${t},0.88) 25%`,`rgba(${t},0.79) 40%`,`rgba(${t},0.68) 56%`,`rgba(${t},0.09) 100%`].join()})`},hover:{background:`linear-gradient(to right, ${n.join()})`}}}return{fade:{},hover:{}}}componentDidMount(){this._containerRef.current&&this._containerRef.current.addEventListener("auxclick",this.props.onClick)}componentWillUnmount(){this._containerRef.current&&this._containerRef.current.removeEventListener("auxclick",this.props.onClick)}render(){const{title:e,text:t,domainTitle:n,image:r,isMobile:s,isIntersecting:o,feedLink:i,logger:a,linkHoverEnabled:c}=this.props,l=this.getFadesStyle(),u={hasImage:Boolean(r),mobile:s,linkHoverEnabled:c};return pt.a.createElement("div",{className:Xl(u),style:this.getStyles()},this._renderClickable(),pt.a.createElement("div",{className:Xl("fade"),style:l.fade}),pt.a.createElement("div",{className:Xl("hover-fade"),style:l.hover}),this._renderRocket(),pt.a.createElement("div",{className:Xl("content")},pt.a.createElement("div",{className:Xl("content-wrapper")},pt.a.createElement(za,{className:Xl("title"),isIntersecting:o},e),s?null:pt.a.createElement(za,{className:Xl("text"),isIntersecting:o},t),pt.a.createElement(Ca,{className:Xl("source-name-holder"),link:i,logger:a},pt.a.createElement("div",{className:Xl("source-name")},n)))),pt.a.createElement(oc,null))}};var tu=Object(Ys.a)(ea,bo,Yt(e=>{return{linkHoverEnabled:pn(e).isExp("ab:rezen_channel_links:rezen_channel_links")}}))(class extends dt.PureComponent{render(){const{isVisible:e,logger:t}=this.props,n=Object.assign({},this.props,{onClick:()=>t.log("click")}),r=this.props.ad?pt.a.createElement(Jl,Et({},n,{mix:"similar__item-ad-container"})):pt.a.createElement(eu,n);return pt.a.createElement(Yo,{logger:t,isVisible:e},r)}});n(177);const nu=_o("similar-direkt-card-view");var ru=class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._containerRef=Object(dt.createRef)(),this._composeContainerRefs=ll(),this._directLinkClickHandler=(e=>{const{tld:t}=this.props;wl(e,t)}),t}_onAdClick(e){const{onClick:t,url:n}=this.props;t(e),window.open(n,"_blank")}_getImage(){const{image:e}=this.props;return e&&e[0]}_renderBackground(){const e=this._getImage();return e?pt.a.createElement("div",{className:nu("background-wrapper")},pt.a.createElement("div",{className:nu("background"),style:{backgroundImage:`url(${e})`}}),pt.a.createElement("div",{className:nu("background-gradient")}),pt.a.createElement("div",{className:nu("background-hover")})):null}_renderAge(){const{age:e}=this.props;return e?pt.a.createElement("div",{className:nu("age")},e):null}_renderWarning(){const{warning:e}=this.props;return e?pt.a.createElement("div",{className:nu("warning-content")},pt.a.createElement("div",{className:nu("warning")},e),this._renderAge()):null}componentDidMount(){this._containerRef.current&&this._containerRef.current.addEventListener("auxclick",this.props.onClick)}componentWillUnmount(){this._containerRef.current&&this._containerRef.current.removeEventListener("auxclick",this.props.onClick)}render(){const{rootRef:e,title:t,text:n,domain:r,isMobile:s}=this.props,o=this._getImage(),i={hasImage:Boolean(o),mobile:s};return pt.a.createElement("div",{className:nu(i),onClick:e=>this._onAdClick(e),ref:this._composeContainerRefs(this._containerRef,e)},pt.a.createElement("div",{className:nu("label"),onClick:this._directLinkClickHandler}),this._renderBackground(),pt.a.createElement("div",{className:nu("image"),style:{backgroundImage:`url(${o})`}}),pt.a.createElement("div",{className:nu("content")},pt.a.createElement("div",{className:nu("title")},t),pt.a.createElement("div",{className:nu("domain")},r),pt.a.createElement("div",{className:nu("text")},n),this._renderWarning()||this._renderAge()),pt.a.createElement(oc,null))}};var su=Object(Ys.a)(ea,bo,Yt(e=>{const{tld:t}=e.params;return{tld:t}}))(class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._sendShowStat=(()=>{const{logger:e,showUrl:t}=this.props;e.log("show"),Ue(t).catch(r.a.error)}),t}render(){const{logger:e,isIntersecting:t,isVisible:n}=this.props,r=Object.assign({},this.props,{onClick:()=>e.log("click")});return pt.a.createElement(Yo,{isVisible:n,onShow:this._sendShowStat},pt.a.createElement(ru,r))}});const ou=4,iu=_o("similar");var au=Yt((e,{id:t})=>{const n=e.feed.items[t],r=Fn(e,t),s=pn(e),o=Nn(e.feed);return Object.assign({pointerPosition:r,experiments:s,columnCount:o},n)})(class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._renderFilterMask=(()=>pt.a.createElement("div",{className:iu("filter-mask")})),this._renderSmallCard=((e,t)=>{const{rowIndex:n,experiments:r}=this.props,s=r.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_letter_spacing"),o=r.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_big_letter_spacing");return pt.a.createElement("div",{className:iu("card",{isLetterSpacingExp:s,isBigLetterSpacingExp:o}),key:`doc-${t}`},pt.a.createElement(tu,Et({},e,{rowIndex:n})),this._renderFilterMask())}),this._renderDirectCard=((e,t)=>{const{rowIndex:n}=this.props;return pt.a.createElement("div",{className:iu("card"),key:`direct-${t}`},pt.a.createElement(su,Et({},e,{rowIndex:n})),this._renderFilterMask())}),t}_getDocs(){const{items:e,columnCount:t}=this.props,{docs:n,direct:r}=e;let s;return s=r.length>0?ou-1:ou,r.length,n.slice(0,s)}_renderLeftPointer(e){return e===H.CENTER?null:pt.a.createElement("div",{className:iu("left-pointer")},pt.a.createElement("div",{className:iu("left-pointer-spacer")}),e===H.LEFT?pt.a.createElement("div",{className:iu("left-pointer-elem")}):null)}_renderRightPointer(e){return e===H.CENTER?null:pt.a.createElement("div",{className:iu("right-pointer")},e===H.RIGHT?pt.a.createElement("div",{className:iu("right-pointer-elem")}):null,pt.a.createElement("div",{className:iu("right-pointer-spacer")}))}render(){const{pointerPosition:e,items:t}=this.props,n=this._getDocs(),{direct:r}=t;return pt.a.createElement("div",{className:iu()},pt.a.createElement("div",{className:iu("title")},this._renderLeftPointer(e),pt.a.createElement("span",{className:iu("title-text")},"Вам может быть интересно"),this._renderRightPointer(e)),pt.a.createElement("div",{className:iu("cards")},n.map(this._renderSmallCard),r.map(this._renderDirectCard)))}});n(174);const cu=_o("placeholder-card");var lu=Yt(()=>{const e=Tr();return(t,{id:n,rowIndex:r})=>{const s=t.feed.items[n];return{index:jn(t.feed,n),logger:e(Object.assign({},s,{rowIndex:r}))}}})(class extends dt.Component{constructor(...e){var t;return t=super(...e),this._containerRef=pt.a.createRef(),this._getPlaceholderEventParams=(()=>{const{index:e,rowIndex:t,itemIndexInRow:n,logger:r}=this.props;return{index:e,rowIndex:t,itemIndexInRow:n,container:this._containerRef.current,size:this._getPlaceholderSize(),onShow:()=>r.log("partner_show"),onClick:()=>r.log("partner_click")}}),this._triggerRealShow=(()=>{this._containerRef.current&&(tt.emit(nt.PLACEHOLDER_SHOW,this._getPlaceholderEventParams()),this._realShowSent=!0)}),this._getLogger=(()=>{const{logger:e}=this.props,t=this._containerRef.current;return t&&t.hasChildNodes()?e:null}),this._onClick=(()=>{const e=this._getLogger();e&&e.log("click")}),this._getPlaceholderSize=(()=>{const{size:e}=this.props;switch(e){case U:return"big";case F:return"small";case z:return"free";default:return r.a.error("Unsupported placeholder size: ",e),null}}),t}shouldComponentUpdate(e){const{isVisible:t}=this.props,{isVisible:n}=e;return!this._realShowSent&&!t&&n}componentWillUnmount(){const{index:e}=this.props;tt.emit(nt.PLACEHOLDER_UNMOUNT,{index:e})}componentDidMount(){this._containerRef.current&&tt.emit(nt.PLACEHOLDER,this._getPlaceholderEventParams()),this._getPlaceholderSize()}render(){const{isVisible:e}=this.props,t=this._getLogger(),n=this._getPlaceholderSize(),r=this._containerRef.current,s=!r||!r.hasChildNodes();return pt.a.createElement(Yo,{isVisible:e,onShow:this._triggerRealShow,logger:t},pt.a.createElement("div",{className:cu({size:n,needBackground:s})},pt.a.createElement("div",{className:cu("background")}),pt.a.createElement("div",{className:cu("container"),ref:this._containerRef,onClick:this._onClick})))}});n(173);var uu={1:{[F]:{[H.LEFT]:{width:"100%"}}},2:{[F]:{[H.LEFT]:{width:"50%",justifyContent:"flex-start"},[H.RIGHT]:{width:"50%",justifyContent:"flex-end"}},[U]:{[H.LEFT]:{width:"100%",justifyContent:"center"}},[z]:{[H.LEFT]:{width:"100%",justifyContent:"center"}}},3:{[F]:{[H.LEFT]:{width:"33.333%",justifyContent:"flex-start"},[H.CENTER]:{width:"33.333%",justifyContent:"center"},[H.RIGHT]:{width:"33.333%",justifyContent:"flex-end"}},[U]:{[H.LEFT]:{width:"66.666%",justifyContent:"flex-start"},[H.RIGHT]:{width:"66.666%",justifyContent:"flex-end"}},[z]:{[H.LEFT]:{width:"100%",justifyContent:"center"}}}};const du=_o("user-question-view");const pu=()=>pt.a.createElement("div",{className:du("response")},"Спасибо за помощь!");var hu=class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._containerRef=(e=>{const{rootRef:t}=this.props;t&&t(e)}),this._renderUserQuestionAnswer=(({id:e,text:t,key:n})=>{const{onCheck:r}=this.props;return pt.a.createElement("div",{className:du("answer"),key:n,onClick:()=>{r(e,n,!0),Ls()}},t)}),t}_getContentSizeParams(){const{position:e,columnCount:t,parentItemSize:n}=this.props;return uu[t][n][e]}_renderQuestionContent(){const{answers:e,text:t}=this.props;return pt.a.createElement("div",{ref:this._containerRef},pt.a.createElement("div",{className:du("title")},t),pt.a.createElement("div",{className:du("answers")},e.map(({id:e,text:t,isChecked:n},r)=>this._renderUserQuestionAnswer({id:e,text:t,key:r,isChecked:n}))))}render(){const{width:e,justifyContent:t}=this._getContentSizeParams(),n=this.props.answers.some(e=>e.isChecked);return pt.a.createElement("div",{className:du(),style:{justifyContent:t}},pt.a.createElement("div",{className:du("content"),style:{width:e}},n?pt.a.createElement(pu,null):this._renderQuestionContent()))}};const mu={answerUserQuestion:Ls};var fu=Object(Ys.a)(Yt((e,{id:t})=>{const{parentId:n}=e.feed.items[t]||{};return{question:Ar(e,n),position:Fn(e,t),columnCount:Nn(e.feed),parentItemSize:((e,t)=>{const n=Bn(e,t);return Mn(e.feed).elements[n].size})(e,t)}},mu),qo,bo,Oa)(hu);n(172),n(171);const gu=_o("interest-tag"),_u=e=>{const{component:t,rootRef:n,title:r}=e,o=s(e,["component","rootRef","title"]),i=Lo(o,{className:gu()});return pt.a.createElement(t,Et({ref:n},i),pt.a.createElement("span",{className:gu("title")},r))};_u.defaultProps={component:"div"};var bu=_u;const vu=Object(Ys.a)(il,bo,ol,Oa)(e=>{const{title:t,target:n,feedLink:r}=e;return pt.a.createElement(bu,{component:"a",className:yu("interest"),style:{backgroundColor:"#dedede"},title:t,href:r,target:n,rel:"noopener"})}),yu=_o("similar-interests");var Eu=Yt((e,{id:t,rowIndex:n})=>{const r=e.feed.items[t];return Object.assign({},r,{rowIndex:n})})(class extends dt.PureComponent{render(){const{items:e,isMobile:t,itemsTarget:n}=this.props;return 0===e.length?null:pt.a.createElement("div",{className:yu({isMobile:t})},pt.a.createElement("div",{className:yu("title")},"Смотрите также"),pt.a.createElement("div",{className:yu("interests")},e.map(e=>pt.a.createElement(vu,Et({key:e.id},e,{component:"a",href:e.feedLink,target:n,rel:"noopener",place:"suggest",className:yu("interest")})))))}});const ku=e=>{class t extends dt.PureComponent{render(){const t=this.props,{adDidntLoad:n}=t,r=s(t,["adDidntLoad"]);return n?pt.a.createElement(e,r):pt.a.createElement(Jl,Et({},r,{mix:"feed__item-ad-container"}))}}t.displayName=`WithAdCard(${so(e)})`;return Yt((e,{id:t})=>{return{adDidntLoad:e.feed.items[t].adDidntLoad}})(t)};let Cu;Cu={[P]:Sc,[B]:Sc,[L]:sl,[M]:xl,similar:au,[D]:jl,hint_eula:cl,"card-placeholder":lu,placeholder:lu,"user-feedback-question":fu,similar_interests:Eu};const wu={[P]:ku(Sc),[B]:ku(Sc),[L]:ku(sl)},Su=_o("feed");var xu=class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this.state={hasError:!1},t}componentDidCatch(){this.setState({hasError:!0})}render(){if(this.state.hasError)return null;const{isVisible:e,isIntersecting:t,rowIndex:n,scrollToID:r,itemIndexInRow:s,item:{id:o,type:i,size:a,ad:c},styles:{feedItem:l}}=this.props,u=c&&(a===F||c.is_big)&&wu[i]||Cu[i];if(!u)return null;const d={zenScrollToTarget:r===o,size:a},p={id:o,size:a,ad:c,rowIndex:n,itemIndexInRow:s,isVisible:e,isIntersecting:t};return pt.a.createElement("div",{className:Su("item",d),style:l},pt.a.createElement(u,p))}};const Ou=_o("feed");var Iu=class extends dt.PureComponent{render(){const{row:e,rowIndex:t,rootRef:n,scrollToID:r,isVisible:s,isIntersecting:o,styles:i}=this.props,a=e.hasPlaceholder,c=Ou("row");let l=i.feedRow;return a&&(l=Object.assign({},l,{marginBottom:0})),pt.a.createElement("div",{className:c,ref:n,style:l},e.map((e,n)=>pt.a.createElement(xu,{key:e.id,item:e,rowIndex:t,itemIndexInRow:n,scrollToID:r,isVisible:s,isIntersecting:o,styles:i})))}};n(170);const Tu=_o("feed-empty");function Nu({size:e="m"}){return pt.a.createElement("h2",{className:Tu({size:e})},"Нет публикаций")}const Ru=bo(Iu);var Pu=class extends dt.PureComponent{componentDidMount(){this.props.onChange(null,this.props)}componentDidUpdate(e){this.props.onChange(e,this.props)}render(){const{grid:e,displayedRowsNumber:t,className:n,scrollToID:r,styles:s,visibilityThreshold:o,setFeedListContainer:i}=this.props,a=e.rows.slice(0,t).map((e,t)=>{const n=e.reduce((e,{id:t})=>e+t,"");return pt.a.createElement(Ru,{key:n,row:e,visibilityThreshold:o,rowIndex:t,scrollToID:r,styles:s})});return pt.a.createElement("div",{ref:i,className:n,style:s.feed},0===e.rows.length?pt.a.createElement(Nu,null):a)}};n(169);const Au=600;var Mu=bo(class extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._lastSessionId=null,t}_updateIfIntersecting(e=(this._lastSessionId=Math.random()),t=1){const{isIntersecting:n,onFeedEndReach:r}=this.props;n&&e===this._lastSessionId&&t<=5&&r().then(n=>{n&&setTimeout(()=>{this._updateIfIntersecting(e,t+1)},200)})}componentDidMount(){this._updateIfIntersecting()}componentDidUpdate(e){e.isIntersecting||this._updateIfIntersecting()}render(){const{rootRef:e}=this.props;return pt.a.createElement("div",{className:"more-mark-wrapper"},pt.a.createElement("div",{className:"more-mark",ref:e,style:{height:`${Au}px`}}))}});const Du=30,ju=_o("feed");var Lu=Yt(()=>{const e=((e,t,n)=>{const r=Object.keys(e);return Object(Zt.createSelector)(pn,s=>{for(let n of r){const r=`${t}:${n}`;if(s.isExp(r))return e[n]}return n})})({50:.5},"ab:rezen_item_visibility_threshold");return t=>{const{isMoreButtonVisible:n}=t.iface,{scrollToID:r}=t.shared,{displayedRowsNumber:s}=t.feed;return{isMoreButtonVisible:n,scrollToID:r,displayedRowsNumber:s,grid:Mn(t.feed),columnCount:Nn(t.feed),rubberyType:Ln(t),styles:R.get(t,"params.styles")||{},visibilityThreshold:e(t),experiments:pn(t)}}},{switchMoreButtonOffsetMode:sr,drawMoreItems:()=>(e,t)=>{const n=t(),{feed:r}=n,{displayedRowsNumber:s,gridType:o}=r,{rows:i}=Mn(r),a=s+xn(o,"rowDisplayStep"),c=[];if(a>i.length?c.push(new Promise(t=>{e(As({onAfterPackInsert:t}))})):c.push(Promise.resolve(!1)),s<=i.length){const n=zn();e(js(a)),c.push(n(t()).then(()=>!0))}else c.push(Promise.resolve(!1));return Promise.all(c).then(([e,t])=>e||t)},setCommentsCounts:(e={})=>async t=>{const{elements:n={}}=e,r=[];if(Object.keys(n).forEach(e=>{const t=n[e]&&n[e].commentsDocumentId;t&&!Fs.includes(t)&&(r.push(t),Fs.push(t))}),!r.length)return null;const s=await et.getCommentsCounters(r);s&&t({type:"SET_COMMENTS_COUNTS",payload:s})}})(class extends dt.Component{constructor(...e){var t;return t=super(...e),this._emitRowsChanged=(e=>{const{rows:t}=this.props.grid,{displayedRowsNumber:n}=this.props,r=R.get(e,"grid.rows"),s=e&&e.displayedRowsNumber;(!e||r!==t||s!==n)&&tt.emit(nt.ROWS_CHANGED,An(t,n))}),this._onFeedListChange=((e,t)=>{const{experiments:n,setCommentsCounts:r}=this.props;e&&e.grid===t.grid&&e.displayedRowsNumber===t.displayedRowsNumber||(ot.emit(it.FEED_CHANGED,t.grid,t.displayedRowsNumber),(n.isExp("ab:rezen_comments_counter:rezen_comments_counter")||n.isExp("zen_comments"))&&r(t.grid)),this._emitRowsChanged(e)}),t}initScrollEvents(){const{switchMoreButtonOffsetMode:e,scrollToID:t}=this.props;gs(),t&&hs({delta:Du,direction:1,once:!0},()=>{e("normal")})}componentDidMount(){const{scrollToID:e,switchMoreButtonOffsetMode:t}=this.props;this.initScrollEvents(),e&&t("header")}render(){const{grid:e,columnCount:t,rubberyType:n,scrollToID:r,displayedRowsNumber:s,setFeedListContainer:o,styles:i,visibilityThreshold:a,drawMoreItems:c}=this.props,l=ju({columns:t,rubberyType:n});return pt.a.createElement("div",null,pt.a.createElement(Pu,{className:l,grid:e,displayedRowsNumber:s,scrollToID:r,onChange:this._onFeedListChange,setFeedListContainer:o,styles:i,visibilityThreshold:a}),pt.a.createElement(Mu,{onFeedEndReach:c}))}});n(168);var Bu=()=>{const e=document.createElement("div");Object.assign(e.style,{position:"absolute",top:"-9999px",left:"-9999px",overflow:"scroll",visibility:"hidden",width:"100px",height:"100px"}),document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t};class Fu extends dt.Component{constructor(...e){var t;return t=super(...e),this.state={scrollbarWidth:null},t}componentDidMount(){this.setState({scrollbarWidth:Bu()})}render(){const e=this.props,{component:t,componentRef:n}=e,r=s(e,["component","componentRef"]),{scrollbarWidth:o}=this.state;let i;return i="number"==typeof o&&o>0?Lo(r,{style:{width:`calc(100vw - ${o}px)`}}):r,pt.a.createElement(t,Et({ref:n},i))}}Fu.defaultProps={component:"div"};var Uu=Object(dt.forwardRef)((e,t)=>pt.a.createElement(Fu,Et({},e,{componentRef:t}))),zu=n(43);n(167),n(166),n(165),n(164);const Hu=_o("info-button");var Vu=({isVisible:e,position:t,theme:n})=>{const r=Hu({visible:e,position:t,theme:n});return pt.a.createElement("div",{className:r},pt.a.createElement("a",{className:Hu("link"),href:"https://zen.yandex.com/about",target:"_blank"}))};const $u=()=>pt.a.createElement("div",{className:Hu("spacer")}),Gu=_o("more-button");class Wu extends dt.PureComponent{_renderInfoButton(){const{needInfoButton:e,theme:t}=this.props;return e?pt.a.createElement(Vu,{theme:t}):null}_renderInfoButtonSpacer(){const{needInfoButton:e}=this.props;return e?pt.a.createElement($u,null):null}render(){const{moreButtonOffsetMode:e,isMoreButtonVisible:t,position:n,isNavbarAtBottom:r,theme:s,onClick:o,isAdfoxOffsetNotifyButton:i}=this.props,a={visible:t,offsetMode:e,isOverNavbar:r,isOverAdfoxBanner:i,position:n,theme:s};return pt.a.createElement("div",{className:Gu(a)},this._renderInfoButton(),pt.a.createElement("div",{className:Gu("container")},pt.a.createElement("div",{className:Gu("content"),onClick:o},pt.a.createElement("div",{className:Gu("icon")}),pt.a.createElement("div",{className:Gu("text")},"новые публикации"))),this._renderInfoButtonSpacer())}}Wu.defaultProps={moreButtonOffsetMode:"normal",needInfoButton:!1};var qu=Wu;n(163),n(162);const Ku=_o("error-message");var Qu=e=>{const{isErrorMessageVisible:t,position:n,onClick:r,isNavbarAtBottom:s,isAdfoxOffsetNotifyButton:o,theme:i="black"}=e,a={visible:t,position:n,theme:i,"is-over-navbar":s,"is-over-adfox-banner":o};return pt.a.createElement("div",{className:Ku(a),onClick:r},pt.a.createElement("div",{className:Ku("container")},pt.a.createElement("div",{className:Ku("content")},pt.a.createElement("div",{className:Ku("icon")}),pt.a.createElement("div",{className:Ku("text")},"Новых публикаций пока нет"))))};const Yu=parseInt(zu.header.height),Zu=parseInt(zu.zenOne.header.height),Ju=_o("notifiers");class Xu extends dt.PureComponent{constructor(...e){var t;return t=super(...e),this._onMoreButtonClick=(()=>{const{getMore:e,hideMoreButton:t,logger:n,shouldRefreshFeed:r}=this.props;Ir("more-button")(n).log("client_click"),t(),e({insertOnTop:!0,onAfterPackInsert:Rs,shouldRefreshFeed:r})}),this._onErrorMessageClick=(()=>{const{getMore:e,hideErrorMessage:t}=this.props;e(),t()}),t}_addMoreButtonScrollEvents(){const{showMoreButton:e,hideMoreButton:t,switchMoreButtonOffsetMode:n,moreButtonResponsiveness:r,isZenOneEnabled:s}=this.props;hs({delta:r,direction:-1,onceDebounce:!0},e),hs({delta:r,direction:1,onceDebounce:!0},t),ps({scroll:(s?Yu:Zu)-30,precise:!0},({state:e})=>{n(0===e?"header":"normal")})}_renderErrorMessage(){const{theme:e,position:t,needErrorMessage:n,isNativeFeed:r,isErrorMessageVisible:s,isNavbarAtBottom:o,isAdfoxOffsetNotifyButton:i}=this.props;if(!n||r)return null;const a={theme:e,position:t,isErrorMessageVisible:s,isNavbarAtBottom:o,isAdfoxOffsetNotifyButton:i,onClick:this._onErrorMessageClick};return pt.a.createElement(Qu,a)}_renderMoreButton(){const{position:e,needMoreButton:t,isMoreButtonVisible:n,moreButtonOffsetMode:r,needInfoButton:s,theme:o,isNativeFeed:i,isAdfoxOffsetNotifyButton:a,isNavbarAtBottom:c}=this.props;if(!t||i)return null;const l={position:e,moreButtonOffsetMode:r,isMoreButtonVisible:n,needInfoButton:s,theme:o,isNavbarAtBottom:c,isAdfoxOffsetNotifyButton:a,onClick:this._onMoreButtonClick};return pt.a.createElement(qu,l)}componentDidMount(){const{needMoreButton:e,enableNotifiers:t,disableNotifiers:n}=this.props;e&&this._addMoreButtonScrollEvents(),rt.on(st.NOTIFIERS_ENABLED,()=>{t()}),rt.on(st.NOTIFIERS_DISABLED,()=>{n()})}render(){const{position:e,withScrollbarFix:t}=this.props,n=t?Uu:"div";return pt.a.createElement(n,{className:Ju({position:e})},pt.a.createElement("div",{className:Ju("container")},this._renderMoreButton(),this._renderErrorMessage()))}}Xu.defaultProps={theme:"black",position:"top",needErrorMessage:!0,moreButtonResponsiveness:30};var ed=Yt((e,t)=>{const n=wn(e),r=dn(e),s=Object(Zt.createSelector)(e=>e.params.bulk.bulk_params,e=>e.params.bulk.stat_events,(e,t)=>Er(e,t)),{moreButtonOffsetMode:o,isErrorMessageVisible:i,isMoreButtonVisible:a,isAdfoxSmartVisible:c}=e.iface,l=t&&t.location&&t.location.pathname,u=pn(e),d=Ir("notifiers")(s(e)),p=u.isExp("ab:rezen_unified:bottom"),h=u.isExp("ab:rezen_more_button_behavior:rezen_more_button_refresh_feed");return{isAdfoxOffsetNotifyButton:c,moreButtonOffsetMode:o,needMoreButton:mn(e)&&(!n||void 0===l||(e=>"/"===e||!!e.match(/^\/people\/[a-z]+\/?$/))(l)),isNativeFeed:r,isErrorMessageVisible:i,isMoreButtonVisible:a,isNavbarAtBottom:p,isZenOneEnabled:n,logger:d,shouldRefreshFeed:h}},{getMore:As,showMoreButton:()=>(e,t)=>{const n=t(),{isSpinnerVisible:r,isErrorMessageVisible:s,isNotifiersDisabled:o}=n.iface;r||s||o||e({type:"SHOW_MORE_BUTTON",payload:null})},hideMoreButton:rr,switchMoreButtonOffsetMode:sr,hideErrorMessage:or,disableNotifiers:()=>e=>{e(e=>{e({type:"HIDE_ERROR_MESSAGE",payload:null})}),e(e=>{e({type:"HIDE_MORE_BUTTON",payload:null})}),e({type:"DISABLE_NOTIFIERS",payload:null})},enableNotifiers:()=>({type:"ENABLE_NOTIFIERS",payload:null})},null,{pure:!1})(Xu);const td={clickmap:!1,trackLinks:!1,accurateTrackBounce:!0},nd={};var rd=e=>t=>{const{id:n}=e,r=`yaCounter${n}`,s=Object.assign({},td,e),o=async(...e)=>{nd[n]||(nd[n]=Vc("https://mc.yandex.ru/metrika/tag.js",{invalidate:!1}).then(()=>!(!window.Ya||!window.Ya.Metrika2)&&(window[r]=window[r]||new window.Ya.Metrika2(s),window[r])));const t=await nd[n];if(t&&"function"==typeof t.reachGoal)try{t.reachGoal(...e)}catch(e){Xt.a.error("withMetrikaGoal: Error while reaching metrika goal",e)}else Xt.a.error(`withMetrikaGoal: No metrika counter found for number ${n}`)};return Yt(e=>{const t=pn(e);return{experiments:t,disableMetrikaExp:t.isExp("rezen_disable_metrika")}})(class extends dt.Component{constructor(...e){var t;return t=super(...e),this._reachMetrikaGoal=((...e)=>{const{disableMetrika:t,disableMetrikaExp:n}=this.props;return t||n?null:o(...e)}),t}render(){return pt.a.createElement(t,Et({},this.props,{reachMetrikaGoal:this._reachMetrikaGoal}))}})};const sd=_o("zen-page");const od=Object(Ys.a)(Yt(e=>({theme:yn(e),libType:e.params.libType,notifiersPosition:e.params.notifiersPosition,isWhiteBackground:Sn(e)})),rd({id:50377519,clickmap:!1,trackLinks:!1,accurateTrackBounce:!0}))(class extends dt.Component{componentDidMount(){const{reachMetrikaGoal:e}=this.props;e&&e("LIB_SHOWED")}render(){const{theme:e,libType:t,notifiersPosition:n,isWhiteBackground:r}=this.props,s={theme:e,libType:t,whiteBackground:r};return pt.a.createElement("div",{className:sd(s)},pt.a.createElement("div",{className:"zen-app"},n?pt.a.createElement(ed,{position:n}):null,pt.a.createElement(Lu,null)))}});var id=n(28);var ad=e=>(t,n)=>{switch(n.type){case"MERGE_STATE_BRANCH":{const{branchName:e,branchState:r}=n.payload,s=Object.keys(r).reduce((e,t)=>(void 0!==r[t]&&(e[t]=r[t]),e),{});return R.set(t,[e],e=>Object.assign({},e,s))}default:return e(t,n)}};const cd={feedback:null,complaints:null,complaintsSendedAt:null};var ld=(e=cd,t)=>{switch(t.type){case"ITEM_FEEDBACK_LIKE":return Object.assign({},e,{feedback:"liked"});case"ITEM_FEEDBACK_DISLIKE":case"ITEM_FEEDBACK_CANCEL_BLOCK":return Object.assign({},e,{feedback:"disliked"});case"ITEM_FEEDBACK_BLOCK":return Object.assign({},e,{feedback:"blocked"});case"ITEM_FEEDBACK_CANCEL":return Object.assign({},e,{feedback:null,complaints:null});case"ITEM_COMPLAINTS_OPEN":return Object.assign({},e,{complaints:"opened"});case"ITEM_COMPLAINTS_SEND":return Object.assign({},e,{complaints:"sended",complaintsSendedAt:e.feedback});case"ITEM_COMPLAINTS_CANCEL":return Object.assign({},e,{complaints:null,complaintsSendedAt:null});case"ITEM_MITTENS_JUMP":{const{isMittensJumping:n}=t.payload;return Object.assign({},e,{isMittensJumping:n})}case"ITEM_FEEDBACK_ANSWER_TOGGLE":{const{targetKey:n,questionType:r}=t.payload,{questions:s=[]}=e.customUserFeedbackData,o=s.findIndex(({type:e})=>e===r);if(o<0)return e;const i=["customUserFeedbackData","questions",o,"answers",n,"isChecked"],a=R.get(e,i);return R.set(e,i,!a)}case"ITEM_FEEDBACK_ANSWERS_UNCHECK":{const{questions:t=[]}=e.customUserFeedbackData,n=t.findIndex(({type:e})=>"extended_dislike_feedback"===e);if(n<0)return e;const r=["customUserFeedbackData","questions",n,"answers"],s=(R.get(e,r)||[]).map(e=>Object.assign({},e,{isChecked:!1}));return R.set(e,r,s)}default:return e}};var ud=(...e)=>(t,n)=>e.reduce((e,t)=>t(e,n),t);var dd=ud(ld,(e={},t)=>{switch(t.type){case"DOC_READ":return Object.assign({},e,{read:!0});case"DOC_CLICK":return Object.assign({},e,{subscribeTriggerEvent:"click"});case"ITEM_FEEDBACK_LIKE":return Object.assign({},e,{subscribeTriggerEvent:"feedback_more"});default:return e}});var pd=ud(ld,(e={},t)=>{switch(t.type){case"VIDEO_READ":return Object.assign({},e,{read:!0,currentTime:t.payload.currentTime});case"VIDEO_START":return Object.assign({},e,{started:!0,paused:!1});case"VIDEO_RESET":case"ITEM_FEEDBACK_DISLIKE":case"ITEM_FEEDBACK_CANCEL_BLOCK":return Object.assign({},e,{started:!1,paused:!0});case"VIDEO_TOGGLE_MODAL":{const{paused:n,isFullScreen:r}=t.payload;return Object.assign({},e,{started:!0,paused:n,isFullScreen:r})}default:return e}});var hd=(e,t)=>{switch(e.type){case B:case P:case A:return dd(e,t);case L:return pd(e,t);default:return e}};var md=(e,t)=>t.reduce((e,[t,...n])=>R[t](e,...n),e);const fd={gridType:"two_column",items:{},itemsOrder:[],displayedRowsNumber:0,isChildWindow:!1},gd=(e,t,n,r=!0)=>{const s=e.indexOf(n),o=Number(r);if(-1===s)throw new Error("Array not contains item.");return e.slice(0,s+o).concat(t,e.slice(s+o))},_d=(e,t,n)=>gd(e,t,n,!1),bd=(e,t,n)=>gd(e,t,n,!0);var vd=(e=fd,t)=>{switch(t.type){case"PREPEND_ITEM":{const{item:n}=t.payload;return md(e,[["set",["items",n.id],n],["set","itemsOrder",e=>[n.id].concat(e)]])}case"APPEND_ITEM":{const{item:n}=t.payload;return md(e,[["set",["items",n.id],n],["set","itemsOrder",e=>e.concat(n.id)]])}case"INSERT_ITEM_BEFORE":{const{item:n,beforeId:r}=t.payload;return md(e,[["set",["items",n.id],n],["set","itemsOrder",e=>_d(e,n.id,r)]])}case"INSERT_ITEM_AFTER":{const{item:n,afterId:r}=t.payload;return md(e,[["set",["items",n.id],n],["set","itemsOrder",e=>bd(e,n.id,r)]])}case"REMOVE_ITEM":{const{itemId:n}=t.payload,r=e.itemsOrder.indexOf(n);return md(e,[["del",["items",n]],["del",["itemsOrder",r]]])}case"REPLACE_ITEM":{const{item:n,replaceId:r}=t.payload,s=e.itemsOrder.indexOf(r);return md(e,[["del",["items",r]],["set",["items",n.id],n],["set",["itemsOrder",s],n.id]])}case"RECEIVE_ITEMS":{const{items:n,insertOnTop:o,shouldRefreshFeed:i}=t.payload,a=Object.keys(e.items),c={},l=[];if(n.forEach(e=>{let t,{source:n}=e,o=s(e,["source"]);a.includes(o.id)||l.includes(o.id)?(r.a.warn(`Non unique item: ${o.id}, ${o.title}`),t=`${o.id}_${Date.now()}`):t=o.id,c[t]=Object.assign({},o,{id:t,source:n?n.id:void 0}),l.push(t)}),i)return Object.assign({},e,{items:c,itemsOrder:l});const u=Object.assign({},e.items,c),d=o?l.concat(e.itemsOrder):e.itemsOrder.concat(l);return Object.assign({},e,{items:u,itemsOrder:d})}case"REQUEST_SIMILAR":case"RECEIVE_SIMILAR":{const{itemId:n}=t.payload,r=["items",n,"isSimilarRequested"],s="REQUEST_SIMILAR"===t.type;return R.set(e,r,s)}case"LINK_CHILD_ITEM":{const{itemId:n,childItemId:r}=t.payload;return md(e,[["set",["items",n,"childItemId"],r],["set",["items",r,"parentId"],n]])}case"UNLINK_CHILD_ITEM":{const{itemId:n}=t.payload,{childItemId:r}=e.items[n];return md(e,[["del",["items",n,"childItemId"]],["del",["items",r,"parentId"]]])}case"REPORT_AD_DIDNT_LOAD":{const{itemId:n}=t.payload;return md(e,[["set",["items",n,"adDidntLoad"],!0]])}case"ANSWER_USER_QUESTION":{const{id:n,parentId:r}=t.payload;return md(e,[["set",["items",n,"isAnswered"],!0],["set",["items",r,"isUserQuestionAnswered"],!0]])}case"SET_GRID_TYPE":{const{gridType:n}=t.payload;return Object.assign({},e,{gridType:n})}case"SET_DISPLAYED_ROWS_NUMBER":{const{displayedRowsNumber:n}=t.payload;return Object.assign({},e,{displayedRowsNumber:n})}case"SET_IS_CHILD_WINDOW":{const{isChildWindow:n}=t.payload;return Object.assign({},e,{isChildWindow:n})}case"CLEAR_FEED":return fd;default:{const n=t.payload&&t.payload.id,r=t.payload&&t.payload.ids;if(n&&e.items[n]){const r=e.items[n];if(!r)return e;const s=hd(r,t);return r!==s?R.set(e,["items",n],s):e}if(Array.isArray(r)){const n=e.items,s={};let o=!1;for(let e=0;e<r.length;e++){const i=r[e],a=n[i];a&&a!==(s[i]=hd(a,t))&&(o=!0)}return o?Object.assign({},e,{items:Object.assign({},n,s)}):e}return e}}};const yd={moreButtonOffsetMode:"header",isAdfoxSmartVisible:!1,isMoreButtonVisible:!1,isSpinnerVisible:!1,isErrorMessageVisible:!1,isNotifiersDisabled:!1,isBodyScrollEnabled:!0,isVideoAutoplayEnabled:null,isOpenCardScrollEnabled:!0,feedbackMenuItemId:null,channelTooltipVisible:!1,subsTooltipVisible:!1};var Ed=(e=yd,t)=>{switch(t.type){case"SHOW_MORE_BUTTON":return Object.assign({},e,{isMoreButtonVisible:!0});case"HIDE_MORE_BUTTON":return Object.assign({},e,{isMoreButtonVisible:!1});case"ENABLE_ADFOX_SMART_BOTTOM_OFFSET":return Object.assign({},e,{isAdfoxSmartVisible:!0});case"DISABLE_ADFOX_SMART_BOTTOM_OFFSET":return Object.assign({},e,{isAdfoxSmartVisible:!1});case"SWITCH_MORE_BUTTON_OFFSET_MODE":{const{offsetMode:n}=t.payload;return Object.assign({},e,{moreButtonOffsetMode:n})}case"SHOW_SPINNER":return Object.assign({},e,{isSpinnerVisible:!0});case"HIDE_SPINNER":return Object.assign({},e,{isSpinnerVisible:!1});case"SHOW_ERROR_MESSAGE":return Object.assign({},e,{isErrorMessageVisible:!0});case"HIDE_ERROR_MESSAGE":return Object.assign({},e,{isErrorMessageVisible:!1});case"ENABLE_NOTIFIERS":return Object.assign({},e,{isNotifiersDisabled:!1});case"DISABLE_NOTIFIERS":return Object.assign({},e,{isNotifiersDisabled:!0});case"DISABLE_BODY_SCROLL":return Object.assign({},e,{isBodyScrollEnabled:!1});case"ENABLE_BODY_SCROLL":return Object.assign({},e,{isBodyScrollEnabled:!0});case"VIDEO_AUTOPLAY_ON":return Object.assign({},e,{isVideoAutoplayEnabled:!0});case"VIDEO_AUTOPLAY_OFF":return Object.assign({},e,{isVideoAutoplayEnabled:!1});case"DISABLE_OPEN_CARD_SCROLL":return Object.assign({},e,{isOpenCardScrollEnabled:!1});case"ENABLE_OPEN_CARD_SCROLL":return Object.assign({},e,{isOpenCardScrollEnabled:!0});case"SET_CHANNEL_TOOLTIP_VISIBLE":{const{payload:n}=t;return Object.assign({},e,{channelTooltipVisible:!!n,subsTooltipVisible:!1})}case"SET_SUBS_TOOLTIP_VISIBLE":{const{payload:n}=t;return Object.assign({},e,{subsTooltipVisible:!!n,channelTooltipVisible:!1})}default:return e}};const kd={checkedSources:[]};var Cd=(e=kd,t)=>{switch(t.type){case"CHECK_SOURCE":{const{id:n}=t.payload,{checkedSources:r}=e;return{checkedSources:[...r,n]}}case"UNCHECK_SOURCE":{const{id:n}=t.payload,{checkedSources:r}=e,s=r.slice(0);return s.splice(r.indexOf(n),1),{checkedSources:s}}default:return e}};const wd=Kn("categories",()=>et.getCategories(),e=>e.categories,({sources:e,list:t})=>({sources:e&&e.map(e=>e.id),list:t})),Sd=qn(()=>async e=>{e({type:wd.succeed,payload:await et.getCategories()})}),xd=Kn("preferences",()=>et.getPreferences(),e=>e.preferences,()=>null),Od=qn(()=>e=>et.getPreferences().then(t=>{e({type:xd.succeed,payload:t})})),Id=(qn(()=>(e,t)=>e(Od()).then(()=>{const n=t();if(0===hr(n).length)return e(Sd())})),e=>({type:"suggest-set-filter",payload:e})),Td=((e,t,n=Gn,r=1e3)=>{const o=Wn(e,t,n),{action:i}=o,a=s(o,["action"]);return Object.assign({action:qn(i,r)},a)})("suggest",async(e,t)=>{if(""!==e)return Me(t?et.getBlockedSuggest(e):et.getSuggest(e))},e=>e&&e.map(e=>e.id),500),Nd=Object.assign({},Td,{action:(e,t=!1)=>n=>{n(Id(e)),n(Td.action(e,t))},retryAction:e=>(t,n)=>{const r=n(),{filter:s}=r.search;t(Td.action(s,e))}});let Rd;qn((e,t=!1)=>async n=>{if(""===e)return void n({type:Nd.succeed,payload:void 0});const r=Rd=Me(t?et.getBlockedSuggest(e):et.getSuggest(e)),s=await r;r===Rd&&n({type:Nd.succeed,payload:s})},500);const Pd=Kn("category",e=>et.getCategory(e),(e,t)=>e.category[t]||{status:"pending"},({sources:e,category:t})=>({sources:e&&e.map(e=>e.id),category:t})),Ad=(qn(e=>t=>et.getCategory(e).then(n=>{t({type:Pd.succeed,payload:n,meta:e})})),{});var Md=ud((e=Ad,t)=>{switch(t.type){case xd.succeed:{const n=t.payload,r=Object.keys(e).reduce((t,n)=>{const r=e[n];return"not_subscribed"===r.status?t[n]=r:t[n]=Object.assign({},r,{status:"not_subscribed"}),t},{});return n?n.reduce((e,t)=>(e[t.id]=t,e),Object.assign({},r)):r}case Pd.succeed:case wd.succeed:{const{sources:n}=t.payload;return n?n.reduce((e,t)=>(e[t.id]=t,e),Object.assign({},e)):e}case Nd.succeed:{const n=t.payload;return n?n.reduce((e,t)=>(e[t.id]=t,e),Object.assign({},e)):e}case"APPLY_EXPORT_DATA":{const{onboardingInterests:n}=t.payload;return n?n.sources.reduce((e,t)=>(e[t.id]=t,e),Object.assign({},e)):e}case"VIDEO_MODAL_SET_SOURCES":{const{sources:n=[]}=t.payload;return Object.assign({},e,n)}case"RECEIVE_ITEMS":{const{items:n=[]}=t.payload,r=n.reduce((t,{source:n,statEvents:r,bulkParams:s})=>!n||e[n.id]?t:(t[n.id]=Object.assign({},n,{statEvents:r,bulkParams:s}),t),{});return Object.assign({},e,r)}case"RECEIVE_SIMILAR":{const{similar:n={}}=t.payload,{items:r={}}=n,{sources:s=[]}=r,o=s.reduce((e,t)=>(e[t.id]=Object.assign({},t),e),{});return Object.assign({},e,o)}case"SOURCE_MERGE":{const n=t.payload;return Object.assign({},e,{[n.id]:n})}default:return e}},((e,t)=>(n={},r)=>{const s=e(r);if(void 0===s)return n;const o=t(n[s],r);return n[s]!==o?Object.assign({},n,{[s]:o}):n})(e=>e.payload&&e.payload.id,(e,t)=>{if(!e)return e;switch(t.type){case"SOURCE_SUBSCRIBE":return Object.assign({},e,{status:"subscribed",subscribers:(e.subscribers||0)+1,isSubscribedInCurrentSession:!0});case"SOURCE_UNSUBSCRIBE":return Object.assign({},e,{status:"not_subscribed",subscribers:(e.subscribers||0)-1,isUnsubscribedInCurrentSession:!0});case"SOURCE_BLOCK":return Object.assign({},e,{status:"blocked"});case"SOURCE_UNBLOCK":return Object.assign({},e,{status:"not_subscribed",isUnblockedInCurrentSession:!0});default:return e}}));const Dd={openedItemId:null,videoFeed:{}};const jd={};var Ld=(e=jd,t)=>{switch(t.type){case"SET_COMMENTS_COUNTS":return Object.assign({},e,t.payload);case"INIT_COMMENTS":return Object.assign({},e,{commentsContent:t.payload});default:return e}};var Bd=(e={})=>(t,n)=>void 0===t?"function"==typeof e?e():e:t;const Fd=Bd({onboarding:null,more:null,bulk:null}),Ud=Bd({host:"https://zen.yandex.ru/",clid:null,countryCode:null,integration:null,product:null,tld:"ru",lang:"ru",isIceStart:!1,zenFeatures:{},clientExperiments:[],experimentsData:{},clientDefinition:{},complaints:[],bannerStats:null,bulk:{}}),zd=Bd({scrollToID:null}),Hd=Bd({}),Vd=(Bd({}),Bd({})),$d=Bd({}),Gd=Object(Ys.a)(ad,id.a)({feed:vd,iface:Ed,iceboarding:Cd,links:Fd,params:Ud,shared:zd,context:Hd,user:Vd,sources:Md,request:$d,videoCards:(e=el,t)=>{switch(t.type){case"VIDEO_CARD_CHANGE_VISIBILITY":{const n=tl(e,t,"visibleCardIndices","visible"),{id:r,visible:s,index:o}=t.payload,{visibleCardIndices:i}=n,{interactionCardId:a,activeCard:c}=e;if(!a){if(!s&&c.id===r)return Object.assign({},n,{activeCard:Object.assign({},el.activeCard)});const e=o===Math.min(...Object.values(i));if(s&&e)return Object.assign({},n,{activeCard:Object.assign({},el.activeCard,{id:r})})}return n}case"VIDEO_CARD_CHANGE_INTERSECTING":{const n=tl(e,t,"intersectingCardIndices","intersecting"),{interactionCardId:r}=e,{id:s,intersecting:o}=t.payload;return o||s!==r?n:Object.assign({},n,{interactionCardId:null})}case"VIDEO_CARD_CHANGE_INTERACTION":return Object.assign({},e,{interactionCardId:t.payload.id});case"VIDEO_CHANGE_ACTIVE_CARD":return Object.assign({},e,{activeCard:t.payload});default:return e}},videoModal:(e=Dd,t)=>{switch(t.type){case"VIDEO_MODAL_TOGGLE":{const{openedItem:e}=t.payload;if(!e)return Dd;const n=e.id;return{openedItemId:n,videoFeed:{[n]:e}}}case"VIDEO_MODAL_CHANGE":{const{openedItemId:n}=t.payload;return Object.assign({},e,{openedItemId:n})}case"VIDEO_MODAL_GET_RECOMMEND":{const{videoFeed:n}=t.payload;return Object.assign({},e,{videoFeed:Object.assign({},e.videoFeed,n)})}default:{const n=t.payload&&t.payload.id;if(!n||!e.videoFeed[n])return e;const r=e.videoFeed[n],s=hd(r,t);return r!==s?R.set(e,["videoFeed",n],s):e}}},commentsData:Ld});var Wd=n(29);window[Wd.NAMESPACE]||(window[Wd.NAMESPACE]={}),window[Wd.NAMESPACE].lib=new class{constructor(e,t){this._app=null,this._store=null,this._App=e,this._reducer=t}init(e,t){const n={product:ct,host:e.host,clid:e.clid,referrerClid:e.referrerClid,referrerPlace:e.referrerPlace,countryCode:e.countryCode,lang:e.lang,teethType:e.teethType,zenFeatures:e.zenFeatures,clientExperiments:e.exps,libType:e.libType,notifiersPosition:e.notifiersPosition,styles:e.styles,isMobile:e.isMobile,isAdaptiveDesign:e.isAdaptiveDesign,disableMetrika:e.disableMetrika,cspNonce:e.cspNonce};let s;e.userInfo&&(s={oauthToken:e.userInfo.oauthToken,login:e.userInfo.login,deviceId:e.userInfo.deviceId,profileId:e.userInfo.profileId,yandexuid:e.userInfo.yandexuid,partnerId:e.userInfo.partnerId}),"object"==typeof e.loggerParams&&r.a.configure(e.loggerParams);const{app:o,store:i}=io({settings:{exportData:t,params:n,user:s,initialDisplayedRowsNumber:e.initialDisplayedRowsNumber},App:this._App,reducer:this._reducer,middlewares:no,instances:{zenApi:et}});ho(et,i),et.configure(t=>Object.assign({},t,{cache:e.cache,chromeExtensionId:e.chromeExtensionId,feedFilter:e.feedFilter,referrerPlace:e.referrerPlace,referrerClid:e.referrerClid,isAdblockEnabled:e.isAdblock})),et.addListener(ye.BULK_EVENT_LOGGED,({event:e,statMeta:t})=>{tt.emit(nt.STAT,{eventName:e,statMeta:t})}),et.addListener(ye.NOT_SHOWN_PACK_UPDATED,(e,t)=>{tt.emit(nt.CACHE_PUT,t)}),et.packUsed(i.getState().request.rid),this._app=o,this._store=i}render(e){uo(this._app,e)}setParams(e){ao(e,this._store)}on(e,t,n){tt.on(e,t,n)}off(e,t){tt.off(e,t)}addListener(...e){return this.on(...e)}removeListener(...e){return this.off(...e)}trigger(e,...t){rt.emit(e,t)}}(od,Gd)},,function(e,t,n){t.f=n(11)},function(e,t,n){var r=n(7),s=n(21),o=n(41),i=n(80),a=n(20).f;e.exports=function(e){var t=s.Symbol||(s.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:i.f(e)})}},function(e,t,n){n(81)("asyncIterator")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r="transform",s=void 0,o=void 0,i=void 0,a=void 0,c=void 0,l=void 0,u=void 0,d=void 0,p=void 0,h=void 0,m=void 0;if(function(e){return e&&e.__esModule?e:{default:e}}(n(48)).default){var f=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),r=void 0,s=void 0,o="",i=0;i<n.length;i++){var a=n[i];if(a+"TransitionProperty"in e){o="-"+a.toLowerCase(),r=t[a]("TransitionEnd"),s=t[a]("AnimationEnd");break}}!r&&"transitionProperty"in e&&(r="transitionend");!s&&"animationName"in e&&(s="animationend");return e=null,{animationEnd:s,transitionEnd:r,prefix:o}}();s=f.prefix,t.transitionEnd=o=f.transitionEnd,t.animationEnd=i=f.animationEnd,t.transform=r=s+"-"+r,t.transitionProperty=a=s+"-transition-property",t.transitionDuration=c=s+"-transition-duration",t.transitionDelay=u=s+"-transition-delay",t.transitionTiming=l=s+"-transition-timing-function",t.animationName=d=s+"-animation-name",t.animationDuration=p=s+"-animation-duration",t.animationTiming=h=s+"-animation-delay",t.animationDelay=m=s+"-animation-timing-function"}t.transform=r,t.transitionProperty=a,t.transitionTiming=l,t.transitionDelay=u,t.transitionDuration=c,t.transitionEnd=o,t.animationName=d,t.animationDuration=p,t.animationTiming=h,t.animationDelay=m,t.animationEnd=i,t.default={transform:r,end:o,property:a,timing:l,delay:u,duration:c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,s="clearTimeout",o=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-a)),r=setTimeout(e,n);return a=t,r},i=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};(function(e){return e&&e.__esModule?e:{default:e}})(n(48)).default&&["","webkit","moz","o","ms"].some(function(e){var t=i(e,"request");if(t in window)return s=i(e,"cancel"),o=function(e){return window[t](e)}});var a=(new Date).getTime();(r=function(e){return o(e)}).cancel=function(e){window[s]&&"function"==typeof window[s]&&window[s](e)},t.default=r,e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,r.default)(e)||(e.className=e.className+" "+t)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(86));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=p(n(87)),o=p(n(85)),i=p(n(84)),a=n(83),c=p(n(0)),l=p(n(16)),u=n(25),d=n(47);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=[];a.transitionEnd&&m.push(a.transitionEnd),a.animationEnd&&m.push(a.animationEnd);l.default.node,d.nameShape.isRequired,l.default.bool,l.default.bool,l.default.bool,l.default.number,l.default.number,l.default.number;var f=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,o=Array(s),i=0;i<s;i++)o[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(o))),r.componentWillAppear=function(e){r.props.appear?r.transition("appear",e,r.props.appearTimeout):e()},r.componentWillEnter=function(e){r.props.enter?r.transition("enter",e,r.props.enterTimeout):e()},r.componentWillLeave=function(e){r.props.leave?r.transition("leave",e,r.props.leaveTimeout):e()},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,u.findDOMNode)(this);if(r){var i=this.props.name[e]||this.props.name+"-"+e,c=this.props.name[e+"Active"]||i+"-active",l=null,d=void 0;(0,s.default)(r,i),this.queueClassAndNode(c,r);var p=function(e){e&&e.target!==r||(clearTimeout(l),d&&d(),(0,o.default)(r,i),(0,o.default)(r,c),d&&d(),t&&t())};n?(l=setTimeout(p,n),this.transitionTimeouts.push(l)):a.transitionEnd&&(d=function(e,t){return m.length?m.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){m.length&&m.forEach(function(n){return e.removeEventListener(n,t,!1)})}}(r,p))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,i.default)(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,s.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=r({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,c.default.cloneElement(c.default.Children.only(this.props.children),e)},t}(c.default.Component);f.displayName="CSSTransitionGroupChild",f.propTypes={},t.default=f,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return r.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},s=[];for(var o in e)t.hasOwnProperty(o)?s.length&&(r[o]=s,s=[]):s.push(o);var i=void 0,a={};for(var c in t){if(r.hasOwnProperty(c))for(i=0;i<r[c].length;i++){var l=r[c][i];a[r[c][i]]=n(l)}a[c]=n(c)}for(i=0;i<s.length;i++)a[s[i]]=n(s[i]);return a};var r=n(0)},function(e,t,n){"use strict";e.exports=function(){}},function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter(function(e){return null!=e})).length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=c(n(91)),o=c(n(0)),i=c(n(16)),a=(c(n(90)),n(89));function c(e){return e&&e.__esModule?e:{default:e}}i.default.any,i.default.func,i.default.node;var l=function(e){function t(n,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,s));return o.performAppear=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(o._handleDoneAppearing.bind(o,e,t)):o._handleDoneAppearing(e,t)},o._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete o.currentlyTransitioningKeys[e];var n=(0,a.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performEnter=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(o._handleDoneEntering.bind(o,e,t)):o._handleDoneEntering(e,t)},o._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete o.currentlyTransitioningKeys[e];var n=(0,a.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performLeave=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(o._handleDoneLeaving.bind(o,e,t)):o._handleDoneLeaving(e,t)},o._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete o.currentlyTransitioningKeys[e];var n=(0,a.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)?o.keysToEnter.push(e):o.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},o.childRefs=Object.create(null),o.state={children:(0,a.getChildMapping)(n.children)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,a.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,a.mergeChildMappings)(n,t)}),t){var s=n&&n.hasOwnProperty(r);!t[r]||s||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var o in n){var i=t&&t.hasOwnProperty(o);!n[o]||i||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[],n=function(n){var r=e.state.children[n];if(r){var i="string"!=typeof r.ref,a=e.props.childFactory(r),c=function(t){e.childRefs[n]=t};a===r&&i&&(c=(0,s.default)(r.ref,c)),t.push(o.default.cloneElement(a,{key:n,ref:c}))}};for(var i in this.state.children)n(i);var a=r({},this.props);return delete a.transitionLeave,delete a.transitionName,delete a.transitionAppear,delete a.transitionEnter,delete a.childFactory,delete a.transitionLeaveTimeout,delete a.transitionEnterTimeout,delete a.transitionAppearTimeout,delete a.component,o.default.createElement(this.props.component,a,t)},t}(o.default.Component);l.displayName="TransitionGroup",l.propTypes={},l.defaultProps={component:"span",childFactory:function(e){return e}},t.default=l,e.exports=t.default},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,s,o,i,a,c){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,s,o,i,a,c],d=0;(l=new Error(t.replace(/%s/g,function(){return u[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";function r(e){return function(){return e}}var s=function(){};s.thatReturns=r,s.thatReturnsFalse=r(!1),s.thatReturnsTrue=r(!0),s.thatReturnsNull=r(null),s.thatReturnsThis=function(){return this},s.thatReturnsArgument=function(e){return e},e.exports=s},function(e,t,n){"use strict";var r=n(95),s=n(94),o=n(93);e.exports=function(){function e(e,t,n,r,i,a){a!==o&&s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=l(n(0)),o=l(n(16)),i=l(n(92)),a=l(n(88)),c=n(47);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}c.nameShape.isRequired,o.default.bool,o.default.bool,o.default.bool,(0,c.transitionTimeout)("Appear"),(0,c.transitionTimeout)("Enter"),(0,c.transitionTimeout)("Leave");var d=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=u(this,e.call.apply(e,[this].concat(i))),r._wrapChild=function(e){return s.default.createElement(a.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return s.default.createElement(i.default,r({},this.props,{childFactory:this._wrapChild}))},t}(s.default.Component);d.displayName="CSSTransitionGroup",d.propTypes={},d.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.default=d,e.exports=t.default},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(49),s=Object.prototype,o=s.hasOwnProperty,i=s.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var s=i.call(e);return r&&(t?e[a]=n:delete e[a]),s}},function(e,t,n){var r=n(49),s=n(100),o=n(99),i="[object Null]",a="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?a:i:c&&c in Object(e)?s(e):o(e)}},function(e,t,n){var r=n(101),s=n(98),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||s(e)&&r(e)==o}},function(e,t,n){var r=n(51),s=n(102),o=NaN,i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=c.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?o:+e}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(14))},function(e,t,n){var r=n(50);e.exports=function(){return r.Date.now()}},,function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){"use strict";var r=n(59),s=n(58),o=n(53),i=n(18),a=[].sort,c=[1,2,3];r(r.P+r.F*(i(function(){c.sort(void 0)})||!i(function(){c.sort(null)})||!n(107)(a)),"Array",{sort:function(e){return void 0===e?a.call(o(this)):a.call(o(this),s(e))}})},function(e,t,n){"use strict";var r=n(4).compose;t.__esModule=!0,t.composeWithDevTools=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer=function(){return function(e){return e}}},function(e,t,n){"use strict";
/** @license React v16.6.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,s=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,f=r?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case d:case i:case c:case a:return e;default:switch(e=e&&e.$$typeof){case u:case p:case l:return e;default:return t}}case o:return t}}}function _(e){return g(e)===d}t.typeOf=g,t.AsyncMode=d,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=s,t.ForwardRef=p,t.Fragment=i,t.Profiler=c,t.Portal=o,t.StrictMode=a,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===c||e===a||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p)},t.isAsyncMode=function(e){return _(e)},t.isConcurrentMode=_,t.isContextConsumer=function(e){return g(e)===u},t.isContextProvider=function(e){return g(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===s},t.isForwardRef=function(e){return g(e)===p},t.isFragment=function(e){return g(e)===i},t.isProfiler=function(e){return g(e)===c},t.isPortal=function(e){return g(e)===o},t.isStrictMode=function(e){return g(e)===a}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(111);function s(){}e.exports=function(){function e(e,t,n,s,o,i){if(i!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=s,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var s,o=function(e){return e&&e.__esModule?e:{default:e}}(n(113));s="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var i=(0,o.default)(s);t.default=i}).call(this,n(14),n(114)(e))},function(e,t,n){var r=n(17),s=n(53),o=n(34)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=s(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t,n){var r=n(7).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(56),s=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?s(e+t,0):o(e,t)}},function(e,t,n){var r=n(56),s=Math.min;e.exports=function(e){return e>0?s(r(e),9007199254740991):0}},function(e,t,n){var r=n(36),s=n(119),o=n(118);e.exports=function(e){return function(t,n,i){var a,c=r(t),l=s(c.length),u=o(i,l);if(e&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(17),s=n(36),o=n(120)(!1),i=n(34)("IE_PROTO");e.exports=function(e,t){var n,a=s(e),c=0,l=[];for(n in a)n!=i&&r(a,n)&&l.push(n);for(;t.length>c;)r(a,n=t[c++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){var r=n(20),s=n(39),o=n(57);e.exports=n(19)?Object.defineProperties:function(e,t){s(e);for(var n,i=o(t),a=i.length,c=0;a>c;)r.f(e,n=i[c++],t[n]);return e}},function(e,t,n){var r=n(39),s=n(122),o=n(55),i=n(34)("IE_PROTO"),a=function(){},c=function(){var e,t=n(62)("iframe"),r=o.length;for(t.style.display="none",n(117).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=r(e),n=new a,a.prototype=null,n[i]=e):n=c(),void 0===t?n:s(n,t)}},function(e,t,n){"use strict";var r=n(123),s=n(61),o=n(54),i={};n(10)(i,n(11)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(i,{next:s(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(58);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,s){return e.call(t,n,r,s)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";var r=n(41),s=n(59),o=n(35),i=n(10),a=n(37),c=n(124),l=n(54),u=n(116),d=n(11)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,m,f,g,_){c(n,t,m);var b,v,y,E=function(e){if(!p&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",C="values"==f,w=!1,S=e.prototype,x=S[d]||S["@@iterator"]||f&&S[f],O=x||E(f),I=f?C?E("entries"):O:void 0,T="Array"==t&&S.entries||x;if(T&&(y=u(T.call(new e)))!==Object.prototype&&y.next&&(l(y,k,!0),r||"function"==typeof y[d]||i(y,d,h)),C&&x&&"values"!==x.name&&(w=!0,O=function(){return x.call(this)}),r&&!_||!p&&!w&&S[d]||i(S,d,O),a[t]=O,a[k]=h,f)if(b={values:C?O:E("values"),keys:g?O:E("keys"),entries:I},_)for(v in b)v in S||o(S,v,b[v]);else s(s.P+s.F*(p||w),t,b);return b}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(127);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(38);e.exports=function(e,t){if(!r(e))return e;var n,s;if(t&&"function"==typeof(n=e.toString)&&!r(s=n.call(e)))return s;if("function"==typeof(n=e.valueOf)&&!r(s=n.call(e)))return s;if(!t&&"function"==typeof(n=e.toString)&&!r(s=n.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){e.exports=!n(19)&&!n(18)(function(){return 7!=Object.defineProperty(n(62)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(11)("unscopables"),s=Array.prototype;void 0==s[r]&&n(10)(s,r,{}),e.exports=function(e){s[r][e]=!0}},function(e,t,n){"use strict";var r=n(132),s=n(129),o=n(37),i=n(36);e.exports=n(126)(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,s(1)):s(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}))},function(e,t,n){"use strict";n.r(t);n(134)},function(e,t,n){n(135),n(77),e.exports=n(78)},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){}]);